<?xml version="1.0" encoding="UTF-8"?>
<?xfa generator="AdobeLiveCycleDesigner_V11.0.0.20130303.1.892433" APIVersion="3.6.13061.0"?>
<xdp:xdp xmlns:xdp="http://ns.adobe.com/xdp/" timeStamp="2013-12-09T19:51:12Z" uuid="4f625bef-38e5-44a1-ba46-2cb741743c7b">
<template xmlns="http://www.xfa.org/schema/xfa-template/2.8/">
   <?formServer defaultPDFRenderFormat acrobat9.0static?>
   <?formServer allowRenderCaching 0?>
   <?formServer formModel both?>
   <subform layout="tb" locale="en_CA" name="DrugAppl" restoreState="auto">
      <pageSet>
         <pageArea id="Page1" name="Page1">
            <draw h="5.2917mm" name="imgHCLogo" w="98.425mm" x="6.09mm" y="4.76mm">
               <value>
                  <image aspect="actual" contentType="image/gif">R0lGODlhdAEUAMQAAP8ICAAAAP/39//n5/9CQv8pKf+1tf8YGP8QEP97e/+MjP+9vf+trf9KSv8x
Mf/v7//Ozv9ra/9jY/+lpf9aWpmZmczMzDMzM2ZmZv8AAP///wAAAAAAAAAAAAAAAAAAACH5BAAA
AAAALAAAAAB0ARQAAAX/YAMcZIkcg6CtLKu2rYGc5YEAcK5rl8VilR3MgtH4NJWgcCnEBAI9JuvI
uiil2Kx2y+16v+CweOvImM9mQEonUEx2AgMAje5aoitMUWoJIIt6Yy0YUYRUSxUXU1eCjY6PkJGS
kQR0Z2psDwgFAi8wcpYZOF0BVIF/GEcVej53d1arsYJWP616SkmsPLREQJO/wMHCw2CVoZgwCwoJ
cwkKEDmgoXYXQEnVGoSriokW3X27RNWJjF8VAUlHd9dBUNviFn3Xh8T19vf4YsaWyDEAc6IQQPsE
0JKXAIT0IORxpEe8eA65KTrla0yiCwvjGaFVyoifRNn2nMpHsqTJk/vo/yBTISBFATQEWrJcIc0g
F1c/Ul2oZuiOQogh/+TZE4bKOnEJGW4MSogn0ZNQo0qlFErUAA0CGCxI0GCAgksMBjRQsGBgTToH
TRXxsyIINobgQFIsR42KFUIrOLb6OHGPxqmAAwvekhINpgcNbmSgEAEggAgNRAFIoGJB1QxpqwC6
q2ickwp3svWg+PSLtm2ixSnqGLcHOXKDY8ueraHwpasCmJ1BYPiSAqwLCqLtwshb21O9vIFWAuTv
XzHbUg0FXQR0WyNJjNyizb07VNtpcOu+nOaNgOBVvatfz749E/BWsY4nj4ABTeF13Ovfzz82fGQP
KHAAeQUw8MJZ+dkRC/895gjijS5jPNffhBS28N9VK8RRRigEDHRfesTtlEhHYtBS1E4K0dVFRRW2
OOGFLWQ1h2OiLEAQiFy8hYQi2KnTIwvpLIITEipKgVdbUSi3QivWLdlkjxUF6eKU68HYAgMIjEVA
Awk4cICN/uCoBUgt+JBIUgnt5ANPUVzUUzVqbtHHIWbCWR2KHaUZxCuf8aAHHlQGOpuVLjzQiTOd
PBANfmeEqIN0IJ2TVzwiFcFLKcZpQGIW4OTQJF8+BLIHSLxYQcRQgqbqX1X9wCAAY0Ig2CgXZE6h
XVNBZRPEKk7oVMWuhGyKxZBL3oqRUEL1shAevmxjoqrQSkWoqwc44MmNjdPctGk3psolEju9aFoF
POvkeIUrrIQWWkhHkdoQuCNFK29JDjBq1bUuSEDZDgzYOwoXhngEWiF95XXNRpYuV8qlRQpxTivY
dCTpKseB9EpQryni07wckyRBASCHXEC1GLKBbwwii3yAaVCgkweKsIgEEZszG+KmjloE+9bNuRy3
y59u7RQRmx0XbU8IADs=</image>
               </value>
               <ui>
                  <imageEdit/>
               </ui>
            </draw>
            <draw name="imgHCLogo_fr" y="4.76mm" x="6.35mm" w="47.625mm" h="6.35mm">
               <value>
                  <image contentType="image/gif">R0lGODlhnQAUANUAAP////j/+P/39/f39//v7+/v7//n5+bm5t7e3v/OztbW1szMzP+9vcXFxf+1
tf+trb29vf+lpbW1ta2traampv+MjJmZmf97e4yMjP9ra4SEhP9jY/9aWnt7e3Nzc/9KSv9CQmZm
Zv8xMVpaWv8pKVJSUkpKSv8YGEJCQv8QEP8ICDo6Ov8AADMzMykpKSEhIRkZGRAQEAgICAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH5BAAHAP8ALAAAAACdABQAAAb/wI/q
RCymTgYBYMlkKptNR+pYPKVU0Kx2sCwUAlood1wYcAGI5TnMHqPNgPIBsN7SD+YCQKFnN0UsgYKB
KklaAhURYQIOKoODfmFmJjEyLgqRZwMTc3QmLZF+awgoHnQAEC11YmodIQcIEgcjFmVwbCCPgoWH
BCkkAk9QjbosWKFZIy0hHi0mnZJcCiYLYAUtEl9gyGpMYy6mdBIut1plACEhBSUYBSgYcatZucW8
UAwVF44XFQlZxMW4NSkQg8KSAzIW7NHQwSAACxM6aFgwwIOMEUs60OomkBWMDn0gvFiCAIMGCF0s
dMCAJx2EGCsWlAiBwYNCP/R02YuiwpGx/xT+hvnU1ZGJCRgeIMB5aWIEUoIyQrR4gSDEjBIHSrQo
4cJEuY6aXKCwQDbEyAUvUBzlBMOF1hUFPIyYMMNFgxIxSqx4gQlXMWMGligRkITEIBCEBy8BSLSo
mQ4vZMjQAEACBjMhVgyI0WFOjAYLYhSgIEPBAQp8i3pTs2LGixkxXrw48OnAuksavFiIoSCECQAf
B6B4BUCGwzA5H/ES8IDBhQ8GKux6YOBDBQZBGT9SXUChbQszLKBr27W4+AEwFiAQraFu7BcS5CEL
S3wABRcFXMiAwb/EQ9ktyADATMB5MMAK8ACXIHJ/8ULAB1ewwEEGPqmQwQfGqHCBEgz8xf+CahLE
gJIZLnTQQXoAKDPAZEvA0IACMwCAwQx4IOCBbao1sVk4ADTwwgAtjKAHBBRYIEM2EMxQQAglENQB
AC1oYMYLlPlVT2AC6CNICoMMpUIFAAjAwFDbqYZCDMyUAIONMViAwX4FzFCliKGFsMAyFqiJgHyZ
MFHACyFwUcAEMow22W4aYFCQBSvEUNUIA7zQQgMrdMCFDDxqkVyXWGrpISGKiEkmJKoNkCegDcQR
QikUdIDASWZ4oMAAGgjZmwkepJGjjh1YcMYCTw4gAQrv6KHBcBbcOAEFA0BQwrLixSUBTg12Omox
KTyw2LWBlJqFJm6cA8cYcHjBUVF9AID/xyl0jDtuu2bEy9FXVuoUGAAEVHDCpyQ88IR2pOYIgQYa
6LrGOX7GcYq8TMTCLp9quKGGAibuOa8YA+gxhy1+FjAivOxuusu9YToASDEgBLXtXzmS8sJeL0wA
bjfx1nzwKR3E0IkeNYtCB14roCADS1/d0scqPAsbw7npikwIyWE+4EiFxjAgFMuOfWJxCDLYdsAC
3Zkxh3oH7THrxApoAEMcBShwkyQceQDDujlXEwACC6xrmwIIaNw22WjAIgEM8aqn6xJOAwbFAylY
B8IHF4hwgtU8Yd2RAjFMAG98DbSwQgstKOCjCy3EIKUFab3cNworuADDSKh/sgI0UBwd/8cM8GQc
AAQFNCCWCy/wHsNUMIQQAFqgT4qOC3uBAgHpzL+d+E6CERAMP8EQ8A+3HxZFl8GnjJBbfhgsMINB
FmXlawHGUaAzAJQUsAInB8wgM8R3HKlwvB54UEbxKzKQBWCggBGAJFIWaEAM8sa1ANDEDG1hwvSg
1gQBTIgNABOEaiCQEI5prAMlONMEFiCDNOQMDRowQWsm4BszaGAkCvBA62QgnlAcIAbZUJe6zICB
FZQgKgOYgQR2RyNTfeJIauOCBH50AAyoEE1nmOAiTiACYVwtIOgamh485iLWYcBHFjDfrF4ovxVY
AAIwSBYKuICBub2AFhIITzTKFSSFKdwABhLgCgYmAKggTmB3pdELBp43AQ0sbQA+KiMGlvibJYiA
W4WwohM2sKEwSK0ejpFReBrgoxbc0H+EooD5TNi1odlHiHHM25kacKQAvMlXdaDXQ3C3AAi07o7q
eEmgaNisGWDOQEnqgPkokBUYsM9AEpDBCpiwARI485kkoCIFKyjJKEATmifIUQEw0AIYtMBVBbAA
sdKhAQW4oG8YeMU4VpAOCyDAAp5bxgI0sAJ2ekAWOmIDBdT0AlkNYAH1nEkJpvFHCIxgAeNoSjoU
AAEUOKNJjKqUCda4hCAAADs=</image>
               </value>
               <ui>
                  <imageEdit/>
               </ui>
               <desc>
                  <text name="embeddedHref">..\FIP logos\print-fip-sig-fra.gif</text>
               </desc>
            </draw>
            <contentArea h="255.06mm" w="203.2mm" x="6.349mm" y="12.148mm"/>
            <medium long="792pt" short="612pt" stock="default"/>
            <draw h="11.1125mm" name="imgCanada" w="38.1mm" y="267.982mm" x="0.024mm">
               <ui>
                  <imageEdit/>
               </ui>
               <desc>
                  <text name="embeddedHref">G:\dev\images\Canada_wordmark_bw.gif</text>
               </desc>
               <value>
                  <image contentType="image/gif">R0lGODlh4AA9APcAAP///wAAAPz8/P7+/vr6+ri4uPv7+2VlZfT09NPT0/39/ff399vb2+vr6wMD
AxgYGBkZGWBgYJqamjQ0NNbW1vLy8gYGBqCgoBwcHAQEBG5ubgUFBQEBAXp6euLi4h8fH6amptXV
1QgICA0NDfn5+QICAufn5+jo6CMjIxUVFfb29hoaGr29vW9vbxISEg8PDy0tLfPz893d3erq6ioq
KgkJCfX19Q4ODubm5h0dHd/f319fX21tbXJyctDQ0NTU1CAgIKOjowwMDE1NTS4uLh4eHjs7OwsL
CzAwMBQUFO/v76enp3FxcVJSUlZWVhAQEMnJyeXl5a2trT4+PlVVVfj4+M7OzvHx8VtbW8/Pz9nZ
2TU1NZOTk+Pj4+7u7unp6UlJSXV1dVBQUBYWFvDw8AcHB+Tk5BsbG0BAQGlpaezs7LCwsLa2tru7
u2dnZ4GBgYWFhbW1tX9/f4uLiygoKKKioiYmJsLCwoeHhywsLNfX156enpWVlUhISHR0dOHh4UdH
R4aGhqysrJeXlzo6OmhoaAoKCtjY2Hh4eJKSkkNDQ8DAwISEhKmpqV1dXcjIyDg4OEFBQbKysr+/
vzExMSsrKykpKSEhIc3NzZ+fn3l5eV5eXi8vLxcXF4qKisfHx3Nzc8zMzGpqajIyMktLSyIiInd3
d8XFxVhYWJaWljY2NkVFRWZmZldXV76+vlpaWoCAgNzc3NHR0T8/PzMzM8vLy7e3t7OzsxMTE5SU
lH5+foiIiDc3N0xMTE9PT52dnUpKSlxcXMPDwxEREYKCgiQkJO3t7aurq2RkZMbGxpmZmWxsbERE
RKqqqllZWTw8PLS0tMTExHZ2dkJCQqioqN7e3pGRkbq6uq6uricnJ9LS0j09Pa+vr2FhYWtra6Sk
pGJiYsHBwX19fXBwcJiYmI2Njdra2nx8fLm5uZycnFNTU7GxsWNjY1FRUaWlpYmJiY+Pj+Dg4Jub
m4ODg05OTkZGRjk5OVRUVCUlJcrKyqGhoQAAAAAAAAAAAAAAAAAAACwAAAAA4AA9AAAI/wABCBxI
sKDBgwgTKlzIsKHDhxAjSpxIsaLFixgzatzIsaPHjyBDihxJsqTJkyhTqlzJsqXLlzBjypxJs6bN
mzhz6tzJs6fPn0ALGlhAlCiJoEiTQpwBZQ0cUBqi8pBzK5wOAgP/hDiqtOvPAZi4oOrEIcCNCbQI
EXERoMY2Rmx8dNmBpYHXiSR8pPI0SIJfCXsELkj0l8udhbX6SiAHosvdgXoY2SkbYAKsNmSUkDjB
IgydAAGOjHoWoImxxxEXtClEYwPo1wIbvAZ9oOCSEwR5zD4j5TECZZZeu0BEYcDBEFgszMbiBfXE
CuJGzI49O0BtgSEk3PCTQIDADrM/FP+4i0ODkNe0BGFNeKVHhteqcDinaGQ6ANmzrxNYAwT0JBvf
hTdeVz/08R5oSJxi3EIxePMaBPHMN9EbR8B2X3WFALCEL6jkAFoLbrQAAHividdVLJHMdsSADSkB
Bmg5/CGhREEkYSF+r7kBwAEBlOFAABsoN8KIAiplDCvVpbKgQ7UEV4wHM0b0Q3+gUTdbhjtUBxok
RJbIIlAG/FJdEyZIJApoh0QJURfF3FgdKwDgUMiBoCkSQpegmYiUFSLMNoYtE6mhSgB3qumQByi4
mZ9ACeSRggvKJRCgl0h58Up1jpw2UQ8B/GDooYlWeeGiACgwgwBO3BGFd3gGoCdQWWj/GURFWYjw
yacNIaroa9cN5ISkA5GY55c9IYBMdUakWRESg3CFa0K6ioojbQVpEwNBpsxWRBxBmfDjbBpcJIks
rA40wAACpJuuAhEtKRC66q7rLkIDKBBvuvMyVG+8S0YbwEL2CmCvAvkmJYAUWs7REQkNJLNHIaCY
wgQTXEChxgIFV4FABZkdIkksAAywAA7XdNACDxq0wAQfhyzA7kEGIJBAECqb4ocGmkxiAgIvJ6RA
BSZwA4soPKQhBxtmLACAvweJ/MUncCwDih88BALCCRUY4JUNWc42zDEcqVHOE6CN8Yo4pKQAYxoJ
zEuCBGnMAoRrAeyAACbdGJKBEXa4/9AnaBuA8chBAjRCRAltKQKLG6E6MEsbBQsUAwuEgFaCEC64
YAiQrWihQ6j/FjRACDt8W8kQVMBwoBHNXNFVBVtUh0QWG+nRJmhGrAeAD7y8JoIU5QJAAs3VzRJM
GQ8MosJAPjSBOGgYcEsQAuo8b0GhANiAx2xMaG3QCV0HgAEe8gHwxS79vXAOBhYOREAmL4DmwBtV
DLSHjQFwQMsXSpFB5WswCIVGBoCP14xhcASRxBle4wCQFYQAXNASKWQkFGfMBg3LG4gbZpOLni1t
ArPhgkFkgITXAGEdBoFCCatTEBYspzkEcY/lhqAUNWgpgBo5xYE4gAaDIEAMs7mFB/8F8ojqXAIK
CMHBbHIAKMlN4TUjgOFADGCN2SBDaQMhQR8o8wRsIEQCZLOPQFTAiNlIwCBWqMFriuC9oEwLNDjM
iAcWGIAHoNAgPHpNOnQ3kBDgDzTESEgFQCi/QBDEEa+hn0GuMZsdXGsgiFBOABwAJ4Qo4IliBIAA
6vAaRTDgIOcBzQP0kBQvSPI1RMDERqTgBGfUASEamM0F+CgQPazgNS+4RUJUkEfQjIMgFDCFI96A
gIO48DURKKZAzHBL0LzAdQlhwrdENZAThKEPEagFQqQDGgh8EilX4ER1snGKk5zpNbM0CAUe8JoJ
aCMhCwgDqRwSh9kkcyA9+FsAXrH/kCWorX0EEUAbDRLKAHgzKRWARHVSsAaTkGEIsqQlANb5mi14
CiEEkMA8GUIAeNhTmQCAwWwWsRAflCKTDfmBGrv5zaDYABVa4oNJLsBN0KSzIBQFzQSABbNGbHQh
1QBdAO4JgCw0EzQDPcgXaIBShrximgdFCgk8oSVNlKQNTI2oOtmpU54axAAg+Cm9tOCL6hCVGmwB
zRkY0oCsUpMhCphDhR7U0qD8QEubyGBHDHCCPwiCChughFsDcFNgcrUyXhVKWHmlkBmcwBUHGMML
APFRgehipQGYQkMGBVCE2CAE5CCNGOgUVaSowQ7VoYQPLlIAWbwsGucAxjaIgIIb/6DhFyrYIDol
mlPEJgSsYo0FH5wwC07k4QZ0SIQW1lBZAIzjlJFoSOU6KxAyCKIFvTDCBFIwhiGwQQUFLW1QFjAP
Lb3SIpWgxgBw4IQiYHYF8miAd2K52622M7EEAS5jpygHGryAMg6Qhg68c0zQELUFp1SEdFGqAHRs
IQl0ikQbGsCumoo3KD7QEjjIUJFFPEEGtTjpayywiVUNhL425e1hd/rbxVJLIBVoRXVSCSCBFHio
ysTDXANAB4YoIQ+ZVEEi6DTJOXhhSRaua1AqoJvZrGASFaHCKhYwCsoEQAQ9MAiKCavi+7Z4npqo
zjNm0MLm1mEYDGSICYIDUCtYuf+OYCtIkr1ihfjNRhMSbcgiLBAHSezYAWI4yJYLO5Deshgh+n1x
CGJXIjMY5MZEPcEHZoPfgsgAte1DAChmY4F0HGTOXRkAJ6vTUIkAYhQ26AHdAtCJCghaqzhdcaUF
kmjrCMQdfwzAHfIFaZAyYzawWEgcICBGE4gYNOzYJl3vUgU5VKcSFIiIg1wBgAgcyAFYQEiTU2zf
rn55v8ooaDbUcJA2NBcAd/hnAFYQOYF4YscBkIFATHCJ1yQhzgRd9l2UkIbqiEHeDklFCXShtFz8
zQKDOIgMMAmaTEg0BOrewqwBYIBvkCofIgXNJh5JkCts2ZEE2cSBNrALhfSiOkv/EIgSmvAaGiCw
IAXQ5wPMgRoC4OGUAVDFD9otGDgEgAmuXhr+HBCMg1hj1QEIBBYBsJ5FzIYIVtjlOUEDjoHIGDQr
wE1BZGFn0DBDBwSpACUoA4FZC+PYoAm08BJhwN4YBAzPC0AKhGGuIQYFGkig0xMak9RSVQAKlA0D
xwHgh+fhQlkDWUQeSqDPFITAOCo4owmoUJ0O5HkA0agOJLQgkGYcVQLOGgADKH+DEQdGIFIwgR62
UBYOjMLRBYkBZbXEAoF4wB7I5OMAGCGCtALJEQORxa28MgNGEOEJz4NBKqzAgBOYwAM/4IYYynCJ
IOQLGH+jQQLMEIUElKMIKJBA/zCmyYtTJIAYIvDBMrQUgDAwoH7vagAbPFSdIVwFAHsgdgAskAkZ
REELjUAIN9ABnoBZuJAJfxBWh1EBTfBPECAFOmACUSADtkAJAVAEm7MbycA/RvUaaaADJxAFDNAC
hgAIglBvoHEDcFANwsALaYAaHvALQwADH+AaHAAEYAAMVGAHI8AJ76AECYEIlVB6ZWAEqEALOdAD
jjEDPUAHQkAZdNAJgRAB4oMBVmiFK1AGkRAOrNIFc7ACuJADV4gBZ2AIaCBAABAEU9AJiGMJTrAK
OeAESEQAQZAHw/A8RfAExFBjGoIGH1AGAeAC9TAFQJABL8AJn8Bw8lMDb/BJFOWgCCngGkVACq0A
A0ggAfUDBdPwAHQzAhiABkpGHq7AB4GABWDADEOgC7lAOwwRBXyADL3gC4jQDPxDEFrABQfQBKww
BzpgDkuADgUQjMIYjI0wCViUAEsADcM4jI3gCsqkAtggB/fQBzygDLA3EDOgD2HgDI6ACAkwRAYQ
DXAQAWCwCtPQDbsADa4WBKsACaTQBMuAB4kgCMkAY2wgDVTQB+3gB2ywdKWyBh1AD+rgBt9AZs9y
kBhxBQ3AcwjZkA75kBAZkRI5kRRZkRZ5kRiZkRq5kRzZkR75kSAZkiI5kiTZFQEBADs=</image>
               </value>
            </draw>
            <draw name="Pages" x="9.547mm" y="269.229mm">
               <font typeface="Myriad Pro"/>
               <margin bottomInset="0mm" leftInset="0mm" rightInset="0mm" topInset="0mm"/>
               <para vAlign="middle"/>
               <ui>
                  <textEdit>
                     <margin/>
                  </textEdit>
               </ui>
               <value>
                  <exData contentType="text/html" maxLength="0">
                     <body xmlns="http://www.w3.org/1999/xhtml" xmlns:xfa="http://www.xfa.org/schema/xfa-data/1.0/"><p>Page<span style="xfa-spacerun:yes"> </span><span xfa:embedType="uri" xfa:embedMode="raw" xfa:embed="#floatingField007816"/> of<span style="xfa-spacerun:yes"> </span><span xfa:embedType="uri" xfa:embedMode="raw" xfa:embed="#floatingField032425"/></p></body>
                  </exData>
               </value>
            </draw>
            <field presence="hidden" access="readOnly" h="7.5mm" id="floatingField007816" name="CurrentPage" w="55mm" x="72.796mm" y="591.292mm">
               <calculate override="error"/>
               <caption reserve="20mm">
                  <para vAlign="middle"/>
                  <value>
                     <text>Text Field</text>
                  </value>
               </caption>
               <font typeface="Myriad Pro"/>
               <margin bottomInset="1mm" leftInset="1mm" rightInset="1mm" topInset="1mm"/>
               <para vAlign="middle"/>
               <ui>
                  <numericEdit>
                     <border>
                        <edge stroke="lowered"/>
                     </border>
                     <margin/>
                  </numericEdit>
               </ui>
               <bind match="none"/>
               <event ref="$layout" activity="ready" name="event__layout_ready">
                  <script contentType="application/x-javascript">this.rawValue = xfa.layout.page(this);

</script>
               </event>
               <?templateDesigner floatingFieldPlaceholder #?></field>
            <field presence="hidden" access="readOnly" h="7.5mm" id="floatingField032425" name="PageCount" w="55mm" x="72.796mm" y="591.292mm">
               <calculate override="error"/>
               <caption reserve="20mm">
                  <para vAlign="middle"/>
                  <value>
                     <text>Text Field</text>
                  </value>
               </caption>
               <font typeface="Myriad Pro"/>
               <margin bottomInset="1mm" leftInset="1mm" rightInset="1mm" topInset="1mm"/>
               <para vAlign="middle"/>
               <ui>
                  <numericEdit>
                     <border>
                        <edge stroke="lowered"/>
                     </border>
                     <margin/>
                  </numericEdit>
               </ui>
               <bind match="none"/>
               <event ref="$layout" activity="ready" name="event__layout_ready">
                  <script contentType="application/x-javascript">this.rawValue = xfa.layout.pageCount();
var cDrugApplModel=script.DrugAppl.model.DrugApplMain;
var language = cDrugApplModel.getLanguage();

Pages.presence = "hidden";
imgCanada.presence = "invisible";
imgHCLogo.presence = "invisible";
imgHCLogo_fr.presence = "invisible";

//console.println("PageCount::ready:layout&gt;&gt;language = " + language);
if (language === "en") {
	console.println("PageCount::ready:layout&gt;&gt;language = " + language);
    imgHCLogo.presence = "visible";
    Pages.value.exData.loadXML(Pages.value.exData.resolveNode("##xHTML").saveXML().replace("sur", "of"));
} else {
	console.println("PageCount::ready:layout&gt;&gt;language = " + language);
    imgHCLogo_fr.presence = "visible";
    Pages.value.exData.loadXML(Pages.value.exData.resolveNode("##xHTML").saveXML().replace("of", "sur"));
}

if (xfa.layout.page(this) === 1) {
    imgCanada.presence = "visible";  
} else {
    Pages.presence = "visible";
}
</script>
               </event>
               <?templateDesigner floatingFieldPlaceholder ##?></field>
            <field access="protected" h="6.35mm" name="txtFinalizeDate" w="44.45mm" x="79.399mm" y="273.039mm">
               <font typeface="Myriad Pro" size="8pt"/>
               <margin bottomInset="1mm" leftInset="0mm" rightInset="0mm" topInset="1mm"/>
               <para vAlign="middle"/>
               <ui>
                  <textEdit>
                     <border presence="hidden">
                        <?templateDesigner StyleID aped0?></border>
                     <margin/>
                  </textEdit>
               </ui>
               <bind match="global"/>
               <format>
                  <picture>9999999</picture>
               </format>
               <assist>
                  <speak disable="1"/>
               </assist>
            </field>
            <field name="txtAccessDate" y="273.039mm" x="168.299mm" w="41.275mm" h="6.35mm" access="protected">
               <ui>
                  <textEdit>
                     <border presence="hidden">
                        <?templateDesigner StyleID aped0?></border>
                     <margin/>
                  </textEdit>
               </ui>
               <font size="8pt" typeface="Myriad Pro"/>
               <margin topInset="1mm" bottomInset="1mm" leftInset="1mm" rightInset="1mm"/>
               <bind match="none"/>
               <event activity="initialize" name="event__initialize">
                  <script contentType="application/x-javascript">

if (this.rawValue == null) {
var cDrugApplModel=script.DrugAppl.model.DrugApplMain;
var language = cDrugApplModel.getLanguage();
	var accessDate = "";
	accessDate = new Date();
	accessDate = util.printd("yyyy-mm-dd", accessDate);
	
	if (language == "en") {
		this.rawValue = "Access date: " + accessDate;
	} else {
		this.rawValue = "Date d'accès: " + accessDate
	}
}
</script>
               </event>
               <para vAlign="middle"/>
               <assist>
                  <speak disable="1"/>
               </assist>
            </field>
            <field name="lblVersion" y="273.039mm" x="123.849mm" w="44.45mm" h="6.35mm" access="protected">
               <ui>
                  <textEdit>
                     <margin/>
                  </textEdit>
               </ui>
               <font typeface="Myriad Pro" size="8pt"/>
               <margin bottomInset="0.5mm" leftInset="0.5mm" rightInset="0.5mm" topInset="0.5002mm"/>
               <event activity="initialize" name="event__initialize">
                  <script contentType="application/x-javascript">var cDrugApplModel=script.DrugAppl.model.DrugApplMain;
var language = cDrugApplModel.getLanguage();
if (language == "en") {
    this.rawValue = "VERSION 1.15 FINAL";
} else {
    this.rawValue = "Version 1.15 - Ébauche";
}

</script>
               </event>
               <bind match="none"/>
               <para vAlign="middle"/>
               <assist>
                  <speak disable="1"/>
               </assist>
            </field>
            <field name="txtTitle" y="266.689mm" x="123.849mm" w="85.725mm" h="6.35mm" access="protected">
               <ui>
                  <textEdit>
                     <border presence="hidden">
                        <?templateDesigner StyleID aped0?></border>
                     <margin/>
                  </textEdit>
               </ui>
               <font typeface="Myriad Pro" size="8pt"/>
               <margin topInset="1mm" bottomInset="1mm" leftInset="1mm" rightInset="1mm"/>
               <para vAlign="middle"/>
               <bind match="none"/>
               <assist>
                  <speak disable="1"/>
               </assist>
               <event activity="initialize" name="event__initialize">
                  <script contentType="application/x-javascript">var cDrugApplModel=script.DrugAppl.model.DrugApplMain;
var language = cDrugApplModel.getLanguage();
if (language == "en") {
    this.rawValue = "Drug Master File (DMF) Application Form";
} else {
    this.rawValue = "Demande D’enregistrement de Fiche Maîtresse de Médicament (FMM)";
}
</script>
               </event>
            </field>
            <?templateDesigner expand 1?></pageArea>
         <?templateDesigner expand 1?></pageSet>
      <subform w="576pt" name="sfPage1" layout="tb">
         <subform w="202.984mm" name="sfDMFAppTitle" layout="lr-tb">
            <subform w="202.883mm" layout="tb" name="sfTxtDMFTitle">
               <margin bottomInset="5.08mm"/>
               <draw h="13.451mm" name="txtDMFAppTitle" w="202.883mm">
                  <ui>
                     <textEdit/>
                  </ui>
                  <value>
                     <text>Drug Master File (DMF) Application Form</text>
                  </value>
                  <font baselineShift="0pt" size="16pt" typeface="Arial Black"/>
                  <margin bottomInset="0.5mm" leftInset="0.5mm" rightInset="0.5mm" topInset="1.27mm"/>
                  <para hAlign="center" marginLeft="0pt" marginRight="0pt" spaceAbove="0pt" spaceBelow="0pt" textIndent="0pt"/>
                  <assist role="H1"/>
                  <?renderCache.bounds 572267 33112 0 0 1417 3600 0 0?>
                  <?renderCache.textRun 39 Drug Master File (DMF) Application Form 0 110215 16209 0 0 0 "Arial Black" 0 0 16000 ISO-8859-1?></draw>
               <?templateDesigner expand 1?></subform>
            <subform w="202.879mm" layout="lr-tb" relevant="-print" name="sfPageLang">
               <exclGroup name="pageLanguage" layout="lr-tb">
                  <bind match="dataRef" ref="$.SAR_REQUEST.LANGUAGE"/>
                  <field h="6mm" name="chkEnglish" w="23.28mm" locale="en_CA" relevant="-print">
                     <caption placement="right" reserve="16.812mm">
                        <font size="8pt" typeface="Myriad Pro"/>
                        <para vAlign="middle"/>
                        <value>
                           <text>English</text>
                        </value>
                     </caption>
                     <font typeface="Myriad Pro"/>
                     <items>
                        <text>en</text>
                     </items>
                     <margin leftInset="1mm" rightInset="1mm"/>
                     <para vAlign="middle"/>
                     <ui>
                        <checkButton shape="round" size="3.5278mm">
                           <border>
                              <fill>
                                 <color value="255, 255, 255"/>
                              </fill>
                           </border>
                        </checkButton>
                     </ui>
                     <bind match="none"/>
                     <value>
                        <text xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">en</text>
                     </value>
                     <event activity="click" name="event__click">
                        <script contentType="application/x-javascript">var cLog = script.core.util.Log;

var englishPresence = this.resolveNode("sfInstructions.sfInstructionsContent.lblInstructions_en").presence; 

var frenchPresence = this.resolveNode("sfInstructions.sfInstructionsContent.lblInstructions_fr").presence; 

//cLog.trace("start clicking in English +++++++");
if (frenchPresence == "visible") {
cLog.trace("start clicking in English +++++++" + frenchPresence );
	this.resolveNode("sfInstructions.sfInstructionsContent.lblInstructions_fr").presence= "hidden";
	this.resolveNode("sfInstructions.sfInstructionsContent.lblInstructions_en").presence= "visible";
}



this.resolveNode("sfInstructions.sfInstructionBtns.txtGuideDocFrench").presence = "hidden";
this.resolveNode("sfInstructions.sfInstructionBtns.txtGuideDocEnglish").presence = "visible";
this.resolveNode("sfInstructions").relevant = "-print";

</script>
                     </event>
                  </field>
                  <field h="6mm" name="chkFrancais" w="23.279mm" locale="fr_CA" relevant="-print">
                     <caption placement="right" reserve="16.7484mm">
                        <font size="8pt" typeface="Myriad Pro"/>
                        <para vAlign="middle"/>
                        <value>
                           <text>Français</text>
                        </value>
                     </caption>
                     <font typeface="Myriad Pro"/>
                     <items>
                        <text>fr</text>
                     </items>
                     <margin leftInset="1mm" rightInset="1mm"/>
                     <para vAlign="middle"/>
                     <ui>
                        <checkButton shape="round" size="3.5278mm">
                           <border>
                              <fill>
                                 <color value="255, 255, 255"/>
                              </fill>
                           </border>
                           <margin/>
                        </checkButton>
                     </ui>
                     <bind match="none"/>
                     <event activity="click" name="event__click">
                        <script contentType="application/x-javascript">var cLog = script.core.util.Log;


var englishPresence = this.resolveNode("sfInstructions.sfInstructionsContent.lblInstructions_en").presence; 

var frenchPresence = this.resolveNode("sfInstructions.sfInstructionsContent.lblInstructions_fr").presence; 

//cLog.trace("start clicking in English +++++++");
if (englishPresence == "visible") {
cLog.trace("start clicking in English +++++++" + frenchPresence );
	this.resolveNode("sfInstructions.sfInstructionsContent.lblInstructions_fr").presence= "visible";
	this.resolveNode("sfInstructions.sfInstructionsContent.lblInstructions_en").presence= "hidden";
}

this.resolveNode("sfInstructions.sfInstructionBtns.txtGuideDocEnglish").presence = "hidden";
this.resolveNode("sfInstructions.sfInstructionBtns.txtGuideDocFrench").presence = "visible";
this.resolveNode("sfInstructions").relevant = "-print";


</script>
                     </event>
                  </field>
                  <?templateDesigner itemValuesSpecified 1?>
                  <event activity="change" name="event__change">
                     <script contentType="application/x-javascript">

var cActionEvent = script.core.event.ActionEvent;
var cLog = script.core.util.Log;
var cMainHandler = script.DrugAppl.control.FormHandler;

try
{
	// set up event object
	var actionName = cMainHandler.LANGUAGE_CHANGE;
	var anActionEvent = cActionEvent.createInstance(actionName, this, this.rawValue);
	
	// deploy event to controller
	cMainHandler.actionPerformed(anActionEvent);
}
catch(exception)
{
	cLog.warn("Problem with pageLanguage::change", exception);
}
</script>
                  </event>
                  <validate scriptTest="warning"/>
                  <?templateDesigner expand 1?></exclGroup>
               <margin leftInset="81.28mm"/>
               <?templateDesigner expand 1?></subform>
            <draw name="lblMandatory" w="203.213mm" h="12.7mm" colSpan="2">
               <ui>
                  <textEdit/>
               </ui>
               <value>
                  <text>Text</text>
               </value>
               <font typeface="Myriad Pro" size="8pt"/>
               <margin bottomInset="0.5mm" leftInset="0.5mm" rightInset="0.5mm" topInset="0.5mm"/>
               <para vAlign="middle"/>
               <assist>
                  <speak disable="1"/>
               </assist>
               <?renderCache.bounds 573203 33166 0 0 1417 1417 0 0?>
               <?renderCache.textRun 4 Text 0 1417 20000 0 0 0 "Myriad Pro" 0 0 8000 ISO-8859-1?></draw>
            <event activity="initialize" name="event__initialize">
               <script contentType="application/x-javascript">


this.resolveNode("sfDMFOA.sfDMFAgent").presence = "visible";
</script>
            </event>
            <event activity="ready" ref="$layout" name="event__layout_ready">
               <script contentType="application/x-javascript">
var cDrugApplModel=script.DrugAppl.model.DrugApplMain;
var language = cDrugApplModel.getLanguage();
var lblMan = this.resolveNode("lblMandatory");

if (language == "en") {
    lblMan.rawValue = "* denotes a mandatory field\n+ denotes a field with validation error or missing data";
} else {
    lblMan.rawValue = "* démontre un champ obligatoire\n+ démontre un champ avec une erreur de validation ou des données manquantes";
}

var cFormNodeManager = script.core.model.FormNodeManager;
var PAGE1_SF_FN = cFormNodeManager.getFormNodeForKey("sfPage1");
var cAccessibility = this.resolveNode("script.Accessibility");
cAccessibility.updateColorErrorsForAccessibility(PAGE1_SF_FN.getNodeInstance().parent);
</script>
            </event>
            <?templateDesigner expand 1?></subform>
         <subform w="203.2mm" name="sfInstructions" layout="tb">
            <subform name="sfInstructionBtns" w="203.008mm" layout="lr-tb" relevant="-print">
               <field name="btnViewInstructions" w="28.575mm" h="6.35mm" relevant="-print">
                  <ui>
                     <button highlight="inverted"/>
                  </ui>
                  <font typeface="Myriad Pro"/>
                  <caption>
                     <value>
                        <text>View Instructions</text>
                     </value>
                     <para vAlign="middle" hAlign="center"/>
                     <font typeface="Myriad Pro" size="8pt"/>
                  </caption>
                  <border hand="right">
                     <?templateDesigner StyleID apbx2?>
                     <edge stroke="raised"/>
                     <fill>
                        <color value="212,208,200"/>
                     </fill>
                  </border>
                  <bind match="none"/>
                  <event activity="click" name="event__click">
                     <script contentType="application/x-javascript">

var cLog = script.core.util.Log;
var cDrugApplModel=script.DrugAppl.model.DrugApplMain;

var language = cDrugApplModel.getLanguage();

DrugAppl.sfPage1.sfInstructions.sfInstructionsContent.presence="visible";
if (language == "en") {
//cLog.trace("start clicking in English +++++++");
this.resolveNode("sfInstructionsContent.lblInstructions_en").presence = "visible";
this.resolveNode("sfInstructionsContent.lblInstructions_fr").presence = "hidden";
} else {
//cLog.trace("start clicking in French +++++++");
this.resolveNode("sfInstructionsContent.lblInstructions_en").presence = "hidden";
this.resolveNode("sfInstructionsContent.lblInstructions_fr").presence = "visible";
}
this.access="readOnly";
this.fillColor = "230,230,230";
</script>
                  </event>
               </field>
               <draw name="Text6" w="3.175mm" h="6.35mm">
                  <ui>
                     <textEdit/>
                  </ui>
                  <font typeface="Myriad Pro"/>
                  <margin topInset="0.5mm" bottomInset="0.5mm" leftInset="0.5mm" rightInset="0.5mm"/>
                  <assist>
                     <speak disable="1"/>
                  </assist>
                  <?renderCache.bounds 6166 15166 0 0 1417 1417 0 0?></draw>
               <field name="btnHideInstructions" w="28.575mm" h="6.35mm" relevant="-print">
                  <ui>
                     <button highlight="inverted"/>
                  </ui>
                  <font typeface="Myriad Pro"/>
                  <caption>
                     <value>
                        <text>Hide Instructions</text>
                     </value>
                     <para vAlign="middle" hAlign="center"/>
                     <font typeface="Myriad Pro" size="8pt"/>
                  </caption>
                  <border hand="right">
                     <?templateDesigner StyleID apbx2?>
                     <edge stroke="raised"/>
                     <fill>
                        <color value="212,208,200"/>
                     </fill>
                  </border>
                  <bind match="none"/>
                  <event activity="click" name="event__click">
                     <script contentType="application/x-javascript">
this.resolveNode("sfInstructionsContent.lblInstructions_en").presence = "hidden";
this.resolveNode("sfInstructionsContent.lblInstructions_fr").presence = "hidden";

btnViewInstructions.access = "open";
btnViewInstructions.fillColor = "212,208,200";
</script>
                  </event>
                  <event activity="ready" ref="$layout" name="event__layout_ready">
                     <script contentType="application/x-javascript">

if(btnViewInstructions.access == "open"){
this.access = "readOnly";
this.fillColor = "230,230,230";
}

if(btnViewInstructions.access == "readOnly"){
this.access = "open";
this.fillColor = "212,208,200";
}
//app.alert(this.parent.parent.sfAuthSignOfficial.sfFinalizeButton.access);

if (DrugAppl.sfPage1.sfFormButtons.btnFinalizeBottom.access=="readOnly"){
//app.alert("hh");
this.access="readOnly"
this.fillColor = "230,230,230";
//this.resolveNode("sfHCInstruction").presence = "hidden";
}
</script>
                  </event>
               </field>
               <draw name="txtGuideDocEnglish" w="35.517mm" h="6.35mm" relevant="-print">
                  <ui>
                     <textEdit/>
                  </ui>
                  <value>
                     <exData contentType="text/html">
                        <body xmlns="http://www.w3.org/1999/xhtml" xmlns:xfa="http://www.xfa.org/schema/xfa-data/1.0/" xfa:APIVersion="2.7.0.0"><p style="text-decoration:none;letter-spacing:0in"><a href="http://www.hc-sc.gc.ca/dhp-mps/prodpharma/applic-demande/guide-ld/chem/draft_ebauche_dmf_fmm_guide_ld-eng.php">Guidance Document</a></p></body>
                     </exData>
                  </value>
                  <font typeface="Myriad Pro" size="8pt" baselineShift="0pt"/>
                  <margin topInset="0.5mm" bottomInset="0.5mm" leftInset="0.5mm" rightInset="0.5mm"/>
                  <para hAlign="center" spaceAbove="0pt" spaceBelow="0pt" textIndent="0pt" marginLeft="0pt" marginRight="0pt"/>
               </draw>
               <draw name="txtGuideDocFrench" w="35.517mm" h="6.35mm" presence="hidden">
                  <ui>
                     <textEdit/>
                  </ui>
                  <value>
                     <exData contentType="text/html">
                        <body xmlns="http://www.w3.org/1999/xhtml" xmlns:xfa="http://www.xfa.org/schema/xfa-data/1.0/"><p style="letter-spacing:0in"><a href="http://www.hc-sc.gc.ca/dhp-mps/prodpharma/applic-demande/guide-ld/chem/draft_ebauche_dmf_fmm_guide_ld-fra.php">Document d’orientation</a></p></body>
                     </exData>
                  </value>
                  <font typeface="Myriad Pro" size="8pt" baselineShift="0pt"/>
                  <margin topInset="0.5mm" bottomInset="0.5mm" leftInset="0.5mm" rightInset="0.5mm"/>
                  <para hAlign="center" spaceAbove="0pt" spaceBelow="0pt" textIndent="0pt" marginLeft="0pt" marginRight="0pt"/>
               </draw>
               <margin topInset="2.54mm"/>
               <?templateDesigner expand 1?></subform>
            <subform w="203.2mm" layout="tb" name="sfInstructionsContent">
               <draw name="lblInstructions_en" w="8in" h="64.269mm">
                  <ui>
                     <textEdit/>
                  </ui>
                  <value>
                     <exData contentType="text/html">
                        <body xmlns="http://www.w3.org/1999/xhtml" xmlns:xfa="http://www.xfa.org/schema/xfa-data/1.0/"><p style="margin-top:6pt;margin-bottom:6pt;tab-interval:0.5in;tab-stops:left 0.167in left 0.5in left 1in left 1.5in left 2in left 2.5in left 3.292in left 3.5in left 4in left 4.5in left 5in left 5.5in left 6in left 6.5in;letter-spacing:0in">This form contains mandatory fields. In order to ensure you have completed all appropriate fields, please press the "Finalize" button at the bottom of the form before<br/>printing and signing.<br/><br/>Once finalized, the fields in the form becomes "locked" (i.e. Fields cannot be modified). In order to modify fields after finalizing, you must press the "Modify" button at the<br/>bottom of the form. Following modifications to the desired fields and before printing and signing, please press the "Finalize" button again to re-validate entries.<span style="xfa-spacerun:yes"> </span></p><p style="tab-interval:0.5in;tab-stops:left 0.167in left 0.5in left 1in left 1.5in left 2in left 2.5in left 3.292in left 3.5in left 4in left 4.5in left 5in left 5.5in left 6in left 6.5in;letter-spacing:0in"><span style="xfa-spacerun:yes"> </span></p><p style="tab-interval:0.5in;tab-stops:left 0.167in left 0.5in left 1in left 1.5in left 2in left 2.5in left 3.292in left 3.5in left 4in left 4.5in left 5in left 5.5in left 6in left 6.5in;letter-spacing:0in">Please send the completed form to:<span style="xfa-spacerun:yes"> </span></p><p style="tab-interval:0.5in;tab-stops:left 0.167in left 0.5in left 1in left 1.5in left 2in left 2.5in left 3.292in left 3.5in left 4in left 4.5in left 5in left 5.5in left 6in left 6.5in;letter-spacing:0in">DMF Administrator,</p><p style="tab-interval:0.5in;tab-stops:left 0.167in left 0.5in left 1in left 1.5in left 2in left 2.5in left 3.292in left 3.5in left 4in left 4.5in left 5in left 5.5in left 6in left 6.5in;letter-spacing:0in">Bureau of Pharmaceutical Sciences,</p><p style="tab-interval:0.5in;tab-stops:left 0.167in left 0.5in left 1in left 1.5in left 2in left 2.5in left 3.292in left 3.5in left 4in left 4.5in left 5in left 5.5in left 6in left 6.5in;letter-spacing:0in">Therapeutic Products Directorate, Health Canada</p><p style="tab-interval:0.5in;tab-stops:left 0.167in left 0.5in left 1in left 1.5in left 2in left 2.5in left 3.292in left 3.5in left 4in left 4.5in left 5in left 5.5in left 6in left 6.5in;letter-spacing:0in">Finance Building (Address Locator 0201D)</p><p style="tab-interval:0.5in;tab-stops:left 0.167in left 0.5in left 1in left 1.5in left 2in left 2.5in left 3.292in left 3.5in left 4in left 4.5in left 5in left 5.5in left 6in left 6.5in;letter-spacing:0in">101 Tunney's Pasture Driveway</p><p style="tab-interval:0.5in;tab-stops:left 0.167in left 0.5in left 1in left 1.5in left 2in left 2.5in left 3.292in left 3.5in left 4in left 4.5in left 5in left 5.5in left 6in left 6.5in;letter-spacing:0in">Ottawa, Ontario Canada K1A 0K9</p><p style="tab-interval:0.5in;tab-stops:left 0.167in left 0.5in left 1in left 1.5in left 2in left 2.5in left 3.292in left 3.5in left 4in left 4.5in left 5in left 5.5in left 6in left 6.5in;letter-spacing:0in"><span style="xfa-spacerun:yes"> </span></p><p style="tab-interval:0.5in;tab-stops:left 0.167in left 0.5in left 1in left 1.5in left 2in left 2.5in left 3.292in left 3.5in left 4in left 4.5in left 5in left 5.5in left 6in left 6.5in;letter-spacing:0in">Telephone: (613) 941-3195</p><p style="tab-interval:0.5in;tab-stops:left 0.167in left 0.5in left 1in left 1.5in left 2in left 2.5in left 3.292in left 3.5in left 4in left 4.5in left 5in left 5.5in left 6in left 6.5in;letter-spacing:0in">Fax: (613) 957-3989</p><p style="tab-interval:0.5in;tab-stops:left 0.167in left 0.5in left 1in left 1.5in left 2in left 2.5in left 3.292in left 3.5in left 4in left 4.5in left 5in left 5.5in left 6in left 6.5in;letter-spacing:0in">E-mail: dmf_enquiries@hc-sc.gc.ca</p></body>
                     </exData>
                  </value>
                  <font typeface="Myriad Pro" baselineShift="0pt" size="8pt"/>
                  <margin topInset="0.5mm" bottomInset="0.5mm" leftInset="0.5mm" rightInset="0.5mm"/>
                  <para spaceAbove="0pt" spaceBelow="0pt" textIndent="0pt" marginLeft="0pt" marginRight="0pt"/>
                  <keep intact="none"/>
               </draw>
               <draw name="lblInstructions_fr" w="8in" h="66.942mm">
                  <ui>
                     <textEdit/>
                  </ui>
                  <font typeface="Myriad Pro" size="8pt" baselineShift="0pt"/>
                  <margin topInset="0.5mm" bottomInset="0.5mm" leftInset="0.5mm" rightInset="0.5mm"/>
                  <value>
                     <exData contentType="text/html">
                        <body xmlns="http://www.w3.org/1999/xhtml" xmlns:xfa="http://www.xfa.org/schema/xfa-data/1.0/"><p style="tab-interval:0.5in;tab-stops:left 0.167in left 0.5in left 1in left 1.5in left 2in left 2.5in left 3.292in left 3.5in left 4in left 4.5in left 5in left 5.5in left 6in left 6.5in;font-family:'Myriad Pro';letter-spacing:0in"><span style="xfa-spacerun:yes"> </span></p><p style="tab-interval:0.5in;tab-stops:left 0.167in left 0.5in left 1in left 1.5in left 2in left 2.5in left 3.292in left 3.5in left 4in left 4.5in left 5in left 5.5in left 6in left 6.5in;font-family:'Myriad Pro';letter-spacing:0in">Ce formulaire contient des champs obligatoires. Pour vous assurer que vous avez rempli les champs appropriés, cliquez sur le bouton "Finalisation" au bas du formulaire avant de l'imprimer et de le signer.<br/><br/>Une fois finalisé, les champs seront verrouiller (les champs ne peuvent plus être modifié). Pour pouvoir modifier les champs après la finalisation, vous devez cliquer sur le bouton "Modification" au bas du formulaire. Après avoir modifié les champs désirés et avant d'imprimer et de signer, cliquez sur le bouton "Finalisation" à nouveau afin de valider les entrées.</p><p style="tab-interval:0.5in;tab-stops:left 0.167in left 0.5in left 1in left 1.5in left 2in left 2.5in left 3.292in left 3.5in left 4in left 4.5in left 5in left 5.5in left 6in left 6.5in;letter-spacing:0in"><span style="xfa-spacerun:yes"> </span></p><p style="tab-interval:0.5in;tab-stops:left 0.167in left 0.5in left 1in left 1.5in left 2in left 2.5in left 3.292in left 3.5in left 4in left 4.5in left 5in left 5.5in left 6in left 6.5in;letter-spacing:0in">Veuillez envoyer le formulaire rempli à l'adresse suivante :<span style="xfa-spacerun:yes"> </span></p><p style="tab-interval:0.5in;tab-stops:left 0.167in left 0.5in left 1in left 1.5in left 2in left 2.5in left 3.292in left 3.5in left 4in left 4.5in left 5in left 5.5in left 6in left 6.5in;letter-spacing:0in">Administrateur, Fiches maîtresses des médicaments</p><p style="tab-interval:0.5in;tab-stops:left 0.167in left 0.5in left 1in left 1.5in left 2in left 2.5in left 3.292in left 3.5in left 4in left 4.5in left 5in left 5.5in left 6in left 6.5in;letter-spacing:0in">Bureau des sciences pharmaceutiques</p><p style="tab-interval:0.5in;tab-stops:left 0.167in left 0.5in left 1in left 1.5in left 2in left 2.5in left 3.292in left 3.5in left 4in left 4.5in left 5in left 5.5in left 6in left 6.5in;letter-spacing:0in">Direction des produits thérapeutiques, Santé Canada</p><p style="tab-interval:0.5in;tab-stops:left 0.167in left 0.5in left 1in left 1.5in left 2in left 2.5in left 3.292in left 3.5in left 4in left 4.5in left 5in left 5.5in left 6in left 6.5in;letter-spacing:0in">Immeuble des Finances (Indice de l'adresse 0201D)</p><p style="tab-interval:0.5in;tab-stops:left 0.167in left 0.5in left 1in left 1.5in left 2in left 2.5in left 3.292in left 3.5in left 4in left 4.5in left 5in left 5.5in left 6in left 6.5in;letter-spacing:0in">101, promenade du pré Tunney</p><p style="tab-interval:0.5in;tab-stops:left 0.167in left 0.5in left 1in left 1.5in left 2in left 2.5in left 3.292in left 3.5in left 4in left 4.5in left 5in left 5.5in left 6in left 6.5in;letter-spacing:0in"><span style="xfa-spacerun:yes"> </span>Ottawa (Ontario) Canada<span style="xfa-spacerun:yes">  </span>K1A 0K9</p><p style="tab-interval:0.5in;tab-stops:left 0.167in left 0.5in left 1in left 1.5in left 2in left 2.5in left 3.292in left 3.5in left 4in left 4.5in left 5in left 5.5in left 6in left 6.5in;letter-spacing:0in"><span style="xfa-spacerun:yes"> </span></p><p style="tab-interval:0.5in;tab-stops:left 0.167in left 0.5in left 1in left 1.5in left 2in left 2.5in left 3.292in left 3.5in left 4in left 4.5in left 5in left 5.5in left 6in left 6.5in;letter-spacing:0in">Téléphone : 613-941-3195</p><p style="tab-interval:0.5in;tab-stops:left 0.167in left 0.5in left 1in left 1.5in left 2in left 2.5in left 3.292in left 3.5in left 4in left 4.5in left 5in left 5.5in left 6in left 6.5in;letter-spacing:0in">Télécopieur : 613-957-3989</p><p style="tab-interval:0.5in;tab-stops:left 0.167in left 0.5in left 1in left 1.5in left 2in left 2.5in left 3.292in left 3.5in left 4in left 4.5in left 5in left 5.5in left 6in left 6.5in;letter-spacing:0in">Courriel : enquetes_fmm@hc-sc.gc.ca</p></body>
                     </exData>
                  </value>
                  <para spaceAbove="0pt" spaceBelow="0pt" textIndent="0pt" marginLeft="0pt" marginRight="0pt"/>
                  <keep intact="none"/>
               </draw>
               <?templateDesigner expand 1?></subform>
            <border>
               <edge presence="hidden"/>
               <corner presence="hidden" thickness="0.175mm"/>
            </border>
            <margin bottomInset="5.08mm"/>
            <event activity="initialize" name="event__initialize">
               <script contentType="application/x-javascript">
//this.resolveNode("sfInstructions.sfInstructionBtns.txtGuideDocFrench").presence = "hidden";
//this.resolveNode("sfInstructions.sfInstructionBtns.txtGuideDocEnglish").presence = "visible";


this.resolveNode("sfInstructions.sfInstructionsContent.lblInstructions_en").presence = "hidden";
this.resolveNode("sfInstructions.sfInstructionsContent.lblInstructions_fr").presence = "hidden";
</script>
            </event>
            <?templateDesigner expand 1?></subform>
         <subform name="sfDMFOA" w="203.2mm" layout="lr-tb">
            <draw h="7.62mm" name="lblOAIdentification" w="203.2mm">
               <ui>
                  <textEdit/>
               </ui>
               <value>
                  <text>1. DMF OWNER/AGENT</text>
               </value>
               <font baselineShift="0pt" size="12pt" typeface="Myriad Pro" weight="bold"/>
               <margin bottomInset="0.5mm" leftInset="0.5mm" rightInset="0.5mm" topInset="2.54mm"/>
               <para marginLeft="0pt" marginRight="0pt" spaceAbove="0pt" spaceBelow="0pt" textIndent="0pt"/>
               <border>
                  <edge/>
                  <corner thickness="0.175mm"/>
                  <fill>
                     <linear>
                        <color value="255,255,255"/>
                     </linear>
                     <color value="255,255,153"/>
                  </fill>
               </border>
               <assist role="H2">
                  <speak disable="1"/>
               </assist>
               <?renderCache.bounds 573166 12983 0 0 1417 7200 0 0?>
               <?renderCache.textRun 18 1. DMF OWNER/AGENT 0 1417 16200 0 0 0 "Myriad Pro" 1 0 12000 ISO-8859-1?></draw>
            <field h="7.62mm" name="txtOADMFName" w="152.4mm">
               <ui>
                  <textEdit>
                     <border>
                        <edge stroke="lowered"/>
                        <?templateDesigner StyleID aped3?></border>
                     <margin/>
                  </textEdit>
               </ui>
               <font typeface="Myriad Pro"/>
               <margin bottomInset="1mm" leftInset="1.0008mm" rightInset="1mm" topInset="1mm"/>
               <para vAlign="middle"/>
               <caption reserve="31.7004mm">
                  <font baselineShift="0pt" typeface="Myriad Pro" size="8pt"/>
                  <para marginLeft="0pt" marginRight="0pt" spaceAbove="0pt" spaceBelow="0pt" textIndent="0pt" vAlign="middle"/>
                  <value>
                     <text>Drug Master File Name*</text>
                  </value>
               </caption>
               <validate nullTest="error" scriptTest="warning">
                  <message>
                     <text name="nullTest"/>
                  </message>
               </validate>
               <border>
                  <edge/>
                  <corner thickness="0.175mm"/>
               </border>
               <event activity="exit" name="event__exit">
                  <script contentType="application/x-javascript">

var cCommon = script.DrugAppl.model.Common;

cCommon.isFilled(this);
</script>
               </event>
            </field>
            <field name="ddlOADMFType" w="50.799mm" h="7.62mm">
               <ui>
                  <choiceList>
                     <border>
                        <?templateDesigner StyleID aped3?>
                        <edge stroke="lowered"/>
                     </border>
                     <margin/>
                  </choiceList>
               </ui>
               <font typeface="Myriad Pro"/>
               <margin topInset="1mm" bottomInset="1mm" leftInset="2.54mm" rightInset="1mm"/>
               <para vAlign="middle"/>
               <caption reserve="21.4753mm">
                  <para vAlign="middle"/>
                  <value>
                     <text>DMF Type</text>
                  </value>
                  <font size="8pt" typeface="Myriad Pro"/>
               </caption>
               <validate nullTest="error" scriptTest="warning"/>
               <items save="1">
                  <text>I</text>
                  <text>II</text>
                  <text>III</text>
                  <text>IV</text>
               </items>
               <border>
                  <edge/>
                  <corner thickness="0.175mm"/>
               </border>
               <event activity="exit" name="event__exit">
                  <script contentType="application/x-javascript">

var cCommon = script.DrugAppl.model.Common;

cCommon.isFilled(this);
</script>
               </event>
            </field>
            <field name="txtOADMFNumber" w="106.68mm" h="7.62mm">
               <ui>
                  <textEdit hScrollPolicy="off">
                     <border hand="right">
                        <?templateDesigner StyleID aped2?>
                        <edge/>
                     </border>
                     <margin/>
                     <comb numberOfCells="8"/>
                  </textEdit>
                  <picture>text{9999-999}</picture>
               </ui>
               <font typeface="Myriad Pro"/>
               <margin topInset="1mm" bottomInset="1mm" leftInset="1mm" rightInset="1mm"/>
               <para vAlign="middle"/>
               <caption reserve="65.3694mm">
                  <font size="8pt" typeface="Myriad Pro" baselineShift="0pt"/>
                  <para vAlign="middle" spaceAbove="0pt" spaceBelow="0pt" textIndent="0pt" marginLeft="0pt" marginRight="0pt"/>
                  <value>
                     <text>DMF Number (if issued)</text>
                  </value>
               </caption>
               <border>
                  <edge/>
                  <corner thickness="0.175mm"/>
               </border>
               <event activity="change" name="event__change">
                  <script contentType="application/x-javascript">


var dmfNumber = xfa.event.newText; 
//   &gt; 9999

if (dmfNumber &gt; 9999) {
		xfa.event.change = "-";
		//xfa.event.newText = dmfNumber + "-" ; 
}
</script>
               </event>
               <event activity="exit" name="event__exit">
                  <script contentType="application/x-javascript">
var cCommon = script.DrugAppl.model.Common;

if ((this.resolveNode("$").rawValue != null &amp;&amp; this.resolveNode("$").rawValue != "")) {
//this.rawValue = this.rawValue.substring(0,4) + "-" + this.rawValue.substring(4);
var result=cCommon.validateField(this, cCommon.DMF_NUMBER);

}
</script>
               </event>
               <bind>
                  <picture>text{9999-999}</picture>
               </bind>
               <format>
                  <picture>text{9999-999}</picture>
               </format>
               <keep intact="contentArea"/>
            </field>
            <field name="txtOACustClientAcc" w="96.52mm" h="7.62mm">
               <ui>
                  <numericEdit hScrollPolicy="off">
                     <border hand="right">
                        <?templateDesigner StyleID aped2?>
                        <edge/>
                     </border>
                     <margin/>
                     <comb numberOfCells="5"/>
                  </numericEdit>
               </ui>
               <font typeface="Myriad Pro"/>
               <margin topInset="1mm" bottomInset="1mm" leftInset="1.0008mm" rightInset="1mm"/>
               <para vAlign="middle"/>
               <caption reserve="71.8862mm">
                  <font size="8pt" typeface="Myriad Pro" baselineShift="0pt"/>
                  <para vAlign="middle" spaceAbove="0pt" spaceBelow="0pt" textIndent="0pt" marginLeft="0pt" marginRight="0pt"/>
                  <value>
                     <text>Customer/Client Account Number (if issued)</text>
                  </value>
               </caption>
               <format>
                  <picture>num{zzzzzzzzzzzz9}</picture>
               </format>
               <event activity="exit" name="event__exit">
                  <script contentType="application/x-javascript">
var cCommon = script.DrugAppl.model.Common;

if ((this.resolveNode("$").rawValue != null &amp;&amp; this.resolveNode("$").rawValue != "")) {
//cCommon.validateField(this, cCommon.CUSTOMER_ACCOUNT);
cCommon.companyIDValidation(this);
}
</script>
               </event>
               <border>
                  <edge/>
                  <corner thickness="0.175mm"/>
               </border>
            </field>
            <margin topInset="0mm"/>
            <border>
               <edge/>
               <corner thickness="0.175mm"/>
            </border>
            <subform y="21.209mm" w="203.2mm" minH="52.388mm" layout="lr-tb" name="sfDMFOwner">
               <subform name="sfNameAddress" w="203.2mm" layout="lr-tb">
                  <draw h="5.999mm" name="lblOwnNameAddHeader" w="203.2mm">
                     <border>
                        <corner thickness="0.1753mm"/>
                        <edge/>
                        <fill>
                           <color value="192,192,192"/>
                           <linear>
                              <color value="255,255,255"/>
                           </linear>
                        </fill>
                     </border>
                     <font typeface="Myriad Pro" baselineShift="0pt"/>
                     <margin bottomInset="0.5mm" leftInset="0.5mm" rightInset="0.5mm" topInset="0.5mm"/>
                     <para marginLeft="0pt" marginRight="0pt" spaceAbove="0pt" spaceBelow="0pt" textIndent="0pt" vAlign="middle"/>
                     <ui>
                        <textEdit>
                           <margin/>
                        </textEdit>
                     </ui>
                     <value>
                        <text>DMF OWNER NAME AND ADDRESS</text>
                     </value>
                     <assist role="H3"/>
                     <?renderCache.bounds 573166 14171 0 0 1417 1417 0 0?>
                     <?renderCache.textRun 26 DMF OWNER NAME AND ADDRESS 0 1417 11002 0 0 0 "Myriad Pro" 0 0 10000 ISO-8859-1?></draw>
                  <field h="11.133mm" name="txtOwnNameAddCompanyName" w="203.148mm">
                     <ui>
                        <textEdit>
                           <border>
                              <edge stroke="lowered"/>
                              <?templateDesigner StyleID aped3?></border>
                           <margin/>
                        </textEdit>
                     </ui>
                     <font typeface="Myriad Pro"/>
                     <margin bottomInset="1mm" leftInset="1.0008mm" rightInset="1mm" topInset="1mm"/>
                     <para vAlign="middle"/>
                     <caption placement="top" reserve="2.921mm">
                        <font baselineShift="0pt" typeface="Myriad Pro" size="8pt"/>
                        <para marginLeft="0pt" marginRight="0pt" spaceAbove="0pt" spaceBelow="0pt" textIndent="0pt" vAlign="middle"/>
                        <value>
                           <text>Company Name*</text>
                        </value>
                     </caption>
                     <border>
                        <edge/>
                        <corner thickness="0.175mm"/>
                     </border>
                     <validate nullTest="error" scriptTest="warning"/>
                     <event activity="exit" name="event__exit">
                        <script contentType="application/x-javascript">

var cCommon = script.DrugAppl.model.Common;

cCommon.isFilled(this);
</script>
                     </event>
                  </field>
                  <field h="11.133mm" name="txtOwnNameAdd" w="203.2mm">
                     <border>
                        <corner thickness="0.1753mm"/>
                        <edge/>
                     </border>
                     <caption placement="top" reserve="3.18mm">
                        <font typeface="Myriad Pro" baselineShift="0pt" size="8pt"/>
                        <para marginLeft="0pt" marginRight="0pt" spaceAbove="0pt" spaceBelow="0pt" textIndent="0pt" vAlign="middle"/>
                        <value>
                           <text>Street/Suite/PO Box*</text>
                        </value>
                     </caption>
                     <font typeface="Myriad Pro"/>
                     <margin bottomInset="1mm" leftInset="1mm" rightInset="1mm" topInset="1mm"/>
                     <para vAlign="middle"/>
                     <ui>
                        <textEdit>
                           <border>
                              <edge stroke="lowered"/>
                              <?templateDesigner StyleID aped3?></border>
                           <margin/>
                        </textEdit>
                     </ui>
                     <validate nullTest="error" scriptTest="warning"/>
                     <event activity="exit" name="event__exit">
                        <script contentType="application/x-javascript">

var cCommon = script.DrugAppl.model.Common;

cCommon.isFilled(this);
</script>
                     </event>
                  </field>
                  <field h="11.133mm" name="txtOwnNameAddCity" w="50.7996mm">
                     <border>
                        <corner thickness="0.1753mm"/>
                        <edge/>
                     </border>
                     <caption placement="top" reserve="2.921mm">
                        <font typeface="Myriad Pro" baselineShift="0pt" size="8pt"/>
                        <para marginLeft="0pt" marginRight="0pt" spaceAbove="0pt" spaceBelow="0pt" textIndent="0pt" vAlign="middle"/>
                        <value>
                           <text>City - Town*</text>
                        </value>
                     </caption>
                     <font typeface="Myriad Pro"/>
                     <margin bottomInset="1mm" leftInset="1mm" rightInset="1mm" topInset="1mm"/>
                     <para vAlign="middle"/>
                     <ui>
                        <textEdit>
                           <border>
                              <edge stroke="lowered"/>
                              <?templateDesigner StyleID aped3?></border>
                           <margin/>
                        </textEdit>
                     </ui>
                     <validate nullTest="error" scriptTest="warning"/>
                     <event activity="exit" name="event__exit">
                        <script contentType="application/x-javascript">

var cCommon = script.DrugAppl.model.Common;

cCommon.isFilled(this);
</script>
                     </event>
                  </field>
                  <field h="11.133mm" name="ddlCountry" w="50.8mm">
                     <border>
                        <corner thickness="0.1753mm"/>
                        <edge/>
                     </border>
                     <caption placement="top" reserve="2.921mm">
                        <font typeface="Myriad Pro" baselineShift="0pt" size="8pt"/>
                        <para marginLeft="0pt" marginRight="0pt" spaceAbove="0pt" spaceBelow="0pt" textIndent="0pt" vAlign="middle"/>
                        <value>
                           <text> Country*</text>
                        </value>
                     </caption>
                     <font typeface="Myriad Pro"/>
                     <items/>
                     <items presence="hidden" save="1"/>
                     <margin bottomInset="1mm" leftInset="1mm" rightInset="1mm" topInset="1mm"/>
                     <para vAlign="middle"/>
                     <ui>
                        <choiceList>
                           <border>
                              <edge stroke="lowered"/>
                              <?templateDesigner StyleID aped3?></border>
                           <margin/>
                        </choiceList>
                     </ui>
                     <event activity="exit" name="event__exit">
                        <script contentType="application/x-javascript">

var cCommon = script.DrugAppl.model.Common;

cCommon.isFilled(this);
</script>
                     </event>
                     <validate scriptTest="warning" nullTest="error"/>
                     <event activity="change" name="event__change">
                        <script contentType="application/x-javascript">if(xfa.event.prevText!=xfa.event.newText){

var cActionEvent = script.core.event.ActionEvent;
var cLog = script.core.util.Log;
var cAddressHandler = script.RegulatoryAddresses.control.RegulatoryAddressHandler;


try
{
	// set up event object
	var actionName =  cAddressHandler.PART1A_COUNTRY_CHANGED_ACTION;
	this.rawValue=this.boundItem(xfa.event.newText);
	var anActionEvent = cActionEvent.createInstance(actionName, this,this.boundItem(xfa.event.newText));
	// deploy event to controller
	cAddressHandler.actionPerformed(anActionEvent);
}
catch(exception)
{
	cLog.warn("Problem with Manufacturer Country selection ::exit", exception);
}


var cCommon = script.DrugAppl.model.Common;

if (!($.boundItem(xfa.event.newText)== "CA") &amp;&amp;  !($.boundItem(xfa.event.newText)== "US")) {
  
  this.resolveNode("ddlProvince").presence = "hidden";
  this.resolveNode("txtProvince").rawValue = " ";
  this.resolveNode("txtProvince").presence = "visible";
  cCommon.setAsOptionField(this.resolveNode("txtPostalCode"));
}
else {
cCommon.setAsOptionField(this.resolveNode("txtPostalCode"));
	cCommon.setAsRequiredField(this.resolveNode("txtPostalCode"));
  this.resolveNode("ddlProvince").presence = "visible";
  this.resolveNode("txtProvince").presence = "hidden";
  
}
}
</script>
                     </event>
                  </field>
                  <field h="11.133mm" name="ddlProvince" w="50.8mm">
                     <border>
                        <corner thickness="0.1753mm"/>
                        <edge/>
                     </border>
                     <caption placement="top" reserve="2.921mm">
                        <font typeface="Myriad Pro" baselineShift="0pt" size="8pt"/>
                        <para marginLeft="0pt" marginRight="0pt" spaceAbove="0pt" spaceBelow="0pt" textIndent="0pt" vAlign="middle"/>
                        <value>
                           <text>Province - State*</text>
                        </value>
                     </caption>
                     <font typeface="Myriad Pro"/>
                     <margin bottomInset="1mm" leftInset="1mm" rightInset="1mm" topInset="1mm"/>
                     <para vAlign="middle"/>
                     <ui>
                        <choiceList>
                           <border>
                              <edge stroke="lowered"/>
                              <?templateDesigner StyleID aped3?></border>
                           <margin/>
                        </choiceList>
                     </ui>
                     <event activity="enter" name="event__enter">
                        <script contentType="application/x-javascript">var cSystem = script.core.System;
cSystem.setCurrentField(this);

</script>
                     </event>
                     <event activity="exit" name="event__exit">
                        <script contentType="application/x-javascript">
var cSystem = script.core.System;
var cFailureReporter = script.core.validation.FailureReporter;
var cFormNodeManager = script.core.model.FormNodeManager;

if(cSystem.hasCurrentFieldValueChanged(this)){

	PROVINCE_FN=cFormNodeManager.getFormNodeForKey("ddlOwnNameAddProvince");
	var validationFailures=PROVINCE_FN.validateNode(this,false);
	
	//to do form node checking
	if(validationFailures!==null){
		xfa.host.messageBox(cFailureReporter.getFailureSummary(validationFailures)); }
		else{
	
	}
}

var cCommon = script.DrugAppl.model.Common;

cCommon.isFilled(this);
</script>
                     </event>
                     <validate nullTest="error"/>
                  </field>
                  <field h="11.133mm" name="txtProvince" w="50.8mm" presence="hidden">
                     <border>
                        <corner thickness="0.1753mm"/>
                        <edge/>
                     </border>
                     <caption placement="top" reserve="2.921mm">
                        <font typeface="Myriad Pro" baselineShift="0pt" size="8pt"/>
                        <para marginLeft="0pt" marginRight="0pt" spaceAbove="0pt" spaceBelow="0pt" textIndent="0pt" vAlign="middle"/>
                        <value>
                           <text>Province *</text>
                        </value>
                     </caption>
                     <font typeface="Myriad Pro"/>
                     <margin bottomInset="1mm" leftInset="1mm" rightInset="1mm" topInset="1mm"/>
                     <para vAlign="middle"/>
                     <ui>
                        <textEdit>
                           <border>
                              <edge stroke="lowered"/>
                              <?templateDesigner StyleID aped3?></border>
                           <margin/>
                        </textEdit>
                     </ui>
                     <validate scriptTest="warning"/>
                     <event activity="exit" name="event__exit">
                        <script contentType="application/x-javascript">
var cSystem = script.core.System;
var cFailureReporter = script.core.validation.FailureReporter;
var cFormNodeManager = script.core.model.FormNodeManager;

if(cSystem.hasCurrentFieldValueChanged(this)){

	PROVINCE_FN=cFormNodeManager.getFormNodeForKey("txtOwnNameAddPost");
	var validationFailures=PROVINCE_FN.validateNode(this,false);
	
	//to do form node checking
	if(validationFailures!==null){
		xfa.host.messageBox(cFailureReporter.getFailureSummary(validationFailures)); }
		else{
	
	}
}


var cSystem = script.core.System;
var cFailureReporter = script.core.validation.FailureReporter;
var cFormNodeManager = script.core.model.FormNodeManager;

if(cSystem.hasCurrentFieldValueChanged(this)){

	PROVINCE_FN=cFormNodeManager.getFormNodeForKey("txtOwnNameAddPost");
	var validationFailures=PROVINCE_FN.validateNode(this,false);
	
	//to do form node checking
	if(validationFailures!==null){
		xfa.host.messageBox(cFailureReporter.getFailureSummary(validationFailures)); }
		else{
	
	}
}

</script>
                     </event>
                     <event activity="enter" name="event__enter">
                        <script contentType="application/x-javascript">var cSystem = script.core.System;
cSystem.setCurrentField(this);

var cSystem = script.core.System;
cSystem.setCurrentField(this);

</script>
                     </event>
                     <event activity="initialize" name="event__initialize">
                        <script contentType="application/x-javascript">

var cDrugApplModel=script.DrugAppl.model.DrugApplMain;

var language = cDrugApplModel.getLanguage();


if (language = "en"){
	this.resolveNode("$").caption.value.text.value = "Province/State";
} else {
	this.resolveNode("$").caption.value.text.value = "Province/état";
}
</script>
                     </event>
                  </field>
                  <field h="11.133mm" name="txtPostalCode" w="50.8mm">
                     <border>
                        <corner thickness="0.1753mm"/>
                        <edge/>
                     </border>
                     <caption placement="top" reserve="2.921mm">
                        <font typeface="Myriad Pro" baselineShift="0pt" size="8pt"/>
                        <para marginLeft="0pt" marginRight="0pt" spaceAbove="0pt" spaceBelow="0pt" textIndent="0pt" vAlign="middle"/>
                        <value>
                           <text>Postal/ZIP Code*</text>
                        </value>
                     </caption>
                     <font typeface="Myriad Pro"/>
                     <margin bottomInset="1mm" leftInset="1mm" rightInset="1mm" topInset="1mm"/>
                     <para vAlign="middle"/>
                     <ui>
                        <textEdit>
                           <border>
                              <edge stroke="lowered"/>
                              <?templateDesigner StyleID aped3?></border>
                           <margin/>
                        </textEdit>
                     </ui>
                     <event activity="exit" name="event__exit">
                        <script contentType="application/x-javascript">
var cGlobalRequirement = script.core.validation.GlobalRequirement;
cGlobalRequirement.isPostalcodeValid(this, ddlCountry.rawValue);
</script>
                     </event>
                  </field>
                  <margin topInset="0mm"/>
                  <border>
                     <edge/>
                     <corner thickness="0.175mm"/>
                  </border>
                  <?templateDesigner expand 1?></subform>
               <subform name="sfOwnerContact" w="8in" layout="lr-tb">
                  <draw h="4.7625mm" name="lblOwnContactHeader" w="203.2mm">
                     <border>
                        <corner thickness="0.1753mm"/>
                        <edge/>
                        <fill>
                           <color value="192,192,192"/>
                           <linear>
                              <color value="255,255,255"/>
                           </linear>
                        </fill>
                     </border>
                     <font typeface="Myriad Pro" baselineShift="0pt"/>
                     <margin bottomInset="0.5mm" leftInset="0.5mm" rightInset="0.5mm" topInset="0.5mm"/>
                     <para marginLeft="0pt" marginRight="0pt" spaceAbove="0pt" spaceBelow="0pt" textIndent="0pt" vAlign="middle"/>
                     <ui>
                        <textEdit>
                           <margin/>
                        </textEdit>
                     </ui>
                     <value>
                        <text>DMF OWNER CONTACT</text>
                     </value>
                     <assist role="H3"/>
                     <?renderCache.bounds 573166 10666 0 0 1417 1417 0 0?>
                     <?renderCache.textRun 17 DMF OWNER CONTACT 0 1417 9250 0 0 0 "Myriad Pro" 0 0 10000 ISO-8859-1?></draw>
                  <field h="11.133mm" name="ddlOwnContactSalutation" w="24.615mm">
                     <caption placement="top" reserve="2.921mm">
                        <para vAlign="middle"/>
                        <value>
                           <text>Salutation*</text>
                        </value>
                        <font typeface="Myriad Pro" size="8pt"/>
                     </caption>
                     <font typeface="Myriad Pro"/>
                     <items save="1"/>
                     <margin bottomInset="1mm" leftInset="1mm" rightInset="1mm" topInset="1mm"/>
                     <para vAlign="middle"/>
                     <ui>
                        <choiceList>
                           <border>
                              <edge stroke="lowered"/>
                              <?templateDesigner StyleID aped3?></border>
                           <margin/>
                        </choiceList>
                     </ui>
                     <validate nullTest="error" scriptTest="warning"/>
                     <border>
                        <edge/>
                        <corner thickness="0.175mm"/>
                     </border>
                     <event activity="exit" name="event__exit">
                        <script contentType="application/x-javascript">

var cCommon = script.DrugAppl.model.Common;

cCommon.isFilled(this);
</script>
                     </event>
                  </field>
                  <field h="11.133mm" name="txtOwnContactGivenName" w="38.1mm">
                     <border>
                        <corner thickness="0.1753mm"/>
                        <edge/>
                     </border>
                     <caption placement="top" reserve="2.921mm">
                        <font typeface="Myriad Pro" baselineShift="0pt" size="8pt"/>
                        <para marginLeft="0pt" marginRight="0pt" spaceAbove="0pt" spaceBelow="0pt" textIndent="0pt" vAlign="middle"/>
                        <value>
                           <text>Given Name*</text>
                        </value>
                     </caption>
                     <font typeface="Myriad Pro"/>
                     <margin bottomInset="1mm" leftInset="1mm" rightInset="1mm" topInset="1mm"/>
                     <para vAlign="middle"/>
                     <ui>
                        <textEdit>
                           <border>
                              <edge stroke="lowered"/>
                              <?templateDesigner StyleID aped3?></border>
                           <margin/>
                        </textEdit>
                     </ui>
                     <validate nullTest="error" scriptTest="warning"/>
                     <event activity="exit" name="event__exit">
                        <script contentType="application/x-javascript">
var cCommon = script.DrugAppl.model.Common;

cCommon.isFilled(this);
</script>
                     </event>
                  </field>
                  <field name="txtOwnContactInitials" w="12.7mm" h="11.133mm">
                     <ui>
                        <textEdit>
                           <border>
                              <edge stroke="lowered"/>
                              <?templateDesigner StyleID aped3?></border>
                           <margin/>
                        </textEdit>
                     </ui>
                     <font typeface="Myriad Pro"/>
                     <margin topInset="1mm" bottomInset="1mm" leftInset="1mm" rightInset="1mm"/>
                     <para vAlign="middle"/>
                     <caption reserve="2.91mm" placement="top">
                        <para vAlign="middle"/>
                        <value>
                           <text>Initials</text>
                        </value>
                        <font size="8pt" typeface="Myriad Pro"/>
                     </caption>
                     <border>
                        <edge/>
                        <corner thickness="0.175mm"/>
                     </border>
                  </field>
                  <field h="11.133mm" name="txtOwnContactSurname" w="50.8mm">
                     <border>
                        <corner thickness="0.1753mm"/>
                        <edge/>
                     </border>
                     <caption placement="top" reserve="2.921mm">
                        <font typeface="Myriad Pro" baselineShift="0pt" size="8pt"/>
                        <para marginLeft="0pt" marginRight="0pt" spaceAbove="0pt" spaceBelow="0pt" textIndent="0pt" vAlign="middle"/>
                        <value>
                           <text>Surname*</text>
                        </value>
                     </caption>
                     <font typeface="Myriad Pro"/>
                     <margin bottomInset="1mm" leftInset="1mm" rightInset="1mm" topInset="1mm"/>
                     <para vAlign="middle"/>
                     <ui>
                        <textEdit>
                           <border>
                              <edge stroke="lowered"/>
                              <?templateDesigner StyleID aped3?></border>
                           <margin/>
                        </textEdit>
                     </ui>
                     <validate nullTest="error"/>
                     <event activity="exit" name="event__exit">
                        <script contentType="application/x-javascript">

var cCommon = script.DrugAppl.model.Common;

cCommon.isFilled(this);
</script>
                     </event>
                  </field>
                  <field h="11.133mm" name="txtOwnContactTitle" w="53.876mm">
                     <border>
                        <corner thickness="0.1753mm"/>
                        <edge/>
                     </border>
                     <caption placement="top" reserve="2.921mm">
                        <font typeface="Myriad Pro" baselineShift="0pt" size="8pt"/>
                        <para marginLeft="0pt" marginRight="0pt" spaceAbove="0pt" spaceBelow="0pt" textIndent="0pt" vAlign="middle"/>
                        <value>
                           <text>Title*</text>
                        </value>
                     </caption>
                     <font typeface="Myriad Pro"/>
                     <margin bottomInset="1mm" leftInset="1mm" rightInset="1mm" topInset="1mm"/>
                     <para vAlign="middle"/>
                     <ui>
                        <textEdit>
                           <border>
                              <edge stroke="lowered"/>
                              <?templateDesigner StyleID aped3?></border>
                           <margin/>
                        </textEdit>
                     </ui>
                     <validate nullTest="error"/>
                     <event activity="exit" name="event__exit">
                        <script contentType="application/x-javascript">
var cCommon = script.DrugAppl.model.Common;

cCommon.isFilled(this);
</script>
                     </event>
                  </field>
                  <field name="ddlOwnContactLang" w="23.028mm" h="11.133mm">
                     <ui>
                        <choiceList>
                           <border>
                              <?templateDesigner StyleID aped3?>
                              <edge stroke="lowered"/>
                           </border>
                           <margin/>
                        </choiceList>
                     </ui>
                     <font typeface="Myriad Pro"/>
                     <margin topInset="1mm" bottomInset="1mm" leftInset="1mm" rightInset="1mm"/>
                     <para vAlign="middle"/>
                     <caption reserve="2.921mm" placement="top">
                        <para vAlign="middle"/>
                        <value>
                           <text>Language*</text>
                        </value>
                        <font size="8pt" typeface="Myriad Pro"/>
                     </caption>
                     <items save="1"/>
                     <validate nullTest="error"/>
                     <border>
                        <edge/>
                        <corner thickness="0.175mm"/>
                     </border>
                     <event activity="exit" name="event__exit">
                        <script contentType="application/x-javascript">
var cCommon = script.DrugAppl.model.Common;

cCommon.isFilled(this);
</script>
                     </event>
                  </field>
                  <margin bottomInset="0mm" topInset="0mm"/>
                  <field h="11.133mm" name="txtOwnContactTel" w="38.1067mm">
                     <border>
                        <corner thickness="0.1753mm"/>
                        <edge/>
                     </border>
                     <caption placement="top" reserve="2.921mm">
                        <font typeface="Myriad Pro" baselineShift="0pt" size="8pt"/>
                        <para marginLeft="0pt" marginRight="0pt" spaceAbove="0pt" spaceBelow="0pt" textIndent="0pt" vAlign="middle"/>
                        <value>
                           <text>Telephone Number*</text>
                        </value>
                     </caption>
                     <font typeface="Myriad Pro"/>
                     <margin bottomInset="1mm" leftInset="1mm" rightInset="1mm" topInset="1mm"/>
                     <para vAlign="middle"/>
                     <ui>
                        <textEdit>
                           <border>
                              <edge stroke="lowered"/>
                              <?templateDesigner StyleID aped3?></border>
                           <margin/>
                        </textEdit>
                     </ui>
                     <validate nullTest="error"/>
                     <event activity="exit" name="event__exit">
                        <script contentType="application/x-javascript">var cGlobalRequirement = script.core.validation.GlobalRequirement;
cGlobalRequirement .isPhoneValid(this, this.parent.parent.sfNameAddress.ddlCountry.rawValue);
</script>
                     </event>
                  </field>
                  <field name="txtOwnContactExt" w="25.4mm" h="11.133mm">
                     <ui>
                        <numericEdit>
                           <border>
                              <edge stroke="lowered"/>
                              <?templateDesigner StyleID aped3?></border>
                           <margin/>
                        </numericEdit>
                     </ui>
                     <font typeface="Myriad Pro"/>
                     <margin topInset="1mm" bottomInset="1mm" leftInset="1mm" rightInset="1mm"/>
                     <para vAlign="middle"/>
                     <caption reserve="2.921mm" placement="top">
                        <para vAlign="middle" spaceAbove="0pt" spaceBelow="0pt" textIndent="0pt" marginLeft="0pt" marginRight="0pt"/>
                        <font typeface="Myriad Pro" size="8pt" baselineShift="0pt"/>
                        <value>
                           <text>Ext.</text>
                        </value>
                     </caption>
                     <format>
                        <picture>num{zzzzzzzzzzzz9}</picture>
                     </format>
                     <border>
                        <edge/>
                        <corner thickness="0.175mm"/>
                     </border>
                  </field>
                  <field h="11.133mm" name="txtOwnContactFax" w="38.1mm">
                     <border>
                        <corner thickness="0.1753mm"/>
                        <edge/>
                     </border>
                     <caption placement="top" reserve="2.921mm">
                        <font typeface="Myriad Pro" baselineShift="0pt" size="8pt"/>
                        <para marginLeft="0pt" marginRight="0pt" spaceAbove="0pt" spaceBelow="0pt" textIndent="0pt" vAlign="middle"/>
                        <value>
                           <text>Fax Number</text>
                        </value>
                     </caption>
                     <font typeface="Myriad Pro"/>
                     <margin bottomInset="1mm" leftInset="1mm" rightInset="1mm" topInset="1mm"/>
                     <para vAlign="middle"/>
                     <ui>
                        <textEdit>
                           <border>
                              <edge stroke="lowered"/>
                              <?templateDesigner StyleID aped3?></border>
                           <margin/>
                        </textEdit>
                     </ui>
                     <event activity="exit" name="event__exit">
                        <script contentType="application/x-javascript">var cGlobalRequirement = script.core.validation.GlobalRequirement;
cGlobalRequirement .isFaxValid(this, this.parent.parent.sfNameAddress.ddlCountry.rawValue);
</script>
                     </event>
                  </field>
                  <field h="11.133mm" name="txtOwnContactEmail" w="101.593mm">
                     <border>
                        <corner thickness="0.1753mm"/>
                        <edge/>
                     </border>
                     <caption placement="top" reserve="2.921mm">
                        <font typeface="Myriad Pro" baselineShift="0pt" size="8pt"/>
                        <para marginLeft="0pt" marginRight="0pt" spaceAbove="0pt" spaceBelow="0pt" textIndent="0pt" vAlign="middle"/>
                        <value>
                           <text>Email*</text>
                        </value>
                     </caption>
                     <font typeface="Myriad Pro"/>
                     <margin bottomInset="1mm" leftInset="1mm" rightInset="1mm" topInset="1mm"/>
                     <para vAlign="middle"/>
                     <ui>
                        <textEdit>
                           <border>
                              <edge stroke="lowered"/>
                              <?templateDesigner StyleID aped3?></border>
                           <margin/>
                        </textEdit>
                     </ui>
                     <validate nullTest="error"/>
                     <event activity="exit" name="event__exit">
                        <script contentType="application/x-javascript">
var cGlobalRequirement = script.core.validation.GlobalRequirement;
cGlobalRequirement.isEmailValid(this);
</script>
                     </event>
                  </field>
                  <border>
                     <edge/>
                     <corner thickness="0.175mm"/>
                  </border>
                  <?templateDesigner expand 1?></subform>
               <border>
                  <edge/>
                  <corner thickness="0.175mm"/>
               </border>
               <?templateDesigner expand 1?></subform>
            <subform name="sfDMFAgent" w="203.2mm" layout="tb">
               <subform name="sfAddressHeader" w="203.2mm" layout="lr-tb">
                  <draw h="5.999mm" name="lblAgentAddHeader" w="152.4mm">
                     <border>
                        <corner thickness="0.175mm"/>
                        <edge/>
                        <edge presence="hidden"/>
                        <edge/>
                        <edge/>
                        <corner thickness="0.175mm" presence="hidden"/>
                        <corner thickness="0.175mm"/>
                        <corner thickness="0.175mm"/>
                     </border>
                     <font typeface="Myriad Pro" baselineShift="0pt"/>
                     <margin bottomInset="0.5mm" leftInset="0.5mm" rightInset="0.5mm" topInset="0.5mm"/>
                     <para marginLeft="0pt" marginRight="0pt" spaceAbove="0pt" spaceBelow="0pt" textIndent="0pt" vAlign="middle"/>
                     <ui>
                        <textEdit>
                           <margin/>
                        </textEdit>
                     </ui>
                     <value>
                        <text>DMF AGENT NAME AND ADDRESS</text>
                     </value>
                     <assist role="H3"/>
                     <?renderCache.bounds 429166 14171 0 0 1417 1417 0 0?>
                     <?renderCache.textRun 26 DMF AGENT NAME AND ADDRESS 0 1417 11002 0 0 0 "Myriad Pro" 0 0 10000 ISO-8859-1?></draw>
                  <field name="chkSameAgentOwnerAddr" h="6mm" w="50.799mm">
                     <ui>
                        <checkButton>
                           <border>
                              <?templateDesigner StyleID apcb2?>
                              <edge stroke="lowered"/>
                              <fill/>
                           </border>
                        </checkButton>
                     </ui>
                     <font typeface="Myriad Pro"/>
                     <margin leftInset="1mm" rightInset="1mm"/>
                     <para vAlign="middle"/>
                     <value>
                        <text>No</text>
                     </value>
                     <caption placement="right" reserve="43.6522mm">
                        <para vAlign="middle" spaceAbove="0pt" spaceBelow="0pt" textIndent="0pt" marginLeft="0pt" marginRight="0pt"/>
                        <value>
                           <text>Same as DMF Owner</text>
                        </value>
                        <font typeface="Myriad Pro" baselineShift="0pt" size="8pt"/>
                     </caption>
                     <items>
                        <text>Yes</text>
                        <text>No</text>
                     </items>
                     <event activity="click" name="event__click">
                        <script contentType="application/x-javascript">
if (this.rawValue == "Yes") {
	this.resolveNode("sfAddressDetails").presence = "hidden";
	
	
	this.resolveNode("sfAddressDetails.txtCertCompanyName").rawValue = this.resolveNode("sfDMFOwner.sfNameAddress.txtOwnNameAddCompanyName").rawValue;
	this.resolveNode("sfAddressDetails.txtAgentAdd").rawValue = this.resolveNode("sfDMFOwner.sfNameAddress.txtOwnNameAdd").rawValue;
	this.resolveNode("sfAddressDetails.txtAgentAddCity").rawValue = this.resolveNode("sfDMFOwner.sfNameAddress.txtOwnNameAddCity").rawValue;
	this.resolveNode("sfAddressDetails.ddlCountry").rawValue = this.resolveNode("sfDMFOwner.sfNameAddress.ddlCountry").rawValue;
	this.resolveNode("sfAddressDetails.ddlProvince").rawValue = this.resolveNode("sfDMFOwner.sfNameAddress.ddlProvince").rawValue;
	this.resolveNode("sfAddressDetails.txtPostalCode").rawValue = this.resolveNode("sfDMFOwner.sfNameAddress.txtPostalCode").rawValue;


} else {
    
	this.resolveNode("sfAddressDetails").presence = "visible";
	this.resolveNode("sfAddressDetails.txtCertCompanyName").rawValue="";
	this.resolveNode("sfAddressDetails.txtAgentAdd").rawValue = "";
	this.resolveNode("sfAddressDetails.txtAgentAddCity").rawValue = "";
	this.resolveNode("sfAddressDetails.ddlCountry").rawValue = "";
	this.resolveNode("sfAddressDetails.ddlProvince").rawValue = "";
	this.resolveNode("sfAddressDetails.txtPostalCode").rawValue = "";
	
}
</script>
                     </event>
                     <border>
                        <edge/>
                        <corner thickness="0.175mm"/>
                        <edge/>
                        <edge/>
                        <edge presence="hidden"/>
                        <corner thickness="0.175mm"/>
                        <corner thickness="0.175mm"/>
                        <corner thickness="0.175mm" presence="hidden"/>
                     </border>
                  </field>
                  <margin topInset="0mm"/>
                  <border>
                     <edge/>
                     <fill>
                        <linear>
                           <color value="255,255,255"/>
                        </linear>
                        <color value="192,192,192"/>
                     </fill>
                     <corner thickness="0.175mm"/>
                  </border>
                  <?templateDesigner expand 1?></subform>
               <subform name="sfAddressDetails" w="203.2mm" layout="lr-tb">
                  <field h="11.133mm" name="txtCertCompanyName" w="203.148mm">
                     <ui>
                        <textEdit>
                           <border>
                              <edge stroke="lowered"/>
                              <?templateDesigner StyleID aped3?></border>
                           <margin/>
                        </textEdit>
                     </ui>
                     <font typeface="Myriad Pro"/>
                     <margin bottomInset="1mm" leftInset="1.0008mm" rightInset="1mm" topInset="1mm"/>
                     <para vAlign="middle"/>
                     <caption placement="top" reserve="2.921mm">
                        <font baselineShift="0pt" typeface="Myriad Pro" size="8pt"/>
                        <para marginLeft="0pt" marginRight="0pt" spaceAbove="0pt" spaceBelow="0pt" textIndent="0pt" vAlign="middle"/>
                        <value>
                           <text>Company Name*</text>
                        </value>
                     </caption>
                     <validate nullTest="error"/>
                     <border>
                        <edge/>
                        <corner thickness="0.175mm"/>
                     </border>
                     <event activity="exit" name="event__exit">
                        <script contentType="application/x-javascript">
var cCommon = script.DrugAppl.model.Common;

cCommon.isFilled(this);
</script>
                     </event>
                  </field>
                  <field h="11.133mm" name="txtAgentAdd" w="203.2mm">
                     <border>
                        <corner thickness="0.1753mm"/>
                        <edge/>
                     </border>
                     <caption placement="top" reserve="2.921mm">
                        <font typeface="Myriad Pro" baselineShift="0pt" size="8pt"/>
                        <para marginLeft="0pt" marginRight="0pt" spaceAbove="0pt" spaceBelow="0pt" textIndent="0pt" vAlign="middle"/>
                        <value>
                           <text>Street/Suite/PO Box*</text>
                        </value>
                     </caption>
                     <font typeface="Myriad Pro"/>
                     <margin bottomInset="1mm" leftInset="1mm" rightInset="1mm" topInset="1mm"/>
                     <para vAlign="middle"/>
                     <ui>
                        <textEdit>
                           <border>
                              <edge stroke="lowered"/>
                              <?templateDesigner StyleID aped3?></border>
                           <margin/>
                        </textEdit>
                     </ui>
                     <validate nullTest="error"/>
                     <event activity="exit" name="event__exit">
                        <script contentType="application/x-javascript">

var cCommon = script.DrugAppl.model.Common;

cCommon.isFilled(this);
</script>
                     </event>
                  </field>
                  <field h="11.133mm" name="txtAgentAddCity" w="50.7996mm">
                     <border>
                        <corner thickness="0.1753mm"/>
                        <edge/>
                     </border>
                     <caption placement="top" reserve="2.921mm">
                        <font typeface="Myriad Pro" baselineShift="0pt" size="8pt"/>
                        <para marginLeft="0pt" marginRight="0pt" spaceAbove="0pt" spaceBelow="0pt" textIndent="0pt" vAlign="middle"/>
                        <value>
                           <text>City - Town*</text>
                        </value>
                     </caption>
                     <font typeface="Myriad Pro"/>
                     <margin bottomInset="1mm" leftInset="1mm" rightInset="1mm" topInset="1mm"/>
                     <para vAlign="middle"/>
                     <ui>
                        <textEdit>
                           <border>
                              <edge stroke="lowered"/>
                              <?templateDesigner StyleID aped3?></border>
                           <margin/>
                        </textEdit>
                     </ui>
                     <validate nullTest="error"/>
                     <event activity="exit" name="event__exit">
                        <script contentType="application/x-javascript">

var cCommon = script.DrugAppl.model.Common;

cCommon.isFilled(this);
</script>
                     </event>
                  </field>
                  <field h="11.133mm" name="ddlCountry" w="50.8mm">
                     <border>
                        <corner thickness="0.1753mm"/>
                        <edge/>
                     </border>
                     <caption placement="top" reserve="2.921mm">
                        <font typeface="Myriad Pro" baselineShift="0pt" size="8pt"/>
                        <para marginLeft="0pt" marginRight="0pt" spaceAbove="0pt" spaceBelow="0pt" textIndent="0pt" vAlign="middle"/>
                        <value>
                           <text>Country*</text>
                        </value>
                     </caption>
                     <font typeface="Myriad Pro"/>
                     <margin bottomInset="1mm" leftInset="1mm" rightInset="1mm" topInset="1mm"/>
                     <para vAlign="middle"/>
                     <ui>
                        <choiceList>
                           <border>
                              <edge stroke="lowered"/>
                              <?templateDesigner StyleID aped3?></border>
                           <margin/>
                        </choiceList>
                     </ui>
                     <validate nullTest="error"/>
                     <event activity="exit" name="event__exit">
                        <script contentType="application/x-javascript">

var cCommon = script.DrugAppl.model.Common;

cCommon.isFilled(this);
</script>
                     </event>
                     <event activity="change" name="event__change">
                        <script contentType="application/x-javascript">if(xfa.event.prevText!=xfa.event.newText){
var cActionEvent = script.core.event.ActionEvent;
var cLog = script.core.util.Log;
var cAddressHandler = script.RegulatoryAddresses.control.RegulatoryAddressHandler;


try
{
	// set up event object
	var actionName =  cAddressHandler.PART1B_COUNTRY_CHANGED_ACTION;
	this.rawValue=this.boundItem(xfa.event.newText);
	var anActionEvent = cActionEvent.createInstance(actionName, this,this.boundItem(xfa.event.newText));
	// deploy event to controller
	cAddressHandler.actionPerformed(anActionEvent);
}
catch(exception)
{
	cLog.warn("Problem with Manufacturer Country selection ::exit", exception);
}

var cCommon = script.DrugAppl.model.Common;

if (!($.boundItem(xfa.event.newText)== "CA") &amp;&amp;  !($.boundItem(xfa.event.newText)== "US")) {
  
  this.resolveNode("ddlProvince").presence = "hidden";
  this.resolveNode("txtProvince").rawValue = " ";
  this.resolveNode("txtProvince").presence = "visible";
  cCommon.setAsOptionField(this.resolveNode("txtPostalCode"));
  //cCommon.setAsRequiredField(this.resolveNode("txtProvince"));
  //cCommon.setAsOptionField(this.resolveNode("txtProvince"));
  
}
else {
cCommon.setAsOptionField(this.resolveNode("txtPostalCode"));
  cCommon.setAsRequiredField(this.resolveNode("txtPostalCode"));
  this.resolveNode("ddlProvince").presence = "visible";
  this.resolveNode("txtProvince").presence = "hidden";
  
}
}
</script>
                     </event>
                  </field>
                  <field h="11.133mm" name="ddlProvince" w="50.8mm">
                     <border>
                        <corner thickness="0.1753mm"/>
                        <edge/>
                     </border>
                     <caption placement="top" reserve="2.921mm">
                        <font typeface="Myriad Pro" baselineShift="0pt" size="8pt"/>
                        <para marginLeft="0pt" marginRight="0pt" spaceAbove="0pt" spaceBelow="0pt" textIndent="0pt" vAlign="middle"/>
                        <value>
                           <text>Province - State*</text>
                        </value>
                     </caption>
                     <font typeface="Myriad Pro"/>
                     <margin bottomInset="1mm" leftInset="1mm" rightInset="1mm" topInset="1mm"/>
                     <para vAlign="middle"/>
                     <ui>
                        <choiceList>
                           <border>
                              <edge stroke="lowered"/>
                              <?templateDesigner StyleID aped3?></border>
                           <margin/>
                        </choiceList>
                     </ui>
                     <?templateDesigner expand 1?>
                     <event activity="enter" name="event__enter">
                        <script contentType="application/x-javascript">var cSystem = script.core.System;
cSystem.setCurrentField(this);

</script>
                     </event>
                     <event activity="exit" name="event__exit">
                        <script contentType="application/x-javascript">
var cSystem = script.core.System;
var cFailureReporter = script.core.validation.FailureReporter;
var cFormNodeManager = script.core.model.FormNodeManager;

if(cSystem.hasCurrentFieldValueChanged(this)){

	PROVINCE_FN=cFormNodeManager.getFormNodeForKey("ddlAgentAddProvince");
	var validationFailures=PROVINCE_FN.validateNode(this,false);
	
	//to do form node checking
	if(validationFailures!==null){
		xfa.host.messageBox(cFailureReporter.getFailureSummary(validationFailures)); }
		else{
	
	}
}

var cCommon = script.DrugAppl.model.Common;

cCommon.isFilled(this);
</script>
                     </event>
                  </field>
                  <field h="11.133mm" name="txtProvince" w="50.8mm" presence="hidden">
                     <border>
                        <corner thickness="0.1753mm"/>
                        <edge/>
                     </border>
                     <caption placement="top" reserve="2.921mm">
                        <font typeface="Myriad Pro" baselineShift="0pt" size="8pt"/>
                        <para marginLeft="0pt" marginRight="0pt" spaceAbove="0pt" spaceBelow="0pt" textIndent="0pt" vAlign="middle"/>
                        <value>
                           <text>Province/State</text>
                        </value>
                     </caption>
                     <font typeface="Myriad Pro"/>
                     <margin bottomInset="1mm" leftInset="1mm" rightInset="1mm" topInset="1mm"/>
                     <para vAlign="middle"/>
                     <ui>
                        <textEdit>
                           <border>
                              <edge stroke="lowered"/>
                              <?templateDesigner StyleID aped3?></border>
                           <margin/>
                        </textEdit>
                     </ui>
                     <event activity="initialize" name="event__initialize">
                        <script contentType="application/x-javascript">
var cDrugApplModel=script.DrugAppl.model.DrugApplMain;

var language = cDrugApplModel.getLanguage();


if (language = "en"){
	this.resolveNode("$").caption.value.text.value = "Province/State";
} else {
	this.resolveNode("$").caption.value.text.value = "Province/état";
}
</script>
                     </event>
                  </field>
                  <field h="11.133mm" name="txtPostalCode" w="50.8mm">
                     <border>
                        <corner thickness="0.1753mm"/>
                        <edge/>
                     </border>
                     <caption placement="top" reserve="2.921mm">
                        <font typeface="Myriad Pro" baselineShift="0pt" size="8pt"/>
                        <para marginLeft="0pt" marginRight="0pt" spaceAbove="0pt" spaceBelow="0pt" textIndent="0pt" vAlign="middle"/>
                        <value>
                           <text>Postal/ZIP Code*</text>
                        </value>
                     </caption>
                     <font typeface="Myriad Pro"/>
                     <margin bottomInset="1mm" leftInset="1mm" rightInset="1mm" topInset="1mm"/>
                     <para vAlign="middle"/>
                     <ui>
                        <textEdit>
                           <border>
                              <edge stroke="lowered"/>
                              <?templateDesigner StyleID aped3?></border>
                           <margin/>
                        </textEdit>
                     </ui>
                     <event activity="exit" name="event__exit">
                        <script contentType="application/x-javascript">
var cGlobalRequirement = script.core.validation.GlobalRequirement;
cGlobalRequirement.isPostalcodeValid(this, ddlCountry.rawValue);
</script>
                     </event>
                  </field>
                  <margin topInset="0mm"/>
                  <?templateDesigner expand 1?></subform>
               <subform name="sfAgentContactHeader" w="8in" layout="lr-tb">
                  <draw h="5.999mm" name="lblAgentContactHeader" w="152.4mm">
                     <border>
                        <corner thickness="0.175mm"/>
                        <edge/>
                        <edge presence="hidden"/>
                        <edge/>
                        <edge/>
                        <corner thickness="0.175mm" presence="hidden"/>
                        <corner thickness="0.175mm"/>
                        <corner thickness="0.175mm"/>
                     </border>
                     <font typeface="Myriad Pro" baselineShift="0pt"/>
                     <margin bottomInset="0.5002mm" leftInset="0.5002mm" rightInset="0.5002mm" topInset="0.5002mm"/>
                     <para marginLeft="0pt" marginRight="0pt" spaceAbove="0pt" spaceBelow="0pt" textIndent="0pt" vAlign="middle"/>
                     <ui>
                        <textEdit>
                           <margin/>
                        </textEdit>
                     </ui>
                     <value>
                        <text>DMF AGENT CONTACT</text>
                     </value>
                     <assist role="H3">
                        <speak disable="1"/>
                     </assist>
                     <?renderCache.bounds 429164 14169 0 0 1418 1418 0 0?>
                     <?renderCache.textRun 17 DMF AGENT CONTACT 0 1418 11002 0 0 0 "Myriad Pro" 0 0 10000 ISO-8859-1?></draw>
                  <field name="chkSameAgentOwnerContact" w="50.799mm" h="6mm">
                     <ui>
                        <checkButton>
                           <border>
                              <?templateDesigner StyleID apcb2?>
                              <edge stroke="lowered"/>
                              <fill/>
                           </border>
                        </checkButton>
                     </ui>
                     <font typeface="Myriad Pro"/>
                     <margin leftInset="1mm" rightInset="1mm"/>
                     <para vAlign="middle"/>
                     <value>
                        <text>No</text>
                     </value>
                     <caption placement="right" reserve="43.59mm">
                        <para vAlign="middle" spaceAbove="0pt" spaceBelow="0pt" textIndent="0pt" marginLeft="0pt" marginRight="0pt"/>
                        <value>
                           <text>Same as DMF Owner</text>
                        </value>
                        <font typeface="Myriad Pro" baselineShift="0pt" size="8pt"/>
                     </caption>
                     <items>
                        <text>Yes</text>
                        <text>No</text>
                     </items>
                     <event activity="click" name="event__click">
                        <script contentType="application/x-javascript">
if (this.rawValue == "Yes") {
	this.resolveNode("sfAgentContactDetails").presence = "hidden";
	
	
	this.resolveNode("sfAgentContactDetails.ddlAgentContactSalutation").rawValue = this.resolveNode("sfDMFOwner.sfOwnerContact.ddlOwnContactSalutation").rawValue;
	this.resolveNode("sfAgentContactDetails.txtAgentContactGivenName").rawValue = this.resolveNode("sfDMFOwner.sfOwnerContact.txtOwnContactGivenName").rawValue;
	this.resolveNode("sfAgentContactDetails.txtAgentContactSurname").rawValue = this.resolveNode("sfDMFOwner.sfOwnerContact.txtOwnContactSurname").rawValue;
	this.resolveNode("sfAgentContactDetails.txtAgentContactTitle").rawValue = this.resolveNode("sfDMFOwner.sfOwnerContact.txtOwnContactTitle").rawValue;
	this.resolveNode("sfAgentContactDetails.ddlAgentContactLang").rawValue = this.resolveNode("sfDMFOwner.sfOwnerContact.ddlOwnContactLang").rawValue;
	this.resolveNode("sfAgentContactDetails.txtAgentContactTel").rawValue = this.resolveNode("sfDMFOwner.sfOwnerContact.txtOwnContactTel").rawValue;
	this.resolveNode("sfAgentContactDetails.txtAgentContactFax").rawValue = this.resolveNode("sfDMFOwner.sfOwnerContact.txtOwnContactFax").rawValue;
	this.resolveNode("sfAgentContactDetails.txtAgentContactEmail").rawValue = this.resolveNode("sfDMFOwner.sfOwnerContact.txtOwnContactEmail").rawValue;


} else {
	this.resolveNode("sfAgentContactDetails").presence = "visible";


	this.resolveNode("sfAgentContactDetails.ddlAgentContactSalutation").rawValue = "";
	this.resolveNode("sfAgentContactDetails.txtAgentContactGivenName").rawValue = "";
	this.resolveNode("sfAgentContactDetails.txtAgentContactSurname").rawValue = "";
	this.resolveNode("sfAgentContactDetails.txtAgentContactTitle").rawValue = "";
	this.resolveNode("sfAgentContactDetails.ddlAgentContactLang").rawValue = "";
	this.resolveNode("sfAgentContactDetails.txtAgentContactTel").rawValue = "";
	this.resolveNode("sfAgentContactDetails.txtAgentContactFax").rawValue = "";
	this.resolveNode("sfAgentContactDetails.txtAgentContactEmail").rawValue = "";
	
}
</script>
                     </event>
                     <border>
                        <edge/>
                        <corner thickness="0.175mm"/>
                        <edge/>
                        <edge/>
                        <edge presence="hidden"/>
                        <corner thickness="0.175mm"/>
                        <corner thickness="0.175mm"/>
                        <corner thickness="0.175mm" presence="hidden"/>
                     </border>
                  </field>
                  <margin bottomInset="0mm" topInset="0mm"/>
                  <border>
                     <edge/>
                     <corner thickness="0.175mm"/>
                     <fill>
                        <linear>
                           <color value="255,255,255"/>
                        </linear>
                        <color value="192,192,192"/>
                     </fill>
                  </border>
                  <?templateDesigner expand 1?></subform>
               <subform name="sfAgentContactDetails" w="8in" layout="lr-tb">
                  <field h="11.133mm" name="ddlAgentContactSalutation" w="27.832mm">
                     <caption placement="top" reserve="2.921mm">
                        <para vAlign="middle"/>
                        <value>
                           <text>Salutation*</text>
                        </value>
                        <font typeface="Myriad Pro" size="8pt"/>
                     </caption>
                     <font typeface="Myriad Pro"/>
                     <items save="1"/>
                     <margin bottomInset="1mm" leftInset="1mm" rightInset="1mm" topInset="1mm"/>
                     <para vAlign="middle"/>
                     <ui>
                        <choiceList>
                           <border>
                              <edge stroke="lowered"/>
                              <?templateDesigner StyleID aped3?></border>
                           <margin/>
                        </choiceList>
                     </ui>
                     <validate nullTest="error"/>
                     <border>
                        <edge/>
                        <corner thickness="0.175mm"/>
                     </border>
                     <event activity="exit" name="event__exit">
                        <script contentType="application/x-javascript">
var cCommon = script.DrugAppl.model.Common;

cCommon.isFilled(this);
</script>
                     </event>
                  </field>
                  <field h="11.133mm" name="txtAgentContactGivenName" w="38.1mm">
                     <border>
                        <corner thickness="0.175mm"/>
                        <edge/>
                     </border>
                     <caption placement="top" reserve="2.921mm">
                        <font typeface="Myriad Pro" baselineShift="0pt" size="8pt"/>
                        <para marginLeft="0pt" marginRight="0pt" spaceAbove="0pt" spaceBelow="0pt" textIndent="0pt" vAlign="middle"/>
                        <value>
                           <text>Given Name*</text>
                        </value>
                     </caption>
                     <font typeface="Myriad Pro"/>
                     <margin bottomInset="1mm" leftInset="1mm" rightInset="1mm" topInset="1mm"/>
                     <para vAlign="middle"/>
                     <ui>
                        <textEdit>
                           <border>
                              <edge stroke="lowered"/>
                              <?templateDesigner StyleID aped3?></border>
                           <margin/>
                        </textEdit>
                     </ui>
                     <validate nullTest="error"/>
                     <event activity="exit" name="event__exit">
                        <script contentType="application/x-javascript">

var cCommon = script.DrugAppl.model.Common;

cCommon.isFilled(this);
</script>
                     </event>
                  </field>
                  <field name="txtAgentContactInitials" w="12.7mm" h="11.133mm">
                     <ui>
                        <textEdit>
                           <border>
                              <edge stroke="lowered"/>
                              <?templateDesigner StyleID aped3?></border>
                           <margin/>
                        </textEdit>
                     </ui>
                     <font typeface="Myriad Pro"/>
                     <margin topInset="1mm" bottomInset="1mm" leftInset="1mm" rightInset="1mm"/>
                     <para vAlign="middle"/>
                     <caption reserve="2.9108mm" placement="top">
                        <para vAlign="middle" spaceAbove="0pt" spaceBelow="0pt" textIndent="0pt" marginLeft="0pt" marginRight="0pt"/>
                        <value>
                           <text>Initials</text>
                        </value>
                        <font size="8pt" typeface="Myriad Pro" baselineShift="0pt"/>
                     </caption>
                     <border>
                        <edge/>
                        <corner thickness="0.175mm"/>
                     </border>
                  </field>
                  <field h="11.133mm" name="txtAgentContactSurname" w="50.8mm">
                     <border>
                        <corner thickness="0.175mm"/>
                        <edge/>
                     </border>
                     <caption placement="top" reserve="2.921mm">
                        <font typeface="Myriad Pro" baselineShift="0pt" size="8pt"/>
                        <para marginLeft="0pt" marginRight="0pt" spaceAbove="0pt" spaceBelow="0pt" textIndent="0pt" vAlign="middle"/>
                        <value>
                           <text>Surname*</text>
                        </value>
                     </caption>
                     <font typeface="Myriad Pro"/>
                     <margin bottomInset="1mm" leftInset="1mm" rightInset="1mm" topInset="1mm"/>
                     <para vAlign="middle"/>
                     <ui>
                        <textEdit>
                           <border>
                              <edge stroke="lowered"/>
                              <?templateDesigner StyleID aped3?></border>
                           <margin/>
                        </textEdit>
                     </ui>
                     <validate nullTest="error"/>
                     <event activity="exit" name="event__exit">
                        <script contentType="application/x-javascript">

var cCommon = script.DrugAppl.model.Common;

cCommon.isFilled(this);
</script>
                     </event>
                  </field>
                  <field h="11.133mm" name="txtAgentContactTitle" w="50.648mm">
                     <border>
                        <corner thickness="0.175mm"/>
                        <edge/>
                     </border>
                     <caption placement="top" reserve="2.921mm">
                        <font typeface="Myriad Pro" baselineShift="0pt" size="8pt"/>
                        <para marginLeft="0pt" marginRight="0pt" spaceAbove="0pt" spaceBelow="0pt" textIndent="0pt" vAlign="middle"/>
                        <value>
                           <text>Title*</text>
                        </value>
                     </caption>
                     <font typeface="Myriad Pro"/>
                     <margin bottomInset="1mm" leftInset="1mm" rightInset="1mm" topInset="1mm"/>
                     <para vAlign="middle"/>
                     <ui>
                        <textEdit>
                           <border>
                              <edge stroke="lowered"/>
                              <?templateDesigner StyleID aped3?></border>
                           <margin/>
                        </textEdit>
                     </ui>
                     <validate nullTest="error"/>
                     <event activity="exit" name="event__exit">
                        <script contentType="application/x-javascript">
var cCommon = script.DrugAppl.model.Common;

cCommon.isFilled(this);
</script>
                     </event>
                  </field>
                  <field name="ddlAgentContactLang" w="23.015mm" h="11.133mm">
                     <ui>
                        <choiceList>
                           <border>
                              <?templateDesigner StyleID aped3?>
                              <edge stroke="lowered"/>
                           </border>
                           <margin/>
                        </choiceList>
                     </ui>
                     <font typeface="Myriad Pro"/>
                     <margin topInset="1mm" bottomInset="1mm" leftInset="1mm" rightInset="1mm"/>
                     <para vAlign="middle"/>
                     <caption reserve="2.921mm" placement="top">
                        <para vAlign="middle"/>
                        <value>
                           <text>Language*</text>
                        </value>
                        <font size="8pt" typeface="Myriad Pro"/>
                     </caption>
                     <items save="1">
                        <text>English</text>
                        <text>French</text>
                     </items>
                     <validate nullTest="error"/>
                     <border>
                        <edge/>
                        <corner thickness="0.175mm"/>
                     </border>
                     <event activity="exit" name="event__exit">
                        <script contentType="application/x-javascript">

var cCommon = script.DrugAppl.model.Common;

cCommon.isFilled(this);
</script>
                     </event>
                  </field>
                  <field h="11.133mm" name="txtAgentContactTel" w="38.1067mm">
                     <border>
                        <corner thickness="0.175mm"/>
                        <edge/>
                     </border>
                     <caption placement="top" reserve="2.921mm">
                        <font typeface="Myriad Pro" baselineShift="0pt" size="8pt"/>
                        <para marginLeft="0pt" marginRight="0pt" spaceAbove="0pt" spaceBelow="0pt" textIndent="0pt" vAlign="middle"/>
                        <value>
                           <text>Telephone Number*</text>
                        </value>
                     </caption>
                     <font typeface="Myriad Pro"/>
                     <margin bottomInset="1mm" leftInset="1mm" rightInset="1mm" topInset="1mm"/>
                     <para vAlign="middle"/>
                     <ui>
                        <textEdit>
                           <border>
                              <edge stroke="lowered"/>
                              <?templateDesigner StyleID aped3?></border>
                           <margin/>
                        </textEdit>
                     </ui>
                     <validate nullTest="error"/>
                     <event activity="exit" name="event__exit">
                        <script contentType="application/x-javascript">var cGlobalRequirement = script.core.validation.GlobalRequirement;
cGlobalRequirement .isPhoneValid(this, this.parent.parent.sfAddressDetails.ddlCountry.rawValue);
</script>
                     </event>
                  </field>
                  <field name="txtAgentContactExt" w="24.333mm" h="11.133mm">
                     <ui>
                        <numericEdit>
                           <border>
                              <edge stroke="lowered"/>
                              <?templateDesigner StyleID aped3?></border>
                           <margin/>
                        </numericEdit>
                     </ui>
                     <font typeface="Myriad Pro"/>
                     <margin topInset="1mm" bottomInset="1mm" leftInset="1mm" rightInset="1mm"/>
                     <para vAlign="middle"/>
                     <caption reserve="2.921mm" placement="top">
                        <font size="8pt" typeface="Myriad Pro" baselineShift="0pt"/>
                        <para vAlign="middle" spaceAbove="0pt" spaceBelow="0pt" textIndent="0pt" marginLeft="0pt" marginRight="0pt"/>
                        <value>
                           <text>Ext.</text>
                        </value>
                     </caption>
                     <format>
                        <picture>num{zzzzzzzzzzzz9}</picture>
                     </format>
                     <border>
                        <edge/>
                        <corner thickness="0.175mm"/>
                     </border>
                  </field>
                  <margin bottomInset="0mm" topInset="0mm"/>
                  <field h="11.133mm" name="txtAgentContactFax" w="38.1mm">
                     <border>
                        <corner thickness="0.175mm"/>
                        <edge/>
                     </border>
                     <caption placement="top" reserve="2.921mm">
                        <font typeface="Myriad Pro" baselineShift="0pt" size="8pt"/>
                        <para marginLeft="0pt" marginRight="0pt" spaceAbove="0pt" spaceBelow="0pt" textIndent="0pt" vAlign="middle"/>
                        <value>
                           <text>Fax Number</text>
                        </value>
                     </caption>
                     <font typeface="Myriad Pro"/>
                     <margin bottomInset="1mm" leftInset="1mm" rightInset="1mm" topInset="1mm"/>
                     <para vAlign="middle"/>
                     <ui>
                        <textEdit>
                           <border>
                              <edge stroke="lowered"/>
                              <?templateDesigner StyleID aped3?></border>
                           <margin/>
                        </textEdit>
                     </ui>
                     <event activity="exit" name="event__exit">
                        <script contentType="application/x-javascript">var cGlobalRequirement = script.core.validation.GlobalRequirement;
cGlobalRequirement .isFaxValid(this, this.parent.parent.sfAddressDetails.ddlCountry.rawValue);
</script>
                     </event>
                  </field>
                  <field h="11.133mm" name="txtAgentContactEmail" w="102.66mm">
                     <border>
                        <corner thickness="0.175mm"/>
                        <edge/>
                     </border>
                     <caption placement="top" reserve="2.921mm">
                        <font typeface="Myriad Pro" baselineShift="0pt" size="8pt"/>
                        <para marginLeft="0pt" marginRight="0pt" spaceAbove="0pt" spaceBelow="0pt" textIndent="0pt" vAlign="middle"/>
                        <value>
                           <text>Email*</text>
                        </value>
                     </caption>
                     <font typeface="Myriad Pro"/>
                     <margin bottomInset="1mm" leftInset="1mm" rightInset="1mm" topInset="1mm"/>
                     <para vAlign="middle"/>
                     <ui>
                        <textEdit>
                           <border>
                              <edge stroke="lowered"/>
                              <?templateDesigner StyleID aped3?></border>
                           <margin/>
                        </textEdit>
                     </ui>
                     <validate nullTest="error"/>
                     <event activity="exit" name="event__exit">
                        <script contentType="application/x-javascript">var cGlobalRequirement = script.core.validation.GlobalRequirement;
cGlobalRequirement.isEmailValid(this);
</script>
                     </event>
                  </field>
                  <border>
                     <edge/>
                     <corner thickness="0.175mm"/>
                  </border>
                  <?templateDesigner expand 1?></subform>
               <margin topInset="5.08mm"/>
               <border>
                  <edge/>
                  <corner thickness="0.175mm"/>
               </border>
               <?templateDesigner expand 1?></subform>
            <?templateDesigner expand 1?></subform>
         <subform w="203.2mm" name="sfCertification" layout="lr-tb">
            <draw name="lblCertificationHeader" w="203.2mm" h="7.62mm">
               <ui>
                  <textEdit/>
               </ui>
               <value>
                  <text>2. CERTIFICATION</text>
               </value>
               <font size="12pt" typeface="Myriad Pro" weight="bold" baselineShift="0pt"/>
               <margin topInset="2.54mm" bottomInset="0.5mm" leftInset="0.5mm" rightInset="0.5mm"/>
               <para spaceAbove="0pt" spaceBelow="0pt" textIndent="0pt" marginLeft="0pt" marginRight="0pt"/>
               <border>
                  <edge/>
                  <corner thickness="0.175mm"/>
                  <fill>
                     <linear>
                        <color value="255,255,255"/>
                     </linear>
                     <color value="255,255,153"/>
                  </fill>
               </border>
               <assist role="H2"/>
               <?renderCache.bounds 573166 12983 0 0 1417 7200 0 0?>
               <?renderCache.textRun 16 2. CERTIFICATION 0 1417 16200 0 0 0 "Myriad Pro" 1 0 12000 ISO-8859-1?></draw>
            <draw name="txtUndersigned" w="8in" h="7.789mm">
               <ui>
                  <textEdit/>
               </ui>
               <value>
                  <text>I, the undersigned, certify that the information and material included in this Drug Master File application is accurate and complete</text>
               </value>
               <font typeface="Myriad Pro" baselineShift="0pt" size="8pt"/>
               <margin topInset="1.27mm" bottomInset="0.5mm" leftInset="0.5mm" rightInset="0.5mm"/>
               <para spaceAbove="0pt" spaceBelow="0pt" textIndent="0pt" marginLeft="0pt" marginRight="0pt"/>
               <border>
                  <edge/>
                  <corner thickness="0.175mm"/>
               </border>
               <?renderCache.bounds 573166 17062 0 0 1417 3600 0 0?>
               <?renderCache.textRun 132 I, the undersigned, certify that the information and material included in this Drug Master File application is accurate and complete 0 1417 9600 0 0 0 "Myriad Pro" 0 0 8000 ISO-8859-1?></draw>
            <field name="sigAuthorCertification" y="0.981653in" w="76.2mm" h="13.707mm">
               <ui>
                  <textEdit>
                     <border>
                        <?templateDesigner StyleID aped3?>
                        <edge stroke="lowered"/>
                     </border>
                     <margin/>
                  </textEdit>
               </ui>
               <font typeface="Myriad Pro"/>
               <margin topInset="1mm" bottomInset="1mm" leftInset="1mm" rightInset="1mm"/>
               <para vAlign="middle"/>
               <caption reserve="4.8881mm" placement="top">
                  <para vAlign="middle" spaceAbove="0pt" spaceBelow="0pt" textIndent="0pt" marginLeft="0pt" marginRight="0pt"/>
                  <value>
                     <text>Name of Authorized Signing Official*</text>
                  </value>
                  <font typeface="Myriad Pro" size="8pt" baselineShift="0pt"/>
               </caption>
               <border>
                  <edge/>
                  <corner thickness="0.175mm"/>
               </border>
               <bind match="none"/>
               <validate nullTest="error"/>
               <event activity="exit" name="event__exit">
                  <script contentType="application/x-javascript">
var cCommon = script.DrugAppl.model.Common;

cCommon.isFilled(this);
</script>
               </event>
            </field>
            <border>
               <edge/>
               <corner thickness="0.175mm"/>
            </border>
            <draw name="Rectangle3" w="112.607mm" h="6.495mm">
               <value>
                  <rectangle>
                     <edge presence="hidden"/>
                     <corner radius="5.08mm" presence="hidden"/>
                  </rectangle>
               </value>
            </draw>
            <exclGroup name="signatureOption" layout="lr-tb" presence="hidden">
               <?templateDesigner itemValuesSpecified 1?>
               <field w="28mm" h="6mm" name="chkDigitalID">
                  <ui>
                     <checkButton shape="round">
                        <border>
                           <?templateDesigner StyleID apcb4?>
                           <edge stroke="lowered"/>
                           <fill/>
                        </border>
                     </checkButton>
                  </ui>
                  <font typeface="Myriad Pro"/>
                  <margin leftInset="1mm" rightInset="1mm"/>
                  <para vAlign="middle"/>
                  <caption placement="right" reserve="22mm">
                     <para vAlign="middle"/>
                     <value>
                        <text>Digital ID</text>
                     </value>
                     <font typeface="Myriad Pro" size="8pt"/>
                  </caption>
                  <items>
                     <integer>1</integer>
                  </items>
                  <value>
                     <text xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:nil="true"/>
                  </value>
                  <event activity="click" name="event__click">
                     <script contentType="application/x-javascript">

//sfSignature.sigSignatureAttestation.presence = "visible";
//sfSignature.sfImgSignature.presence = "hidden";
this.parent.parent.digSignature.presence="visible";
this.parent.parent.Rectangle2.presence="hidden"
this.parent.parent.imgSignature.presence="hidden"
</script>
                  </event>
               </field>
               <field w="51.375mm" h="6mm" name="chkDigitalImage">
                  <ui>
                     <checkButton shape="round">
                        <border>
                           <?templateDesigner StyleID apcb4?>
                           <edge stroke="lowered"/>
                           <fill/>
                        </border>
                     </checkButton>
                  </ui>
                  <font typeface="Myriad Pro"/>
                  <margin leftInset="1mm" rightInset="1mm"/>
                  <para vAlign="middle"/>
                  <caption placement="right" reserve="45.375mm">
                     <para vAlign="middle"/>
                     <value>
                        <text>Image Signature</text>
                     </value>
                     <font typeface="Myriad Pro" size="8pt"/>
                  </caption>
                  <items>
                     <integer>2</integer>
                  </items>
                  <event activity="click" name="event__click">
                     <script contentType="application/x-javascript">

//sfSignature.sigSignatureAttestation.presence = "hidden";
//sfSignature.sfImgSignature.presence = "visible";
this.parent.parent.digSignature.presence="hidden";
this.parent.parent.Rectangle2.presence="hidden"
this.parent.parent.imgSignature.presence="visible"
</script>
                  </event>
               </field>
               <?templateDesigner expand 1?></exclGroup>
            <draw name="Rectangle1" w="119.247mm" h="5.598mm" presence="hidden">
               <value>
                  <rectangle>
                     <edge presence="hidden"/>
                     <corner radius="5.08mm" presence="hidden"/>
                  </rectangle>
               </value>
            </draw>
            <field name="digSignature" w="115.08mm" h="10.811mm" presence="hidden">
               <ui>
                  <signature type="PDF1.6">
                     <border>
                        <edge stroke="lowered"/>
                        <?templateDesigner StyleID aped3?></border>
                     <margin/>
                     <manifest action="all"/>
                  </signature>
               </ui>
               <font typeface="Myriad Pro" size="8pt"/>
               <margin topInset="1mm" bottomInset="1mm" leftInset="1mm" rightInset="1mm"/>
               <para vAlign="middle"/>
               <caption reserve="31.2792mm">
                  <para vAlign="middle"/>
                  <value>
                     <text>Senior Medical/Scientific Officer Signature*</text>
                  </value>
               </caption>
               <bind match="none"/>
               <border>
                  <edge/>
                  <corner thickness="0.175mm"/>
               </border>
               <event activity="click" name="event__click">
                  <script contentType="application/x-javascript">



//script.validation.#variables.
</script>
               </event>
               <event activity="preSign" name="event__preSign">
                  <script contentType="application/x-javascript">

var accessDate = "";

    accessDate = new Date();
    accessDate = util.printd("yyyy-mm-dd", accessDate);
this.parent.ddtDate.rawValue=accessDate;
DrugAppl.sfPage1.sfFormButtons.btnModifyBottom.fillColor = "230,230,230";
</script>
               </event>
               <event activity="postSign" name="event__postSign">
                  <script contentType="application/x-javascript">

//This example examines the validity of all signed objects on a form. For
//each signed object, the integer return value of the verify() method
// displays in a message box.
//app.alert("hello");
//app.alert(event.target.getField("HCeForm[0].sfPage1[0].sfAuthSignOfficial[0].sfHeader[0].digSignature[0]").signatureValidate());
if(DrugAppl.sfPage1.sfFormButtons.btnModifyBottom.access=="open"){
this.parent.ddtDate.rawValue=null;
DrugAppl.sfPage1.sfFormButtons.btnModifyBottom.fillColor = "212,208,200";
}
xfa.layout.ready;


</script>
               </event>
            </field>
            <field name="imgSignature" w="115.08mm" h="10.81mm" presence="hidden">
               <ui>
                  <imageEdit data="embed"/>
               </ui>
               <caption reserve="32.2801mm">
                  <font size="8pt" typeface="Myriad Pro" baselineShift="0pt"/>
                  <para vAlign="middle" spaceAbove="0pt" spaceBelow="0pt" textIndent="0pt" marginLeft="0pt" marginRight="0pt"/>
                  <value>
                     <text>Senior Medical/Scientific Officer Signature*</text>
                  </value>
               </caption>
               <border>
                  <edge/>
                  <corner thickness="0.175mm"/>
               </border>
               <desc>
                  <text name="embeddedHref">Unknown Embedded URI</text>
               </desc>
               <event activity="click" name="event__click">
                  <script contentType="application/x-javascript">
if(this.rawValue!=null){

var cCommon = script.DrugAppl.model.Common;
//this.resolveNode("script.HCeForm.model.#variables.formValidation").makeReadonly();
cCommon.makeReadonly();
//this.resolveNode("script.validation.#variables.formValidation").makeReadonly();
var accessDate = "";

    accessDate = new Date();
    accessDate = util.printd("yyyy-mm-dd", accessDate);
this.parent.ddtDate.rawValue=accessDate;
DrugAppl.sfPage1.sfFormButtons.btnModifyBottom.fillColor = "230,230,230";
app.execMenuItem("SaveAs");

}
//script.validation.#variables.
//this.resolveNode("script.validation.#variables.formValidation").makeReadonly();



//script.validation.#variables.
</script>
               </event>
               <margin leftInset="0.381mm" topInset="0.381mm" bottomInset="0.381mm" rightInset="0.381mm"/>
            </field>
            <draw name="Rectangle2" w="115.08mm" h="5.598mm" presence="hidden">
               <value>
                  <rectangle>
                     <edge presence="hidden"/>
                     <corner radius="5.08mm" presence="hidden"/>
                  </rectangle>
               </value>
            </draw>
            <field name="ddtDate" w="85.289mm" h="10.81mm" access="protected" presence="hidden">
               <ui>
                  <dateTimeEdit hScrollPolicy="off">
                     <border hand="right">
                        <?templateDesigner StyleID aped2?>
                        <edge/>
                     </border>
                     <margin/>
                     <comb numberOfCells="10"/>
                  </dateTimeEdit>
                  <picture>date{YYYY-MM-DD}</picture>
               </ui>
               <font typeface="Myriad Pro"/>
               <margin topInset="1.0008mm" bottomInset="1mm" leftInset="1mm" rightInset="1mm"/>
               <para vAlign="middle"/>
               <value>
                  <date/>
               </value>
               <caption reserve="30.2626mm">
                  <para vAlign="middle"/>
                  <value>
                     <text>Date (YYYY-MM-DD)</text>
                  </value>
                  <font typeface="Myriad Pro" size="8pt"/>
               </caption>
               <format>
                  <picture>date{YYYY-MM-DD}</picture>
               </format>
               <border>
                  <edge/>
                  <corner thickness="0.175mm"/>
               </border>
               <validate>
                  <picture>date{YYYY-MM-DD}</picture>
               </validate>
               <bind>
                  <picture>date{YYYY-MM-DD}</picture>
               </bind>
               <assist>
                  <speak disable="1"/>
               </assist>
            </field>
            <?templateDesigner expand 1?>
         </subform>
         <subform w="202.921mm" minH="18mm" layout="lr-tb" name="sfFormButtons">
            <margin topInset="5.08mm"/>
            <draw name="txtUndersignedBottom" w="7.989014in" h="8.746mm">
               <ui>
                  <textEdit/>
               </ui>
               <font typeface="Myriad Pro" baselineShift="0pt" size="8pt"/>
               <margin topInset="1.27mm" bottomInset="0.5mm" leftInset="0.5mm" rightInset="0.5mm"/>
               <para spaceAbove="0pt" spaceBelow="0pt" textIndent="0pt" marginLeft="0pt" marginRight="0pt"/>
               <value>
                  <text>If the signing official is a third party acting on behalf of the Drug Master File (DMF) Owner, , an agent letter of authorization signed by the DMF Owner must be filed with the completed application form.</text>
               </value>
               <border>
                  <edge/>
                  <corner thickness="0.175mm"/>
               </border>
               <?renderCache.bounds 572375 19775 0 0 1417 3600 0 0?>
               <?renderCache.textRun 177 If the signing official is a third party acting on behalf of the Drug Master File (DMF) Owner, , an agent letter of authorization signed by the DMF Owner must be filed with the  0 1417 9600 0 0 0 "Myriad Pro" 0 0 8000 ISO-8859-1?>
               <?renderCache.textRun 27 completed application form. 0 1417 19200 0 0 0 "Myriad Pro" 0 0 8000 ISO-8859-1?></draw>
            <draw name="txtEmpty" w="203.199mm" h="6.35mm">
               <ui>
                  <textEdit/>
               </ui>
               <font typeface="Myriad Pro"/>
               <margin topInset="0.5mm" bottomInset="0.5mm" leftInset="0.5mm" rightInset="0.5mm"/>
               <assist>
                  <speak disable="1"/>
               </assist>
               <?renderCache.bounds 573163 15166 0 0 1417 1417 0 0?></draw>
            <field name="btnFinalizeBottom" w="28.575mm" h="6.35mm" relevant="-print">
               <ui>
                  <button highlight="inverted"/>
               </ui>
               <font typeface="Myriad Pro"/>
               <caption>
                  <value>
                     <text>Finalize</text>
                  </value>
                  <para vAlign="middle" hAlign="center"/>
                  <font typeface="Myriad Pro" size="8pt"/>
               </caption>
               <border hand="right">
                  <?templateDesigner StyleID apbx2?>
                  <edge stroke="raised"/>
                  <fill>
                     <color value="212,208,200"/>
                  </fill>
               </border>
               <bind match="none"/>
               <event activity="click" name="event__click">
                  <script contentType="application/x-javascript">var cDrugApplModel=script.DrugAppl.model.DrugApplMain;
var cCommon = script.DrugAppl.model.Common;
var language = cDrugApplModel.getLanguage();
var cDateUtil = script.core.util.DateUtil;
var date = new Date();
var cLog = script.core.util.Log;

cCommon.formValidationAndLock(this);

if(this.access == "readOnly"){
this.parent.parent.sfCertification.signatureOption.presence="visible";
this.parent.parent.sfCertification.ddtDate.presence="visible";
this.parent.parent.sfCertification.Rectangle1.presence="visible";
this.parent.parent.sfCertification.Rectangle2.presence="visible";
cLog.trace("Finalized button start readOnly 11111");
DrugAppl.sfPage1.sfFormButtons.btnModifyBottom.access="open";

//DrugAppl.sfPage1.sfFormButtons.btnModifyBottom.access = "open";

if (language == "en") {
		this.resolveNode("DrugAppl.#pageSet[0].Page1.txtFinalizeDate").rawValue = "Date Finalized " + cDateUtil.toDateString(date);
		//DrugAppl.#pageSet[0].Page1.txtFinalizeDate
	} else {
		this.resolveNode("#pageSet.Page1.txtFinalizeDate").rawValue = "Date finalisée " + cDateUtil.toDateString(date);
	}
}
</script>
               </event>
            </field>
            <draw name="txtEmpty" w="3.175mm" h="6.35mm">
               <ui>
                  <textEdit/>
               </ui>
               <font typeface="Myriad Pro"/>
               <margin topInset="0.5mm" bottomInset="0.5mm" leftInset="0.5mm" rightInset="0.5mm"/>
               <assist>
                  <speak disable="1"/>
               </assist>
               <?renderCache.bounds 6166 15166 0 0 1417 1417 0 0?></draw>
            <field name="btnModifyBottom" w="28.575mm" h="6.35mm" relevant="-print">
               <ui>
                  <button highlight="inverted"/>
               </ui>
               <font typeface="Myriad Pro"/>
               <caption>
                  <value>
                     <text>Modify</text>
                  </value>
                  <para vAlign="middle" hAlign="center"/>
                  <font typeface="Myriad Pro" size="8pt"/>
               </caption>
               <border hand="right">
                  <?templateDesigner StyleID apbx2?>
                  <edge stroke="raised"/>
                  <fill>
                     <color value="212,208,200"/>
                  </fill>
               </border>
               <bind match="none"/>
               <event activity="click" name="event__click">
                  <script contentType="application/x-javascript">
var cCommon = script.DrugAppl.model.Common;
var cLog = script.core.util.Log;


cCommon.makeEditable();

this.resolveNode("#pageSet.Page1.txtFinalizeDate").rawValue = "";
this.parent.parent.sfCertification.signatureOption.presence="hidden";
this.parent.parent.sfCertification.signatureOption.rawValue="";
this.parent.parent.sfCertification.digSignature.presence="hidden";
this.parent.parent.sfCertification.Rectangle1.presence="hidden";
this.parent.parent.sfCertification.Rectangle2.presence="hidden";
this.parent.parent.sfCertification.ddtDate.presence="hidden";
this.parent.parent.sfCertification.imgSignature.presence="hidden";
</script>
               </event>
               <event activity="ready" ref="$layout" name="event__layout_ready">
                  <script contentType="application/x-javascript">


if(this.parent.parent.sfCertification.ddtDate.rawValue==null){

if(btnFinalizeBottom.access == "open"){
this.access = "readOnly";
this.fillColor = "230,230,230";
}

if(btnFinalizeBottom.access == "readOnly"){
this.access = "open";
this.fillColor = "212,208,200";
}
}
</script>
               </event>
            </field>
            <?templateDesigner expand 1?></subform>
         <variables>
            <script contentType="application/x-javascript" name="countryScript">
// This script object controls the interaction between the country and state/province Drop-down lists.

// The array contains the country and the corresponding states/provinces.

var myCountries = new Array(new Array(2), new Array(14), new Array(52)); // Create a two-dimensional array.
var cLog = script.core.util.Log;														   				 // For each country, add a 'new Array(number of state/province +1)'.
var cDrugApplModel=script.DrugAppl.model.DrugApplMain;

// Define the country and the corresponding states/provinces.
// The array syntax is arrayName[index][index].
// The first index number represents the country,
// the second index number is the actual data value.

myCountries[0][0] = " ";		// The first items in the Drop-dowm Lists should be blank.
myCountries[0][1] = " ";
myCountries[1][0] = "Canada";	// The first data value is the country name,
myCountries[1][1] = "Alberta";	// the rest are states/provinces.
myCountries[1][2] = "British Columbia";
myCountries[1][3] = "Manitoba";
myCountries[1][4] = "New Brunswick";
myCountries[1][5] = "Newfoundland and Labrador";
myCountries[1][6] = "Northwest Territories";
myCountries[1][7] = "Nova Scotia";
myCountries[1][8] = "Nunavut";
myCountries[1][9] = "Ontario";
myCountries[1][10] = "Prince Edward Island";
myCountries[1][11] = "Quebec";
myCountries[1][12] = "Saskatchewan";
myCountries[1][13] = "Yukon";
myCountries[2][0] = "United States";	// This is a new country, see how the first number is now [1].
myCountries[2][1] = "Alabama";
myCountries[2][2] = "Alaska";
myCountries[2][3] = "Arizona";
myCountries[2][4] = "Arkansas";
myCountries[2][5] = "California";
myCountries[2][6] = "Colorado";
myCountries[2][7] = "Connecticut";
myCountries[2][8] = "Delaware";
myCountries[2][9] = "District of Columbia";
myCountries[2][10] = "Florida";
myCountries[2][11] = "Georgia";
myCountries[2][12] = "Hawaii";
myCountries[2][13] = "Idaho";
myCountries[2][14] = "Illinois";
myCountries[2][15] = "Indiana";
myCountries[2][16] = "Iowa";
myCountries[2][17] = "Kansas";
myCountries[2][18] = "Kentucky";
myCountries[2][19] = "Louisiana";
myCountries[2][20] = "Maine";
myCountries[2][21] = "Maryland";
myCountries[2][22] = "Massachusetts";
myCountries[2][23] = "Michigan";
myCountries[2][24] = "Minnesota";
myCountries[2][25] = "Mississippi";
myCountries[2][26] = "Missouri";
myCountries[2][27] = "Montana";
myCountries[2][28] = "Nebraska";
myCountries[2][29] = "Nevada";
myCountries[2][30] = "New Hampshire";
myCountries[2][31] = "New Jersey";
myCountries[2][32] = "New Mexico";
myCountries[2][33] = "New York";
myCountries[2][34] = "North Carolina";
myCountries[2][35] = "North Dakota";
myCountries[2][36] = "Ohio";
myCountries[2][37] = "Oklahoma";
myCountries[2][38] = "Oregon";
myCountries[2][39] = "Pennsylvania";
myCountries[2][40] = "Rhode Island";
myCountries[2][41] = "South Carolina";
myCountries[2][42] = "South Dakota";
myCountries[2][43] = "Tennessee";
myCountries[2][44] = "Texas";
myCountries[2][45] = "Utah";
myCountries[2][46] = "Vermont";
myCountries[2][47] = "Virginia";
myCountries[2][48] = "Washington";
myCountries[2][49] = "West Virginia";
myCountries[2][50] = "Wisconsin";
myCountries[2][51] = "Wyoming";

function validateDateValue(field) {
	
		cLog.info("... date rawValue: "+field.rawValue);
		
		var language = cDrugApplModel.getLanguage();
		
		var regExp1 = /^(0?[1-9]|[12][0-9]|3[01])[\/\-](0?[1-9]|1[012])[\/\-]\d{4}$/; // DD/MM/YYYY(DD-MM-YYYY)
		var regExp2 = /^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])$/; // YYYY/MM/DD(YYYY-MM-DD)
		var regExpA = /^\d+\-\d+\-\d+$/; 
		var regExpB = /^\d+\/\d+\/\d+$/; 
		var regExpC = /^(0[1-9]|[12]\d|3[01])(0[1-9]|1[012])\d{4}$/;
		var regExpD = /^\d{4}(0?[1-9]|1[012])(0?[1-9]|[12][0-9]|3[01])$/;
		var regExpE = /(\d{2})/ig;

		var noChars = false;
		
		var year = null;
	    var month = null;
	    var day   = null;
		
		if (field.rawValue.toString().length &lt; 8) {
			cLog.trace ("yymmdd");
			if (language == "en") {
		      noChars = true;
		      //cLog.trace ("EXECUTE IF 1 english...........................");
		      xfa.host.messageBox ( "Date must be in one of the following formats: YYYY-MM-DD or YYYY/MM/DD", "Invalid Date Format", 3, 1);
		      xfa.host.setFocus(field);
		    }
		    else {
		       noChars = true;
		       //cLog.trace ("EXECUTE IF 2 english...........................");
		       xfa.host.messageBox( "La date doit être dans l'un des formats suivants: AAAA-MM-JJ ou AAAA/MM/JJ", "Format de date invalide", 3, 1);
		       xfa.host.setFocus(field);
		    }
			return;
		}
		
		if ( regExpD.test(field.rawValue) ) {
			cLog.trace ("yyyymmdd");
			
			var dateStr = field.rawValue.toString();
			
			year = dateStr .substr(0,4);
			month = dateStr .substr(4,2);
			day = dateStr .substr(6,2);
			
			cLog.trace ("year: "  + year);
			cLog.trace ("month: " + month);
			cLog.trace ("day: "   + day);
			
			if (parseInt(year) &lt; 1900) {
			
				if (noChars == false) {
		           if (language == "en") {
		              cLog.trace("INCORRECT date!!!!!!!!!!!!!!!!");
		              xfa.host.messageBox("Invalid Day, Month, or Year range. Please correct and submit again.", "Invalid Date", 3, 1); 
		              xfa.host.setFocus(field);	
		           }
		           else {
		              xfa.host.messageBox ("Journée Blancs, Mois, ou Année gamme. S'il vous plaît corriger et soumettre à nouveau", "Date non Valide", 3, 1);
		              xfa.host.setFocus(field);
		           }
		         }
			
			}
			
			if (! (year.isNull || month.isNull || day.isNull) ) {
		    var date  = new Date(year, month - 1, day) ;
		    
		    cLog.trace ("Expression 3: year: " + year + " month: " + month + " day: " + day);
		    
		    if ((date.getMonth()+1 != month) ||
		        (date.getDate()    != day )  ||
		        (date.getFullYear()!= year)) {	
		        
		        if (noChars == false) {
		           if (language == "en") {
		              cLog.trace("INCORRECT date!!!!!!!!!!!!!!!!");
		              xfa.host.messageBox("Invalid Day, Month, or Year range. Please correct and submit again.", "Invalid Date", 3, 1); 	
		              xfa.host.setFocus(field);
		           }
		           else {
		              xfa.host.messageBox ("Journée Blancs, Mois, ou Année gamme. S'il vous plaît corriger et soumettre à nouveau", "Date non Valide", 3, 1);
		              xfa.host.setFocus(field);
		           }
		         }
		            		
				}
			else { 
		 	   cLog.trace("Correct date");
		 	   return null;
			} 
		} else {
			xfa.host.messageBox ("Error: Date is NULL.");
		}
			return;
		} 
		
		
		
		if ( regExpC.test(field.rawValue) ) {
			cLog.trace ("ddmmyyyy");
			if (language == "en") {
		      //noChars = true;
		      //cLog.trace ("EXECUTE IF 1 english...........................");
		      xfa.host.messageBox ( "Date must be in one of the following formats: YYYY-MM-DD or YYYY/MM/DD", "Invalid Date Format", 3, 1);
		      xfa.host.setFocus(field);
		    }
		    else {
		       //noChars = true;
		       //cLog.trace ("EXECUTE IF 2 english...........................");
		       xfa.host.messageBox( "La date doit être dans l'un des formats suivants: AAAA-MM-JJ ou AAAA/MM/JJ", "Format de date invalide", 3, 1);
		       xfa.host.setFocus(field);
		    }
			return;
		} 
		else {
			cLog.trace ("BNOPPSPSPPSPSPSPSPSP");
		
		}
		var splitChar = "-";
		if ( regExpA.test(field.rawValue) ) {
			splitChar = "-";
			cLog.trace ("char -");
		} else if ( regExpB.test(field.rawValue) ){
			splitChar = "/";
			cLog.trace ("char /");
		} else {
		
		    if (language == "en") {
		      noChars = true;
		      cLog.trace ("EXECUTE IF 1 english...........................");
		      xfa.host.messageBox ( "Date must be in one of the following formats: YYYY-MM-DD or YYYY/MM/DD", "Invalid Date Format", 3, 1);
		      xfa.host.setFocus(field);
		    }
		    else {
		       noChars = true;
		       cLog.trace ("EXECUTE IF 2 english...........................");
		       xfa.host.messageBox( "La date doit être dans l'un des formats suivants: AAAA-MM-JJ ou AAAA/MM/JJ", "Format de date invalide", 3, 1);
		       xfa.host.setFocus(field);
		    }
			
		}
		
		year = null;
	    month = null;
	    day   = null;
	
		if ( regExp1.test(field.rawValue) )	{ //(DD-MM-YYYY)
			if (!(field.isNull || field.rawValue == "")) {
				year  = field.rawValue.split(splitChar)[2] ;
			    month = field.rawValue.split(splitChar)[1] ;
			    day   = field.rawValue.split(splitChar)[0] ;
			    
			    cLog.trace ("Expression 1: year: " + year + " month: " + month + " day: " + day);
			}
		} else if ( regExp2.test(field.rawValue) ) { //(YYYY-MM-DD)
			if (!(field.isNull || field.rawValue == "")) {
				year  = field.rawValue.split(splitChar)[0] ;
			    month = field.rawValue.split(splitChar)[1] ;
			    day   = field.rawValue.split(splitChar)[2] ;
			    
			    cLog.trace ("Expression 2: year: " + year + " month: " + month + " day: " + day);
			}	
		} else {
		
		   if (noChars == false) {
		        cLog.trace ("EXECUTE IF 2...........................");
		     	if (language == "en") {
		        	xfa.host.messageBox("Invalid Day, Month, or Year range. Please correct and submit again.", "Invalid Date", 3, 1);
		        	xfa.host.setFocus(field);
		        
		     	}
		     
		     	else {
		       		xfa.host.messageBox ("Journée Blancs, Mois, ou Année gamme. S'il vous plaît corriger et soumettre à nouveau", "Date non Valide", 3, 1);
		       		xfa.host.setFocus(field);
		        
		     	}
		   }
				
		}
		
			    
		if (! (year.isNull || month.isNull || day.isNull) ) {
		
		    var date  = new Date(year, month - 1, day) ;
		    
		    cLog.trace ("Expression 3: year: " + year + " month: " + month + " day: " + day);
		    
		    if ((date.getMonth()+1 != month) ||
		        (date.getDate()    != day )  ||
		        (date.getFullYear()!= year)) {	
		        
		        if (noChars == false) {
		           if (language == "en") {
		              cLog.trace("INCORRECT date!!!!!!!!!!!!!!!!");
		              xfa.host.messageBox("Invalid Day, Month, or Year range. Please correct and submit again.", "Invalid Date", 3, 1); 	
		              xfa.host.setFocus(field);
		           }
		           else {
		              xfa.host.messageBox ("Journée Blancs, Mois, ou Année gamme. S'il vous plaît corriger et soumettre à nouveau", "Date non Valide", 3, 1);
		              xfa.host.setFocus(field);
		           }
		         }
		            		
				}
			else { 
		 	   cLog.trace("Correct date");
		 	   return null;
			} 
		} else {
			xfa.host.messageBox ("Error: Date is NULL.");
		}
	
}
// This function will populate the country Drop-down List.
// This function is called from the initialize event of the country Drop-down List.

function getCountries(dropdownField)
{
   dropdownField.clearItems();
   for (var i=0; i &lt; myCountries.length; i++)
      dropdownField.addItem(myCountries[i][0]);
}

// This function will populate the state/province Drop-down List for any event EXCEPT the change event. 
// This function is called by the initialize event of the state/province Drop-down List.

function getStates(countryField, dropdownField)
{                                              
   dropdownField.clearItems(); 							// Clear the items of the Drop-down List.
   for (var i=0; i &lt; myCountries.length; i++) 			// Look through all the countries until we find the one that matches the country selected.
      if(myCountries[i][0] == countryField.rawValue) 	// Check to see if they match.
      {
	     for (var j=1; j &lt; myCountries[i].length; j++) 	// When they match, add the states/provinces to the Drop-down List.
		 {
		    dropdownField.addItem(myCountries[i][j]);
	  	 }
	  }
}

// This function will populate the state/province Drop-down List for the change event. 
// This function is called by the change event of the country Drop-down List.
// The first parameter is simply a pointer to the xfa object model.

function getStatesOther(myXfa, dropdownField) 
{                                              
   dropdownField.clearItems();							// Clear the items of the Drop-down list.
   for (var i=0; i &lt; myCountries.length; i++)			// Look through all the countries until we find the one that matches the country selected.
      if(myCountries[i][0] == myXfa.event.newText)		// Check to see if they match. Note: we have to use the event.newText in this case because
	  {                                            		// the change hasn't been committed yet.
	     for (var j=1; j &lt; myCountries[i].length; j++) 	// When they match, add the states/provinces to the Drop-down List.
		 {
		    dropdownField.addItem(myCountries[i][j]);
 		 }
	  }
}

// Weiquan version
function isValidEmail(strEmail){
  validRegExp = /^[^@]+@[^@]+.[a-z]{2,}$/i;
  validEmailFlag = false; 
  
  if (strEmail.rawValue != null) {
   // search email text for regular exp matches
    if (strEmail.rawValue.search(validRegExp) != -1){
      validEmailFlag = true ; 
     } 
   }
   return validEmailFlag;
}


/*
function isValidEmail(aString)
{
	    var regExp = /^[a-z0-9_\-\.]+\@[a-z0-9_\-\.]+\.[a-z]+$/i;
	    
		if (regExp.test(aString))
		{
			return true; 
		}
		return false;
	}
*/
</script>
            <?templateDesigner expand 1?></variables>
         <event activity="initialize" name="event__initialize">
            <script contentType="application/x-javascript">var cFormHandler=script.DrugAppl.control.FormHandler;
cFormHandler.initialize();
</script>
         </event>
         <?templateDesigner expand 1?>
      </subform>
      <subform w="203.2mm" h="255.06mm" name="script" presence="hidden">
         <subform usehref="..\Fragments\CoreJavaScript.xdp#som($template.form1.core)" h="0.831333in" x="76.556mm" y="185.654mm" presence="hidden">
            <bind/>
            <?templateDesigner expand 0?>
         </subform>
         <subform w="100mm" h="50mm" name="DrugAppl">
            <subform layout="tb" name="config" w="100mm">
               <keep intact="contentArea"/>
               <variables>
                  <script contentType="application/x-javascript" name="general">
var cLog = script.core.util.Log;


var content = { 

formType: "DrugAppl",
formVersion: "00.01.00",

//Overrides
//NodeValidator_formatValidator: "",
Log_logLevel: cLog.LEVEL_TRACE,
Log_showExceptionDetail: true,
Log_writeToFile: false,

countryNodeName: "ddlCountry", //Used by PostalZipDelegate &amp; ProvinceStateDelegate
postalCodeNodeName: "txtPostalCode", //Used by HandlerUtil
provinceNodeName: "ddlProvince", //Used by HandlerUtil

}
</script>
                  <?templateDesigner expand 1?></variables>
               <bind match="none"/>
               <?templateDesigner expand 1?></subform>
            <subform layout="tb" name="control" w="100mm">
               <keep intact="contentArea"/>
               <variables>
                  <script contentType="application/x-javascript" name="FormHandler">

/** Global Variables **/

var cFormNodeManager = script.core.model.FormNodeManager;
var cResourceManager = script.core.lang.ResourceManager;
var cDrugApplModel=script.DrugAppl.model.DrugApplMain;


var cLog = script.core.util.Log;
var cException = script.core.util.Exception;
//action Global
var LANGUAGE_CHANGE="language_change";


var SCRIPT_OBJECT_NAME="FormHandler";




/*
* actionPerformed- central event handler for the overall form functionality
*
*
*/
function actionPerformed(anEvent)
{
	switch(anEvent.getActionCommand())
	{
		case LANGUAGE_CHANGE:
			cLog.trace("start actionPerfomed in FormHandler ++++++++++++++++++");
			cDrugApplModel.setLanguage(anEvent.getSource().rawValue);
			_updateFormLanguage();
			break;
		default:
			throw cException.createInstance(SCRIPT_OBJECT_NAME
				  + ".actionPerformed() - unrecognized event '" 
				  + anEvent.getActionCommand() + "'.", "UnsupportedAction");
	}
}



/*
* Initializes the form to it's default state
*
*
*
*/
function initialize(){
		
	
	_updateFormLanguage();	
	
}







/********* Private functions *****/
function _updateFormLanguage()
{
	cResourceManager.setCurrentLanguage(cDrugApplModel.getLanguage());
	cFormNodeManager.getBaseNode().updateUI();
}
</script>
                  <?templateDesigner expand 1?></variables>
               <bind match="none"/>
               <?templateDesigner expand 1?></subform>
            <subform h="50mm" name="model" w="100mm">
               <variables>
                  <script contentType="application/x-javascript" name="DrugApplMain">

var cFormNodeManager = script.core.model.FormNodeManager;
var cResourceManager = script.core.lang.ResourceManager;
var cConfigManager=script.core.util.ConfigurationManager;
var cTypeEnforcer=script.core.util.TypeEnforcer;
var cControllerUtil = script.core.util.ControllerUtil;

var initialized = false;


var LANGUAGE_NODE;
//var FINALIZED_FORM_NODE;
//var SUBMISSION_TYPE_NODE;
var YES="Y";


var SCRIPT_OBJECT_NAME="InstructionsHandler";



function getLanguage()
{
	if (!initialized)
	{
		_initialize();
	}
	return LANGUAGE_NODE.rawValue;
}

function setLanguage(langValue)
{
	if (!initialized)
	{
		_initialize();
	}
	LANGUAGE_NODE.rawValue=langValue;
}

function getSubType()
{
	if (!initialized)
	{
		_initialize();
	}
	//return  SUBMISSION_TYPE_NODE.rawValue;
}

function setSubType(langValue)
{
	if (!initialized)
	{
		_initialize();
	}
		//TO DO Check for valid submission type values?
	 //SUBMISSION_TYPE_NODE.rawValue=langValue;
}



/*Function to determine if the form has been finalized or not
*
*	@returns- boolean, true if the form has been finalized
*
*/

/*function isFinalized(){
	if (!initialized)
	{
		_initialize();
	}
	 if(FINALIZED_FORM_NODE.getNodeInstance().rawValue===YES){
	 
	 	return true;
	 }
	 return false;
}
*/


/**
 * Describes this object. This is implemented in all objects since their
 * toString() cannot be overridden!
 * @return the description of this object.
 */
function asString()
{		
	var bufferArray = []; // Array used to simplify comma delimiting.

	bufferArray[bufferArray.length] = "language = " + getLanguage();
	//bufferArray[bufferArray.length] = "finalized = " + isFinalized();
	bufferArray[bufferArray.length] = "submission Type = " +  getSubType();
			
	return "DrugAppl[" + bufferArray.join(", ") + "]";		
}





/********PRIVATE METHODS START HERE*****/

/*
* Private function to initalize model values for the form
*
*/

function _initialize(){

	
	 var languageFormNode=cFormNodeManager.getFormNodeForKey("languageChoice");
	 								  
	 cControllerUtil.checkFormNode(languageFormNode,"form",
									  "languageFormNode");
	
	 
	 LANGUAGE_NODE=languageFormNode.getNodeInstance();
	 
								
	initialized=true;
}//end _initialize
</script>
                  <script contentType="application/x-javascript" name="Common">

var cFormatValidator = script.core.validation.BasicFormatValidator;
var cResourceManager = script.core.lang.ResourceManager;
var cLog = script.core.util.Log;
var CREDIT_CARD = "creditcardnumber";
var MONETARY = "monetary";
var DMF_NUMBER= "dmfNumber";
var CUSTOMER_ACCOUNT = "customerAcctNum"; 
var DATE_FIELD = "dateValue";
var cDrugApplModel=script.DrugAppl.model.DrugApplMain;
var cFormNodeManager = script.core.model.FormNodeManager;
var cGlobalRequirement = script.core.validation.GlobalRequirement;

function isFilled(testField) {
     if ((testField.rawValue != null &amp;&amp; testField.rawValue.toString().replace(/\s/g, "").length != 0)) {
         testField.fillColor = "255,255,255";
     }
 }
 function companyIDValidation(companyIDField) {
     if ((companyIDField.rawValue != null &amp;&amp; companyIDField.rawValue != "")) {
         var reg = /^\d{5}$/;
         var companyID = companyIDField.rawValue;
         if (reg.test(companyID) == false) {
             if (cDrugApplModel.getLanguage() == "en") {
                 app.alert("The Customer/Client Account Number must contain 5 digits");
                 return 1;
             } else {
                 app.alert("Le numéro du client est composé de 5 chiffres");
                 return 1;
             }
             companyIDField.fillColor = "250,128,114";
         } else {
             companyIDField.fillColor = "255,255,255";
         }
     }
     
     return 0;
 }
 
function validateField(field, fieldType) {
	try
	{
		// set up event object
		var validationResult = null;
		if( field.rawValue != null ) {
			switch(fieldType) {
			case CREDIT_CARD:
				validationResult = _validateCreditCard(field);
				break;
			case MONETARY :
				validationResult = _validateMonetary(field);
				break;	
            case DMF_NUMBER :
				//cLog.trace("DMF_NUMBER validation +++++++++ 0");
				validationResult = _validateDMFNumber(field);
				break;
            case CUSTOMER_ACCOUNT :
				//cLog.trace("CUSTOMER_ACCOUNT validation +++++++++ 1");
				validationResult = _validateCustomerAccount(field);
				//cLog.trace("CUSTOMER_ACCOUNT  +++++++++ 2" + validationResult); 
				break;
			 case DATE_FIELD :
				//cLog.trace("CUSTOMER_ACCOUNT validation +++++++++ 1");
				validationResult = _validateDateField(field);
				//cLog.trace("CUSTOMER_ACCOUNT  +++++++++ 2" + validationResult); 
				break;				
			default: // From Core for email/phone/postcode
				validationResult = cFormatValidator.createInstance().validateFieldFormat(field,fieldType);
			}
			
			if( validationResult != null ) {
				app.alert( validationResult );
				xfa.host.setFocus(field);
			}
		}
		return validationResult; 
	}
	catch(exception)
	{
		cLog.warn("Problem with txtBillingEmail::exit", exception);
	}

}


/**
 * Pattern: /^\d{6}$/;
 * Validates the passed DMF Number.
 * @param aString a String that contains the DMF Number to validate.
 * @return a String containing the error message if there
 * is problem with the format. Null if there were no problems.
*/
function _validateDateField(field)
{

	var reg = /(?:19|20\d{2})\-(?:0[1-9]|1[0-2])\-(?:0[1-9]|[12][0-9]|3[01])/;
	 if (field.rawValue != null &amp;&amp; field.rawValue != "") {
                
        if (reg.test(field.rawValue) == false) {
        	field.fillColor = "250,128,114"; // 250,128,114  17,136,255
        	field.rawValue = "";
            return cResourceManager.get("error_badDateValue");
            
        } else {
            var year = field.rawValue.split("-")[0];
            var month = field.rawValue.split("-")[1];
            var day = field.rawValue.split("-")[2];

            var daysInMonth = _readDaysInMonth(month - 1, year);
            if (day &gt; _readDaysInMonth(month - 1, year)) {
                field.fillColor = "250,128,114"; // 
                field.rawValue = "";
                return cResourceManager.get("error_badDateValue");
            } else {
                field.fillColor = "255,255,255";
            }
        }
    }
}

function _readDaysInMonth(month, year) {
    if (month == 1 &amp;&amp; _isLeapYear(year) == true) return 29;
    else return [31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31][month];
}

function _isLeapYear(year) {
    return ((year % 4 == 0) &amp;&amp; (year % 100 != 0 || year % 400 == 0));
}

/**
 * Pattern: /^\d{6}$/;
 * Validates the passed DMF Number.
 * @param aString a String that contains the DMF Number to validate.
 * @return a String containing the error message if there
 * is problem with the format. Null if there were no problems.
*/
function _validateCustomerAccount(field)
{

	var regExp = /^\d{5}$/;
	    
	if (regExp.test(field.rawValue))
	{
		//cLog.trace("nothing wrong with field " + field.rawValue);
		return null; 
	}
	return cResourceManager.get("error_badCustomerAcctNum");
}


/**
 * Pattern: /^\d{4}-\d{3}$/;
 * Validates the passed DMF Number.
 * @param aString a String that contains the DMF Number to validate.
 * @return a String containing the error message if there
 * is problem with the format. Null if there were no problems.
*/
function _validateDMFNumber(field)
{
var regExp = /^\d{4}\d{3}$/;
	//var regExp = /^\d{4}-\d{3}$/;
	 cLog.trace("field value is " + field.rawValue);   
	if (regExp.test(field.rawValue))
	{
		cLog.trace("nothing wrong with field " + field.rawValue);
		return null; 
	}
	return cResourceManager.get("error_badDMFNumberFormat");
}


/**
 * Pattern: ((4\d{3})|(5[1-5]\d{2})|(6011))( |)?\d{4}(\5\d{4}){2}
 * Validates the passed Credit Card Number.
 * @param aString a String that contains the Credit Card Number to validate.
 * @return a String containing the error message if there
 * is problem with the format. Null if there were no problems.
*/
function _validateCreditCard(field)
{
	var regExp = /((4\d{3})|(5[1-5]\d{2})|(6011))( |)?\d{4}(\5\d{4}){2}/i;
	    
	if (regExp.test(field.rawValue))
	{
		return null; 
	}
	return "Error format with Credit Card Number.";
}

function _validateMonetaryValue(field) {
	// var regExp = ^\$?[0-9]+(,[0-9]{3})*(\.[0-9]{2})?$;
	var regExp = /^\$?(?:\d+|\d{1,3}(?:,\d{3})*)(?:\.\d{1,2}){0,1}$/;

	if (regExp.test(field.rawValue))
	{
		return null; 
	}
	return "Error format with Money Amount.";
}

// usage: someVar.formatMoney(decimalPlaces, symbol, thousandsSeparator, decimalSeparator)
// defaults: (2, "$", ",", ".")
function _validateMonetary(field, places, symbol, thousand, decimal) {
	if (field == null) return null;

	var validationResult = _validateMonetaryValue(field);
	if( validationResult != null ) {
		return validationResult;
	}
	
	var number = new Number(field.rawValue || 0);
	field.rawValue = number.formatMoney();

	return validationResult;
}

/*
Remove non-numeric chars (except decimal point/minus sign):
var price = formatMoney(12345.99); // "$12,345.99"
priceVal = parseFloat(price.replace(/[^0-9-.]/g, '')); // 12345.99
*/
function revertMoneyVaule(value) {
	if (value == null ) return value;
	return parseFloat(value.replace(/[^0-9-.]/g, ''));
}

// Extend the default Number object with a formatMoney() method:
// usage: someVar.formatMoney(decimalPlaces, symbol, thousandsSeparator, decimalSeparator)
// defaults: (2, "$", ",", ".")
Number.prototype.formatMoney = function(places, symbol, thousand, decimal) {
	places = !isNaN(places = Math.abs(places)) ? places : 2;
	symbol = symbol !== undefined ? symbol : "$";
	thousand = thousand || ",";
	decimal = decimal || ".";
	var number = this,
	    negative = number &lt; 0 ? "-" : "",
	    i = parseInt(number = Math.abs(+number || 0).toFixed(places), 10) + "",
	    j = (j = i.length) &gt; 3 ? j % 3 : 0;
	return symbol + negative + (j ? i.substr(0, j) + thousand : "") + i.substr(j).replace(/(\d{3})(?=\d)/g, "$1" + thousand) + (places ? decimal + Math.abs(number - i).toFixed(places).slice(2) : "");
};

// Array Remove - By John Resig (MIT Licensed)
/*Array.prototype.remove = function(from, to) {
  var rest = this.slice((to || from) + 1 || this.length);
  this.length = from &lt; 0 ? this.length + from : from;
  return this.push.apply(this, rest);
};*/
arrayRemove = function(array, from, to) {
  var rest = array.slice((to || from) + 1 || array.length);
  array.length = from &lt; 0 ? array.length + from : from;
  return array.push.apply(array, rest);
};

var displayObjProperties = function(obj){
   var keys = [];
   for(var key in obj){
      // cLog.trace("..#.. Obj Key: &lt;"+key+"&gt;.");
      keys.push(key);
   }
   return keys;
};

/******************** Paul Hu ***************************/
//Control the relationship between Device table and Biological Materal table

var deviceTable = [
//	[{"deviceID": id0, "deviceRow": xxx, "bioMaterialTable": yyy}],
//	[{"deviceID": id0, "deviceRow": xxx, "bioMaterialTable": yyy}],
//	[{"deviceID": id0, "deviceRow": xxx, "bioMaterialTable": yyy}]
];

var _tblDeviceRowInstances = null;
var _tblBioRowInstances = null;

function getTblDeviceRowInstances()
{
	return _tblDeviceRowInstances;
}

function getTblBioRowInstances()
{
	return _tblBioRowInstances;
}

function setTblDeviceRowInstances(value)
{
	_tblDeviceRowInstances = value;
}
function setTblBioRowInstances(value)
{
	_tblBioRowInstances = value;
}


function populateSameField(rowID) {
	for (var i=0; i&lt;deviceTable.length; i++ ) {
		var tmpDevice = deviceTable[i];
		
		if ( tmpDevice.deviceID == rowID.rawValue ) {
			if (tmpDevice.bioMaterialTable != null) {
				tmpDevice.bioMaterialTable.txBioAttributetDeviceName.rawValue = 
					tmpDevice.deviceRow.txtDeviceName.rawValue;
			}
			return tmpDevice;
		}
	}
	
	return null;
}

// Return the device which the Bio Material is added to.
function addMaterialInstanceToArray(materialRowInstance) {
	cLog.trace("*** in addMaterialInstanceToArray 00001, deviceTable.length= "+deviceTable.length);
	
	for (var j=0; j&lt;deviceTable.length; j++ ) {
		var tmpDevice = deviceTable[j];
		cLog.trace("*** in addMaterialInstanceToArray 00002");
		if (tmpDevice.bioMaterialTable == null ) {
			cLog.trace("*** in addMaterialInstanceToArray 00003: j=&lt;"+j+"&gt;.");
			//materialRowInstance.resolveNode("rowID").rawValue = tmpDevice.deviceRow.resolveNode("rowID").rawValue; //Also good !
			materialRowInstance.rowID.rawValue = tmpDevice.deviceRow.rowID.rawValue;
			tmpDevice.bioMaterialTable = materialRowInstance;
			
			cLog.trace("*** in addMaterialInstanceToArray 1: &lt;"+tmpDevice.deviceID+"&gt;.");
			//cLog.trace("*** in addMaterialInstanceToArray 2: &lt;"+tmpDevice.deviceRow.rowID.rawValue+"&gt;.");
			//cLog.trace("*** in addMaterialInstanceToArray 3: &lt;"+tmpDevice.bioMaterialTable.rowID.rawValue+"&gt;.");
			
			return tmpDevice;
		}
	}
	cLog.trace("*** in addMaterialInstanceToArray 00004");
	return null;
}



function setDropDownList(ddl, ddlList) { // ddlList = "script.DrugAppl.resources.pickList_fr.content.licAppTypeList"
	reset(ddl);

    for(var i=0; i&lt;ddlList.length; i++) {
		ddl.addItem(ddlList[i][1], ddlList[i][0]);
    }
}


function printOutSomething(){
	cLog.trace("*** weiquan test output in addMaterialInstanceToArray 00004");
}

function reset(ddl){
	ddl.clearItems();
	ddl.rawValue = ""; 
}

function showRowIds() {
	cLog.trace("1  in showRowIds");
	for (var j=0; j&lt;deviceTable.length; j++) {
		var tmpDevice = deviceTable[j];
		
		if ( tmpDevice.deviceRow != null ) {
			cLog.trace("1  Device.rowID="+tmpDevice.deviceRow.txtDeviceName.rawValue+"; Device.rowID="+tmpDevice.deviceRow.txtDeviceName+".");
		}
		if ( tmpDevice.bioMaterialTable != null ) {
			cLog.trace("2  bioMaterial.rowID="+tmpDevice.bioMaterialTable.rowID.rawValue+".");
		}
	}

	cLog.trace("3  showRowIds finished !!");
}

/**
  Row ID name must be "rowID" for all tables !!!
 */
function addOneRow(parentSubform, tblSubFormName, tblRowInstances, isMainTable) {
	try {
		//parentSubform: this.parent.parent, tblRowInstances: _sfIdetifierTbl, tblSubFormName: "sfIdetifierTbl"
		//var tblRowInstances = this.parent.parent.resolveNode('sfDevicesId._sfIdetifierTbl');  // Also good !!
		//var tblRowInstances = this.parent.parent.resolveNode('_sfIdetifierTbl');	// Also good !!
		//var tblRowInstances = _sfIdetifierTbl;	
		var addedDevice = tblRowInstances.addInstance(1);
		if (xfa.host.version &lt; 8) {
			xfa.form.recalculate(1);
		}
			
		if ( isMainTable == true ) {
			var lastIndex = tblRowInstances.count-2;
			var lastDevice = parentSubform.resolveNode(tblSubFormName+"["+lastIndex +"]");
			
			cLog.trace("...1 addOneRow lastIndex: &lt;"+lastIndex+"&gt;, lastDevice=&lt;"+lastDevice+"&gt;.");
			
			//var lastDevice = _sfIdetifierTbl[lastIndex]; // Error
			addedDevice.resolveNode("rowID").rawValue = genID(lastDevice);
		
			cLog.trace("...2 addOneRow resolveNode(rowID).rawValue: &lt;"+addedDevice.resolveNode("rowID").rawValue+"&gt;.");
		
			addDevice(addedDevice );
		}
		
		cLog.trace("..... addOneRow is finished !!!");
		
		return addedDevice;
	} catch(exception)
	{
		cLog.warn("Problem with Add an Idetifier button::click", exception);
	}
}

function genID(field) {
	if (field== null) return 0;

	var currIdSerialNo = parseInt(field.rowID.rawValue);
	if (isNaN(currIdSerialNo) || currIdSerialNo&lt;0) return 0;
	return ++currIdSerialNo;
}

function addDevice(device) {
	var currDevice = new Object(); //[{"deviceID": id0, "deviceRow": xxx, "bioMaterialTable": yyy}];
	
	var rawValue = device.rowID.rawValue;
	// var rawValue = device.resolveNode("rowID").rawValue; //also good !!
	
	currDevice.deviceID = rawValue; 	
	currDevice.deviceRow = device; 
	currDevice.bioMaterialTable = null; 

	cLog.trace("*** addDevice::"+currDevice.deviceRow.rowID.rawValue+",, "+" deviceTable.length="+deviceTable.length+".");
	
	deviceTable.push(currDevice);
	
	cLog.trace("*** after deviceTable.length="+deviceTable.length+".");
	return currDevice;
}



////whole form validation
function formValidationAndLock(thisNode) {
    var successValidation = true;
    //var correctInput = true;
    for (var nPageCount = 0; nPageCount &lt; xfa.host.numPages; nPageCount++) {
        var oFields = xfa.layout.pageContent(nPageCount, "field");
        var nNodesLength = oFields.length;
        for (var nNodeCount = 0; nNodeCount &lt; nNodesLength; nNodeCount++) {
            if (oFields.item(nNodeCount).presence == "hidden") {
                cLog.info("** hidden ??? Field Name: " + oFields.item(nNodeCount).name);
                continue;

            }
            if (oFields.item(nNodeCount).fillColor === "230,125,125") {

                cLog.info("** Field Name: " + oFields.item(nNodeCount).name);
                successValidation = false; //correctInput = false;
                continue;
            }

            if (oFields.item(nNodeCount).mandatory != "disabled") {
                cLog.info("-- Field Name1: " + oFields.item(nNodeCount).name);

                //if(oFields.item(nNodeCount).rawValue==null || oFields.item(nNodeCount).rawValue==""){
                if (oFields.item(nNodeCount).rawValue == null || oFields.item(nNodeCount).rawValue.toString().replace(/\s/g, "").length == 0
                    || (oFields.item(nNodeCount).name.indexOf("Box") &gt; 0 &amp;&amp; oFields.item(nNodeCount).rawValue == 0)
                    ) {
                    cLog.info("-- Field Name2: " + oFields.item(nNodeCount).name);
                    oFields.item(nNodeCount).fillColor = "230,125,125"; //"17,136,255";
                    successValidation = false;
                } else {
                    oFields.item(nNodeCount).fillColor = "255,255,255";
                    //cLog.info("successValidation = true");
                }

                continue;
            }

            cLog.info("&amp;&amp; Field Name3: " + oFields.item(nNodeCount).name);
        }
    }

    var lange = cDrugApplModel.getLanguage();

    /* if (correctInput == false &amp;&amp; successValidation == true) {
     cRtn = 3;
     // if (cFormNodeManager.getFormNodeForKey("chkEnglish").getNodeInstance().rawValue == "en") {
     if (lange == "en") {
     cRtn = app.alert("Input in blue boxes are incorrect.\n\nDo you like to finalize?", 3, 2, "Incorrect Input");
     }else{
     cRtn = app.alert("Fr_Input in blue boxes are incorrect.\n\nDo you like to finalize?", 3, 2, "Fr_Incorrect Input");
     }
     if (cRtn == 3) {
     return;
     }
     } */


	var cFormNodeManager = script.core.model.FormNodeManager;
	var PAGE1_SF_FN = cFormNodeManager.getFormNodeForKey("sfPage1");
	var cAccessibility = this.resolveNode("script.Accessibility");
	cAccessibility.updateColorErrorsForAccessibility(PAGE1_SF_FN.getNodeInstance().parent);


    if (successValidation == true) {
        cFormNodeManager.getFormNodeForKey("sfInstructionsContent").getNodeInstance().presence = "hidden";
        for (var nPageCount = 0; nPageCount &lt; xfa.host.numPages; nPageCount++) {
            var oFields = xfa.layout.pageContent(nPageCount, "field");
            var nNodesLength = oFields.length;
            for (var nNodeCount = 0; nNodeCount &lt; nNodesLength; nNodeCount++) {
                if (oFields.item(nNodeCount).access == "protected") {
                    continue;
                }
                if ((oFields.item(nNodeCount).name.toLowerCase().indexOf("chkD") == -1) &amp;&amp; (oFields.item(nNodeCount).name.toLowerCase().indexOf("signature") == -1))
                    oFields.item(nNodeCount).access = "readOnly";
                if (oFields.item(nNodeCount).name.indexOf("btn") &gt;= 0) {
                    if (oFields.item(nNodeCount).name == "btnModifyBottom") continue;
                    oFields.item(nNodeCount).fillColor = "230,230,230";
                    //cLog.info("&amp;&amp; Field Name: "+oFields.item(nNodeCount).name);
                }
                //oFields.item(nNodeCount).fillColor = "255,255,255";
            }

        }
        cGlobalRequirement.finalizedSuccessMessage();
        if (cFormNodeManager.getFormNodeForKey("chkEnglish").getNodeInstance().rawValue == "en") {
            //app.alert("The form has been validated and locked for editing. It can now be printed and sent to Health Canada. In order to modify the form, press the \"Modify\" button.");
            app.alert("We strongly encourage you to save the form at this point. Once the form is digitally signed, you will not be able to correct it and you will need to re-input all the information again. Please proceed to signing the form after saving it");
        } else {
            //app.alert("Le formulaire a été validé et verrouiller contre l'édition. Il peut maintenant être imprimé et envoyé à Santé Canada. Pour pouvoir modifier le formulaire, appuyez sur le bouton \"Modifier\".");
            app.alert("Nous vous encourageons fortement à sauvegarder le formulaire à ce point-ci. Une fois que le formulaire est signé électroniquement, vous serez incapable de le corriger et vous aurez à entrer à nouveau toute l'information. Veuillez procéder à la signature du formulaire une fois que vous l'avez sauvegarder.");
        }

    } else {

        // if (cFormNodeManager.getFormNodeForKey("chkEnglish").getNodeInstance().rawValue == "en") {
        cGlobalRequirement.finalizedFailMessage();
    }
}




function makeReadonly() {
    for (var nPageCount = 0; nPageCount &lt; xfa.host.numPages; nPageCount++) {
        var oFields = xfa.layout.pageContent(nPageCount, "field");
        var nNodesLength = oFields.length;
        for (var nNodeCount = 0; nNodeCount &lt; nNodesLength; nNodeCount++) {
            //if(oFields.item(nNodeCount).value == "sfFinalizeButton"){
            //app.alert("The Company ID must contain 6 digits");
            //}
            oFields.item(nNodeCount).access = "readOnly";
        }
    }
}

function makeEditable() {
    for (var nPageCount = 0; nPageCount &lt; xfa.host.numPages; nPageCount++) {
        var oFields = xfa.layout.pageContent(nPageCount, "field");
        var nNodesLength = oFields.length;
        for (var nNodeCount = 0; nNodeCount &lt; nNodesLength; nNodeCount++) {
        	//cLog.trace("&amp;&amp; Field Name: "+oFields.item(nNodeCount).name);
	        if (oFields.item(nNodeCount).access == "readOnly") {
	        	oFields.item(nNodeCount).access = "open";
	        }
	        if(oFields.item(nNodeCount).name.indexOf("btn")&gt;=0){
				oFields.item(nNodeCount).fillColor = "212,208,200";
				 }	        
        }
    }
}


function setAsRequiredField(txtField){

	var companyNameCaption = txtField.caption.value.text.value;
	//cLog.trace("111111" + txtCompanyName.caption.value.text.value);
	txtField.validate.nullTest = "error"; 
	txtField.caption.value.text.value = companyNameCaption + " *";	
}

function setAsOptionField(txtField){
	var companyNameCaption = txtField.caption.value.text.value;
	var lengthStr = txtField.caption.value.text.value.length; 
	txtField.validate.nullTest = ""; 
	//cLog.trace("2222222" + txtCompanyName.caption.value.text.value);
	if (txtField.caption.value.text.value.indexOf(" *") &gt; 0 || txtField.caption.value.text.value.indexOf("*") &gt; 0){
	  txtField.caption.value.text.value = txtField.caption.value.text.value.substr(0,lengthStr - 2);
	 //cLog.trace("33333" + txtCompanyName.caption.value.text.value);
	}

}
</script>
                  <?templateDesigner expand 1?></variables>
               <?templateDesigner expand 1?></subform>
            <subform h="50mm" name="nodeDefinitions" w="100mm">
               <variables>
                  <script contentType="application/x-javascript" name="Part1">	
var content={
		root: {
			somExpression: "xfa.form.DrugAppl",
		},	
		sfPage1: {
			somExpression: "sfPage1",
			parentNodeKey: "root"},

sfDMFAppTitle: {
	somExpression: "sfDMFAppTitle",
	parentNodeKey: "sfPage1"},

sfTxtDMFTitle: {
	somExpression: "sfTxtDMFTitle",
	parentNodeKey: "sfDMFAppTitle"},
	
txtDMFAppTitle: {
	somExpression: "txtDMFAppTitle",
	parentNodeKey: "sfTxtDMFTitle",
	labelKey:	  "txtDMFAppTitleKey"},
	
sfPageLang: {
	somExpression: "sfPageLang",
	parentNodeKey: "sfDMFAppTitle"},
	
languageChoice: {
	somExpression: "pageLanguage",
	parentNodeKey: "sfPageLang"},

chkEnglish: {
	somExpression: "chkEnglish",
	parentNodeKey: "languageChoice"},

chkFrancais: {
	somExpression: "chkFrancais",
	parentNodeKey: "languageChoice"},

sfDMFOA: {
	somExpression: "sfDMFOA",
	parentNodeKey: "sfPage1"},

lblOAIdentification: {
	somExpression: "lblOAIdentification",
	parentNodeKey: "sfDMFOA",
	labelKey:		"lblOAIdentificationKey"},

ddlOADMFType: {
	somExpression: "ddlOADMFType",
	parentNodeKey: "sfDMFOA",
	labelKey:		"ddlOADMFTypeKey"},

	
	
	
txtOADMFName: {
	somExpression: "txtOADMFName",
	parentNodeKey: "sfDMFOA",
	labelKey:		"txtOADMFNameKey"},



txtOADMFNumber: {
	somExpression: "txtOADMFNumber",
	parentNodeKey: "sfDMFOA",
	labelKey:		"txtOADMFNumberKey"},

txtOACustClientAcc: {
	somExpression: "txtOACustClientAcc",
	parentNodeKey: "sfDMFOA",
	labelKey:		"txtOACustClientAccKey"},

sfDMFOwner: {
	somExpression: "sfDMFOwner",
	parentNodeKey: "sfDMFOA"},

sfNameAddress: {
	somExpression: "sfNameAddress",
	parentNodeKey: "sfDMFOwner"},

lblOwnNameAddHeader: {
	somExpression: "lblOwnNameAddHeader",
	parentNodeKey: "sfNameAddress",
	labelKey:		"lblOwnNameAddHeaderKey"},

txtOwnNameAddCompanyName: {
	somExpression: "txtOwnNameAddCompanyName",
	parentNodeKey: "sfNameAddress",
	toolTipKey:	"txtOwnNameAddCompanyNameTT",
	labelKey:		"companyName"},

txtOwnNameAdd: {
	somExpression: "txtOwnNameAdd",
	parentNodeKey: "sfNameAddress",
	toolTipKey:	"txtOwnNameAddTT",
	labelKey:		"streetAddress"},

txtOwnNameAddCity: {
	somExpression: "txtOwnNameAddCity",
	parentNodeKey: "sfNameAddress",
	toolTipKey:	"txtOwnNameAddCityTT",
	labelKey:		"cityTown"},

ddlOwnNameAddCountry: {
	somExpression: "ddlCountry",
	parentNodeKey: "sfNameAddress",
	pickListKey:	"countryList",
	toolTipKey:	"ddlOwnNameAddCountryTT",
	labelKey:		"country"},

ddlOwnNameAddProvince: {
	somExpression: "ddlProvince",
	parentNodeKey: "sfNameAddress",
	toolTipKey:	"ddlOwnNameAddProvinceTT",
	delegate:		"script.core.model.delegate.ProvinceStateDelegate"},


ddlOwnNameAddProvinceText: {
	somExpression: "txtProvince",
	parentNodeKey: "sfNameAddress",
	toolTipKey:	"ddlOwnNameAddProvinceTextTT",
	labelKey:		"provinceState"},
	

txtOwnNameAddPost: {
	somExpression: "txtPostalCode",
	parentNodeKey: "sfNameAddress",
	toolTipKey:	"txtOwnNameAddPostTT",
	labelKey:		"postalCode"},

sfOwnerContact: {
	somExpression: "sfOwnerContact",
	parentNodeKey: "sfDMFOwner"},

lblOwnContactHeader: {
	somExpression: "lblOwnContactHeader",
	parentNodeKey: "sfOwnerContact",
	labelKey:		"lblOwnContactHeaderKey"},

ddlOwnContactSalutation: {
	somExpression: "ddlOwnContactSalutation",
	parentNodeKey: "sfOwnerContact",
	labelKey:		"salutation",
	toolTipKey:	"ddlOwnContactSalutationTT",
	pickListKey:	"salutationList"},

txtOwnContactGivenName: {
	somExpression: "txtOwnContactGivenName",
	parentNodeKey: "sfOwnerContact",
	toolTipKey:	"txtOwnContactGivenNameTT",
	labelKey:		"givenName"},

txtOwnContactInitials: {
	somExpression: "txtOwnContactInitials",
	parentNodeKey: "sfOwnerContact",
	toolTipKey:	"txtOwnContactInitialsTT",
	labelKey:		"nameInitials"},

txtOwnContactSurname: {
	somExpression: "txtOwnContactSurname",
	parentNodeKey: "sfOwnerContact",
	toolTipKey:	"txtOwnContactSurnameTT",
	labelKey:		"surname"},

txtOwnContactTitle: {
	somExpression: "txtOwnContactTitle",
	parentNodeKey: "sfOwnerContact",
	toolTipKey:	"txtOwnContactTitleTT",
	labelKey:		"title"},

ddlOwnContactLang: {
	somExpression: "ddlOwnContactLang",
	parentNodeKey: "sfOwnerContact",
	labelKey:		"language",
	toolTipKey:	"ddlOwnContactLangTT",
	pickListKey:	"languageList"},

txtOwnContactTel: {
	somExpression: "txtOwnContactTel",
	parentNodeKey: "sfOwnerContact",
	toolTipKey:	"txtOwnContactTelTT",
	labelKey:		"telephone"},

txtOwnContactExt: {
	somExpression: "txtOwnContactExt",
	parentNodeKey: "sfOwnerContact",
	toolTipKey:	"txtOwnContactExtTT",
	labelKey:		"extension"},

txtOwnContactFax: {
	somExpression: "txtOwnContactFax",
	parentNodeKey: "sfOwnerContact",
	toolTipKey:	"txtOwnContactFaxTT",
	labelKey:		"faxNumber"},

txtOwnContactEmail: {
	somExpression: "txtOwnContactEmail",
	parentNodeKey: "sfOwnerContact",
	toolTipKey:	"txtOwnContactEmailTT",
	labelKey:		"email",
	//delegate:		"script.core.model.delegate.EmailDelegate"
	},



sfDMFAgent: {
	somExpression: "sfDMFAgent",
	parentNodeKey: "sfDMFOA"},


sfAddressHeader: {
	somExpression: "sfAddressHeader",
	parentNodeKey: "sfDMFAgent"},

lblAgentAddHeader: {
	somExpression: "lblAgentAddHeader",
	parentNodeKey: "sfAddressHeader",
	labelKey:		"lblAgentAddHeaderKey"},

chkSameAgentOwnerAddr: {
	somExpression: "chkSameAgentOwnerAddr",
	parentNodeKey: "sfAddressHeader",
	labelKey:		"sameAsDMFOwnerKey"},
	
sfAddressDetails: {
	somExpression: "sfAddressDetails",
	parentNodeKey: "sfDMFAgent"},

txtAgentAdd: {
	somExpression: "txtAgentAdd",
	parentNodeKey: "sfAddressDetails",
	toolTipKey:	"txtAgentAddTT",
	labelKey:		"streetAddress"},

txtAgentAddCity: {
	somExpression: "txtAgentAddCity",
	parentNodeKey: "sfAddressDetails",
	toolTipKey:	"txtAgentAddCityTT",
	labelKey:		"cityTown"},

ddlAgentAddCountry: {
	somExpression: "ddlCountry",
	parentNodeKey: "sfAddressDetails",
	pickListKey:	"countryList",
	toolTipKey:	"ddlAgentAddCountryTT",
	labelKey:		"country"},

ddlAgentAddProvince: {
	somExpression: "ddlProvince",
	parentNodeKey: "sfAddressDetails",
	toolTipKey:	"ddlAgentAddProvinceTT",
	delegate:		"script.core.model.delegate.ProvinceStateDelegate"},


ddlAgentAddProvinceText: {
	somExpression: "txtProvince",
	parentNodeKey: "sfAddressDetails",
	toolTipKey:	"ddlAgentAddProvinceTextTT",
	labelKey:		"provinceState"},
		
	
txtAgentAddPost: {
	somExpression: "txtPostalCode",
	parentNodeKey: "sfAddressDetails",
	toolTipKey:	"txtAgentAddPostTT",
	labelKey:		"postalCode"},


sfAgentContactHeader: {
	somExpression: "sfAgentContactHeader",
	parentNodeKey: "sfDMFAgent"},

lblAgentContactHeader: {
	somExpression: "lblAgentContactHeader",
	parentNodeKey: "sfAgentContactHeader",
	labelKey: "lblAgentContactHeaderKey"},

chkSameAgentOwnerContact: {
	somExpression: "chkSameAgentOwnerContact",
	parentNodeKey: "sfAgentContactHeader",
	labelKey: "sameAsDMFOwnerKey"},

	
sfAgentContactDetails: {
	somExpression: "sfAgentContactDetails",
	parentNodeKey: "sfDMFAgent"},

txtCertCompanyName: {
	somExpression: "txtCertCompanyName",
	parentNodeKey: "sfAddressDetails",
	toolTipKey:	"txtCertCompanyNameTT",
	labelKey:		"companyName"},
	
ddlAgentContactSalutation: {
	somExpression: "ddlAgentContactSalutation",
	parentNodeKey: "sfAgentContactDetails",
	toolTipKey:	"ddlAgentContactSalutationTT",
	labelKey:		"salutation",
	pickListKey:	"salutationList"},

txtAgentContactGivenName: {
	somExpression: "txtAgentContactGivenName",
	parentNodeKey: "sfAgentContactDetails",
	toolTipKey:	"txtAgentContactGivenNameTT",
	labelKey:		"givenName"},

txtAgentContactInitials: {
	somExpression: "txtAgentContactInitials",
	parentNodeKey: "sfAgentContactDetails",
	toolTipKey:	"txtAgentContactInitialsTT",
	labelKey:		"nameInitials"},

txtAgentContactSurname: {
	somExpression: "txtAgentContactSurname",
	parentNodeKey: "sfAgentContactDetails",
	toolTipKey:	"txtAgentContactSurnameTT",
	labelKey:		"surname"},

txtAgentContactTitle: {
	somExpression: "txtAgentContactTitle",
	parentNodeKey: "sfAgentContactDetails",
	toolTipKey:	"txtAgentContactTitleTT",
	labelKey:		"title"},

ddlAgentContactLang: {
	somExpression: "ddlAgentContactLang",
	parentNodeKey: "sfAgentContactDetails",
	toolTipKey:	"ddlAgentContactLangTT",
	labelKey:		"language",
	pickList: 		"languageList"},

txtAgentContactTel: {
	somExpression: "txtAgentContactTel",
	parentNodeKey: "sfAgentContactDetails",
	toolTipKey:	"txtAgentContactTelTT",
	labelKey:		"telephone"},

txtAgentContactExt: {
	somExpression: "txtAgentContactExt",
	parentNodeKey: "sfAgentContactDetails",
	toolTipKey:	"txtAgentContactExtTT",
	labelKey:		"extension"},

txtAgentContactFax: {
	somExpression: "txtAgentContactFax",
	parentNodeKey: "sfAgentContactDetails",
	toolTipKey:	"txtAgentContactFaxTT",
	labelKey:		"faxNumber"},

txtAgentContactEmail: {
	somExpression: "txtAgentContactEmail",
	parentNodeKey: "sfAgentContactDetails",
	toolTipKey:	"txtAgentContactEmailTT",
	labelKey:		"email",
	//delegate:		"script.core.model.delegate.EmailDelegate"
	},

sfCertification: {
	somExpression: "sfCertification",
	parentNodeKey: "sfPage1"},

lblCertificationHeader: {
	somExpression: "lblCertificationHeader",
	parentNodeKey: "sfCertification",
	labelKey:		"lblCertificationHeaderKey"},

txtUndersigned: {
	somExpression: "txtUndersigned",
	parentNodeKey: "sfCertification",
	labelKey:		"txtUndersignedKey"},





sigAuthorCertification: {
	somExpression: "sigAuthorCertification",
	parentNodeKey: "sfCertification",
	labelKey:		"sigAuthorCertificationKey"},

		signatureOption: {
	somExpression: "signatureOption",
	parentNodeKey: "sfCertification",
	labelKey: "signatureOption"},

chkDigitalID: {
	somExpression: "chkDigitalID",
	parentNodeKey: "signatureOption",
	labelKey: "chkDigitalID"},

chkDigitalImage: {
	somExpression: "chkDigitalImage",
	parentNodeKey: "signatureOption",
	labelKey: "chkDigitalImage"},

digSignature: {
	somExpression: "digSignature",
	parentNodeKey: "sfCertification",
	labelKey: "digSignature"},
imgSignature: {
	somExpression: "imgSignature",
	parentNodeKey: "sfCertification",
	labelKey: "imgSignature"},	
ddtDate: {
	somExpression: "ddtDate",
	parentNodeKey: "sfCertification",
	labelKey:	"ddtDate"},

sfFormButtons: {
	somExpression: "sfFormButtons",
	parentNodeKey: "sfPage1"},

txtUndersignedBottom: {
	somExpression: "txtUndersignedBottom",
	parentNodeKey: "sfFormButtons",
	labelKey:		"txtUndersignedBottomKey"},

btnFinalizeBottom: {
	somExpression: "btnFinalizeBottom",
	parentNodeKey: "sfFormButtons",
	labelKey:		"btnFinalizeKey"},

txtEmpty: {
	somExpression: "txtEmpty",
	parentNodeKey: "sfFormButtons"},

btnModifyBottom: {
	somExpression: "btnModifyBottom",
	parentNodeKey: "sfFormButtons",
	labelKey:		"btnModifyKey"},


sfInstructions: {
	somExpression: "sfInstructions",
	parentNodeKey: "sfPage1"},

sfInstructionBtns: {
	somExpression: "sfInstructionBtns",
	parentNodeKey: "sfInstructions"},

btnViewInstructions: {
	somExpression: "btnViewInstructions",
	parentNodeKey: "sfInstructionBtns",
	labelKey:      "lbShowInstruct"},

Text6: {
	somExpression: "Text6",
	parentNodeKey: "sfInstructionBtns"},

btnHideInstructions: {
	somExpression: "btnHideInstructions",
	parentNodeKey: "sfInstructionBtns",
	labelKey:      "lbHideInstruct"},

txtGuideDocEnglish: {
	somExpression: "txtGuideDocEnglish",
	parentNodeKey: "sfInstructionBtns"},

txtGuideDocFrench: {
	somExpression: "txtGuideDocFrench",
	parentNodeKey: "sfInstructionBtns"},

sfInstructionsContent: {
	somExpression: "sfInstructionsContent",
	parentNodeKey: "sfInstructions"},

lblInstructions_en: {
	somExpression: "lblInstructions_en",
	parentNodeKey: "sfInstructionsContent"},

lblInstructions_fr: {
	somExpression: "lblInstructions_fr",
	parentNodeKey: "sfInstructionsContent"},

}
</script>
                  <?templateDesigner expand 1?></variables>
               <?templateDesigner expand 1?></subform>
            <subform h="50mm" name="resources" w="100mm">
               <variables>
                  <script contentType="application/x-javascript" name="general_en">

var content={

	// Finalize Buttons
	btnFinalizeKey : "Finalize",
	btnModifyKey : "Modify",
	
	// Instructions
	lbHideInstruct:		"Hide Instructions",
	lbShowInstruct:		"Show Instructions",
	//add comma
}
</script>
                  <script contentType="application/x-javascript" name="general_fr">
var content={

		// Finalize Buttons
	btnFinalizeKey : "Finaliser",
	btnModifyKey : "Modifier",
	
	// Instructions
	lbHideInstruct:		"Masquer les instructions",
	lbShowInstruct:		"Afficher les instructions"
}
</script>
                  <script contentType="application/x-javascript" name="Part1Label_en">

var content={

txtDMFAppTitleKey: "Drug Master File (DMF) Application Form", 
lblOAIdentificationKey: "1. DMF OWNER/AGENT", 
ddlOADMFTypeKey: "DMF Type", 
txtOADMFNameKey: "Drug Master File Name", 


txtOADMFNumberKey: "DMF Number (if issued)", 
txtOACustClientAccKey: "Customer/Client Account Number (if issued)", 
lblOwnNameAddHeaderKey: "DMF OWNER NAME AND ADDRESS", 

lblOwnContactHeaderKey: "DMF OWNER CONTACT",
 

lblAgentAddHeaderKey: "DMF AGENT NAME AND ADDRESS", 
lblAgentContactHeaderKey: "DMF AGENT CONTACT", 
sameAsDMFOwnerKey: "Same as DMF Owner",
lblCertificationHeaderKey: "2. CERTIFICATION", 
txtUndersignedKey: "I, the undersigned, certify that the information and material included in this Drug Master File application is accurate and complete", 

sigAuthorCertificationKey: "Name of Authorized Signing Official", 
chkDigitalID:	"Digital ID",
chkDigitalImage:	"Image Signature",
digSignature:	"Signature",
imgSignature:	"Signature",
	ddtDate:	"Date (YYYY-MM-DD)",
txtUndersignedBottomKey: "If the signing official is a third party acting on behalf of the Drug Master File (DMF) Owner, an agent letter of authorization signed by the DMF Owner must be filed with the completed application form.", 

error_badDMFNumberFormat : "Drug Master File (DMF) Number must be of the form 9999-999",
error_badCustomerAcctNum : "Customer/Client Account Number must be 6 numbers",

error_badDateValue: "Please enter Valid Date. Date must be in this format: YYYY-MM-DD", 
}

</script>
                  <script contentType="application/x-javascript" name="Part1Label_fr">
var content={

txtDMFAppTitleKey: "Demande D’enregistrement de Fiche \n Maîtresse de Médicament (FMM)", 
lblOAIdentificationKey: "1. TITULAIRE DE LA FMM OU AGENT AUTORISÉ AUX FINS DE LA FMM", 
ddlOADMFTypeKey: "Type de FMM", 
txtOADMFNameKey: "Nom de la FMM", 

txtOADMFNumberKey: "Numéro de FMM (si attribué)", 
txtOACustClientAccKey: "Numéro de client (si attribué)", 
lblOwnNameAddHeaderKey: "NOM ET ADRESSE DU TITULAIRE DE LA FMM :", 

lblOwnContactHeaderKey: "INFORMATION PERSONNE-RESSOURCE DU TITULAIRE DE LA FMM",
 

lblAgentAddHeaderKey: "NOM ET ADRESSE DE L'AGENT AUTORISÉ AUX FINS DE LA FMM", 
lblAgentContactHeaderKey: "INFORMATION PERSONNE-RESSOURCE DE L'AGENT AUTORISÉ AUX FINS DE LA FMM",
sameAsDMFOwnerKey: "Même que le titulaire de la fiche maîtresse de médicament (FMM)",
 
lblCertificationHeaderKey: "2. ATTESTATION", 
txtUndersignedKey: "Je, soussigné(e), confirme que les renseignements et le matériel joints à la présente demande d'enregistrement de fiche maîtresse de médicament sont exacts et complets.", 

sigAuthorCertificationKey: "Nom du signataire autorisé*", 
	chkDigitalID:	"ID électronique",
chkDigitalImage:	"Image de signature",
digSignature:	"Signature",
imgSignature:	"Signature",
	ddtDate:	"Date (YYYY-MM-JJ)",
txtUndersignedBottomKey: "Si le signataire autorisé est un tiers agissant pour le compte du titulaire de la fiche maîtresse de médicament, ce dernier doit signer également une lettre d'autorisation et la produire en même temps que le formulaire de demande rempli.",

error_badDMFNumberFormat : "Le numéro de la fiche maîtresse de médicament (FMM) doit être saisi dans le format 9999-999.",
error_badCustomerAcctNum : "Le numéro du client est composé de 6 chiffres.",

error_badDateValue: "S'il vous plaît entrez Date de validité. La date doit être au format suivant: AAAA-MM-JJ", 
}
</script>
                  <script contentType="application/x-javascript" name="ToolTip_en">
var content = {
ddlSubmission_tip:	"Please select CTA for an initial submission and CTA-A for amendments to a previously submitted CTA",
txtBrand_tip:	"This name should be consistent with the name provided in Part 1, Section 8 of the HC/SC 3011 form.",
txtProperName_tip:	"This is the product name referenced in HC/SC Food and Drug Regulations and/or technical and scientific journals - For more information access guide as per Link provided at top of form.",
txtITT:	"Please enter you name here",
txtOwnNameAddCompanyNameTT: "DMF OWNER NAME AND ADDRESS - Company Name",
txtOwnNameAddTT:"DMF OWNER NAME AND ADDRESS - Street/Suite/PO Box",
txtOwnNameAddCityTT:"DMF OWNER NAME AND ADDRESS - City - Town",
ddlOwnNameAddCountryTT:"DMF OWNER NAME AND ADDRESS - Country",
ddlOwnNameAddProvinceTT:"DMF OWNER NAME AND ADDRESS - Province",
ddlOwnNameAddProvinceTextTT:"DMF OWNER NAME AND ADDRESS - Province/State",
txtOwnNameAddPostTT:"DMF OWNER NAME AND ADDRESS - Postal/ZIP Code",
ddlOwnContactSalutationTT:"DMF OWNER CONTACT - Salutation",
txtOwnContactGivenNameTT:"DMF OWNER CONTACT - Given Name",
txtOwnContactInitialsTT:"DMF OWNER CONTACT - Initials",
txtOwnContactSurnameTT:"DMF OWNER CONTACT - Surname",
txtOwnContactTitleTT:"DMF OWNER CONTACT - Title",
ddlOwnContactLangTT:"DMF OWNER CONTACT - Language",
txtOwnContactTelTT:"DMF OWNER CONTACT - Telephone No.",
txtOwnContactExtTT:"DMF OWNER CONTACT - Ext.",
txtOwnContactFaxTT:"DMF OWNER CONTACT - Fax No.",
txtOwnContactEmailTT:"DMF OWNER CONTACT - Email",
txtCertCompanyNameTT: "DMF AGENT NAME AND ADDRESS - Company Name",
txtAgentAddTT:"DMF AGENT NAME AND ADDRESS - Street/Suite/PO Box",
txtAgentAddCityTT:"DMF AGENT NAME AND ADDRESS - City - Town",
ddlAgentAddCountryTT:"DMF AGENT NAME AND ADDRESS - Country",
ddlAgentAddProvinceTT:"DMF AGENT NAME AND ADDRESS - Province",
ddlAgentAddProvinceTextTT:"DMF AGENT NAME AND ADDRESS - Province/State",
txtAgentAddPostTT:"DMF AGENT NAME AND ADDRESS - Postal/ZIP Code",
ddlAgentContactSalutationTT:"DMF AGENT CONTACT - Salutation",
txtAgentContactGivenNameTT:"DMF AGENT CONTACT - Given Name",
txtAgentContactInitialsTT:"DMF AGENT CONTACT - Initials",
txtAgentContactSurnameTT:"DMF AGENT CONTACT - Surname",
txtAgentContactTitleTT:"DMF AGENT CONTACT - Title",
ddlAgentContactLangTT:"DMF AGENT CONTACT - Language",
txtAgentContactTelTT:"DMF AGENT CONTACT - Telephone No.",
txtAgentContactExtTT:"DMF AGENT CONTACT - Ext.",
txtAgentContactFaxTT:"DMF AGENT CONTACT - Fax No.",
txtAgentContactEmailTT:"DMF AGENT CONTACT - Email",
}
</script>
                  <script contentType="application/x-javascript" name="ToolTip_fr">
var content = {
ddlSubmission_tip:	"Please select CTA for an initial submission and CTA-A for amendments to a previously submitted CTA",
txtBrand_tip:	"This name should be consistent with the name provided in Part 1, Section 8 of the HC/SC 3011 form.",
txtProperName_tip:	"This is the product name referenced in HC/SC Food and Drug Regulations and/or technical and scientific journals - For more information access guide as per Link provided at top of form.",
txtITT:	"Please enter you name heree",
txtOwnNameAddCompanyNameTT: "NOM ET ADRESSE DU TITULAIRE DE LA FMM - Nom du fabricant/promoteur",
txtOwnNameAddTT:"NOM ET ADRESSE DU TITULAIRE DE LA FMM - Rue/Bureau/C. P.",
txtOwnNameAddCityTT:"NOM ET ADRESSE DU TITULAIRE DE LA FMM - Ville",
ddlOwnNameAddCountryTT:"NOM ET ADRESSE DU TITULAIRE DE LA FMM - Pays",
ddlOwnNameAddProvinceTT:"NOM ET ADRESSE DU TITULAIRE DE LA FMM - Province",
ddlOwnNameAddProvinceTextTT:"NOM ET ADRESSE DU TITULAIRE DE LA FMM - Province/état",
txtOwnNameAddPostTT:"NOM ET ADRESSE DU TITULAIRE DE LA FMM - Code postal/code de zone",
ddlOwnContactSalutationTT:"INFORMATION PERSONNE-RESSOURCE DU TITULAIRE DE LA FMM - Titre de civilité",
txtOwnContactGivenNameTT:"INFORMATION PERSONNE-RESSOURCE DU TITULAIRE DE LA FMM - Prénom",
txtOwnContactInitialsTT:"INFORMATION PERSONNE-RESSOURCE DU TITULAIRE DE LA FMM - Initiales",
txtOwnContactSurnameTT:"INFORMATION PERSONNE-RESSOURCE DU TITULAIRE DE LA FMM - Nom",
txtOwnContactTitleTT:"INFORMATION PERSONNE-RESSOURCE DU TITULAIRE DE LA FMM - Titre de poste",
ddlOwnContactLangTT:"INFORMATION PERSONNE-RESSOURCE DU TITULAIRE DE LA FMM - Langue",
txtOwnContactTelTT:"INFORMATION PERSONNE-RESSOURCE DU TITULAIRE DE LA FMM - Numéro de téléphone",
txtOwnContactExtTT:"INFORMATION PERSONNE-RESSOURCE DU TITULAIRE DE LA FMM - Poste",
txtOwnContactFaxTT:"INFORMATION PERSONNE-RESSOURCE DU TITULAIRE DE LA FMM - Numéro de télécopieur",
txtOwnContactEmailTT:"INFORMATION PERSONNE-RESSOURCE DU TITULAIRE DE LA FMM - Courriel",
txtCertCompanyNameTT: "NOM ET ADRESSE DE L'AGENT AUTORISÉ AUX FINS DE LA FMM - Nom du fabricant/promoteur",
txtAgentAddTT:"NOM ET ADRESSE DE L'AGENT AUTORISÉ AUX FINS DE LA FMM - Rue/Bureau/C. P.",
txtAgentAddCityTT:"NOM ET ADRESSE DE L'AGENT AUTORISÉ AUX FINS DE LA FMM - Ville",
ddlAgentAddCountryTT:"NOM ET ADRESSE DE L'AGENT AUTORISÉ AUX FINS DE LA FMM - Pays",
ddlAgentAddProvinceTT:"NOM ET ADRESSE DE L'AGENT AUTORISÉ AUX FINS DE LA FMM - Province",
ddlAgentAddProvinceTextTT:"NOM ET ADRESSE DE L'AGENT AUTORISÉ AUX FINS DE LA FMM - Province/état",
txtAgentAddPostTT:"NOM ET ADRESSE DE L'AGENT AUTORISÉ AUX FINS DE LA FMM - Code postal/code de zone",
ddlAgentContactSalutationTT:"INFORMATION PERSONNE-RESSOURCE DE L'AGENT AUTORISÉ AUX FINS DE LA FMM - Titre de civilité",
txtAgentContactGivenNameTT:"INFORMATION PERSONNE-RESSOURCE DE L'AGENT AUTORISÉ AUX FINS DE LA FMM - Prénom",
txtAgentContactInitialsTT:"INFORMATION PERSONNE-RESSOURCE DE L'AGENT AUTORISÉ AUX FINS DE LA FMM - Initiales",
txtAgentContactSurnameTT:"INFORMATION PERSONNE-RESSOURCE DE L'AGENT AUTORISÉ AUX FINS DE LA FMM - Nom",
txtAgentContactTitleTT:"INFORMATION PERSONNE-RESSOURCE DE L'AGENT AUTORISÉ AUX FINS DE LA FMM - Titre de poste",
ddlAgentContactLangTT:"INFORMATION PERSONNE-RESSOURCE DE L'AGENT AUTORISÉ AUX FINS DE LA FMM - Langue",
txtAgentContactTelTT:"INFORMATION PERSONNE-RESSOURCE DE L'AGENT AUTORISÉ AUX FINS DE LA FMM - Numéro de téléphone",
txtAgentContactExtTT:"INFORMATION PERSONNE-RESSOURCE DE L'AGENT AUTORISÉ AUX FINS DE LA FMM - Poste",
txtAgentContactFaxTT:"INFORMATION PERSONNE-RESSOURCE DE L'AGENT AUTORISÉ AUX FINS DE LA FMM - Numéro de télécopieur",
txtAgentContactEmailTT:"INFORMATION PERSONNE-RESSOURCE DE L'AGENT AUTORISÉ AUX FINS DE LA FMM - Courriel",
}
</script>
                  <?templateDesigner expand 1?></variables>
               <?templateDesigner expand 1?></subform>
            <subform h="50mm" name="util" w="100mm">
               <variables>
                  <script contentType="application/x-javascript" name="General">
//globals
var cInstanceManagerUtil = script.core.util.InstanceManagerUtil;
var cDrugApplModel=script.DrugAppl.model.DrugApplMain;



/*
*	Generic Instance manager checker. Core does not check if it allowed to add an instance
*	This should really be part of core
*	@param instanceManager- the instanceManager to check
*
*/

function addSubformInstance(instanceManager){
	var createdInstance=null;
	//TO DO check if instance manager exists and is an instanceManager
	if((instanceManager.count&lt;instanceManager.max) || instanceManager.max&lt;0){
		 createdInstance=cInstanceManagerUtil.addInstance(instanceManager);

	}
	return(createdInstance);
}

function removeSpecificSubformInstance(instanceManager,sfInstance){
	
	//TO DO check if instance manager exists and is an instanceManager
	if(instanceManager.count&gt;instanceManager.min){
				cInstanceManagerUtil.removeSpecificInstance(sfInstance);

	}

}


function isValidDate (value) {

  
  var dateRegExp = new RegExp("^([0-9]{4})-([0-9]{2})-([0-9]{2})$");
  
  var isMatch = dateRegExp.exec(value.rawValue);
  
  if (!isMatch) { 
  
       return false;
  }
  
  return true;
  
} 


function validateDate(value) {

    var language = cDrugApplModel.getLanguage();	
    
	if (!(value.isNull || value.rawValue == "")) {
	
		if (isValidDate(value) == false)  {
	
	   		if (language == "en") {
	   		
	   		  xfa.host.messageBox("Date must be in this format: YYYY-MM-DD", "Invalid Date Format", 3, 1);
	   		}
	   		
	   		else {
	   		  xfa.host.messageBox("La date doit être au format suivant: AAAA-MM-JJ", "Format de date invalide", 3, 1);
	   		}
	   		xfa.host.setFocus(value);
	   	
		}
		else {
		
		   var year  = value.rawValue.split("-")[0] ;
	    	var month = value.rawValue.split("-")[1] ;
	    	var day   = value.rawValue.split("-")[2] ;
	    	var date  = new Date(year, month - 1, day) ;
	    
	    	if ((date.getMonth()+1 != month) ||
	    	    (date.getDate()    != day )  ||
	    	    (date.getFullYear()!= year)) {
	        
	             if (language == "en") {
	             	xfa.host.messageBox("Invalid Day, Month, or Year range. Please correct and submit again.", "Invalid Date", 3, 1); 
	             }
	             else {
	                xfa.host.messageBox ("Journée Blancs, Mois, ou Année gamme. S'il vous plaît corriger et soumettre à nouveau", "Date non Valide", 3, 1);
	             }
	      	      
				xfa.host.setFocus(value);	
	       }
			else { 
	 	 	  cLog.trace("Correct date"); 
			 } 
		
		}
		
		
	}
}
	
</script>
                  <?templateDesigner expand 1?></variables>
               <?templateDesigner expand 0?></subform>
            <?templateDesigner expand 0?></subform>
         <subform w="100mm" h="50mm" name="RegulatoryAddresses">
            <subform w="100mm" h="50mm" name="control">
               <variables>
                  <script contentType="application/x-javascript" name="RegulatoryAddressHandler">
//imports
var cLog = script.core.util.Log;


var cControllerUtil = script.core.util.ControllerUtil;
var cResourceManager = script.core.lang.ResourceManager;
var cFormNodeManager = script.core.model.FormNodeManager;
var cInstanceManagerUtil = script.core.util.InstanceManagerUtil; 
var cTypeEnforcer=script.core.util.TypeEnforcer;
var cTypeChecker=script.core.util.TypeChecker;
var cUiUtil=script.core.util.UiUtil;
var cStringUtil=script.core.util.StringUtil;
var cException = script.core.util.Exception;


//Globals
var YES="Yes";
var NO="No";
var COUNTRY_CANADA="CA";


//Handler name
var SCRIPT_OBJECT_NAME=					"RegulatoryAddressHandler";

//Action Globals
var PART1A_COUNTRY_CHANGED_ACTION=		"parta_country_changed";
var PART1B_COUNTRY_CHANGED_ACTION=		"partb_country_changed";




//FORM NODES (FN)

//Part A Form Nodes
var PART1A_MANUFACT_COUNTRY_DDL_FN=cFormNodeManager.getFormNodeForKey("ddlOwnNameAddCountry");
var PART1A_PROVINCE_FN=cFormNodeManager.getFormNodeForKey("ddlOwnNameAddProvince");
var PART1A_POSTAL_CODE_FN=cFormNodeManager.getFormNodeForKey("txtOwnNameAddPost");

//PartB FormNoes
var PART1B_PROVINCE_FN=cFormNodeManager.getFormNodeForKey("ddlAgentAddProvince");
var PART1B_POSTAL_CODE_FN=cFormNodeManager.getFormNodeForKey("txtAgentAddPost");


_initialize();


/* Action Handler
*
*
*
*/
function actionPerformed(anEvent)
{
	switch(anEvent.getActionCommand())
	{
		
		case PART1A_COUNTRY_CHANGED_ACTION:
				_applicantCountryChanged(PART1A_PROVINCE_FN,PART1A_POSTAL_CODE_FN);					
			break;
		case PART1B_COUNTRY_CHANGED_ACTION:
				_applicantCountryChanged(PART1B_PROVINCE_FN,PART1B_POSTAL_CODE_FN);		
			break;
			
		
						
		default:
			throw cException.createInstance(SCRIPT_OBJECT_NAME
				  + ".actionPerformed() - unrecognized event '" 
				  + anEvent.getActionCommand() + "'.", "UnsupportedAction");
	}//switch
}//end fn


/*
* updates the UI based on the submission type that has been selected
*
*
*
*
*/



function initialize(){
	
	
}


/************ Private functions ***************************************/

function _initialize(){

	
}


/*
*	relies on core delegate for updating address and state based on County
*	@param province_formNode- the province droplist to update
*	@param postal_formNode- the postal code textbox to update
*	@returns null
*
*
*
**/
function _applicantCountryChanged(province_formNode,postal_formNode){
	// Update correct labels to province/state and postal/state code and
	// clear the value entered in the postal/state code field
	province_formNode.getNodeInstance().rawValue = " ";
	province_formNode.updateUI();
	postal_formNode.updateUI();
	postal_formNode.getNodeInstance().rawValue = null;	
	
}//end fun






</script>
                  <?templateDesigner expand 1?></variables>
               <subform w="100mm" h="50mm" name="resources">
                  <variables>
                     <script contentType="application/x-javascript" name="addressLabels_en">
var content={


	
	
	companyName:			"Company Name",	
	streetAddress:			"Street/Suite/PO Box",
	cityTown:				"City - Town",
	country:				"Country",
	salutation:				"Salutation",
	givenName:				"Given Name",
	nameInitials:			"Initials",
	surname:				"Surname",
	title:					"Title",
	language:				"Language",
	telephone:				"Telephone No.",
	extension:				"Ext.",
	faxNumber:				"Fax No.",
	email:					"Email",
	postalCode: 			"Postal/ZIP Code",
	
	//add comma if adding more

}

</script>
                     <script contentType="application/x-javascript" name="addressLabels_fr">
var content={


	
	companyName:			"Nom du fabricant/promoteur ",
	streetAddress:			"Rue/Bureau/C. P.",
	cityTown:				"Ville",
	country:				"Pays",
	salutation:				"Titre de civilité",
	givenName:				"Prénom",
	nameInitials:			"Initiales",
	surname:				"Nom",
	title:					"Titre de poste",
	language:				"Langue",
	telephone:				"Numéro de téléphone",
	extension:				"Poste",
	faxNumber:				"Numéro de télécopieur",
	email:					"Courriel",
	
	postalCode: 			"Code postal/code de zone",
	//add comma if adding more

}
</script>
                     <?templateDesigner expand 1?></variables>
                  <?templateDesigner expand 1?></subform>
               <?templateDesigner expand 1?></subform>
            <?templateDesigner expand 0?></subform>
         <breakBefore targetType="pageArea" startNew="1"/>
         <variables>
            <script usehref="..\Fragments\Accessibility.xdp#som($template.form1.script.#variables.Accessibility)"/>
            <?templateDesigner expand 1?></variables>
         <?templateDesigner expand 1?></subform>
      <proto/>
      <desc>
         <text name="version">9.0.0.2.20101008.1.734229</text>
         <text name="title">Drug Master File (DMF) Application Form</text>
         <text name="creator">Health Canada - Sante Canada</text>
      </desc>
      <?templateDesigner Hyphenation excludeInitialCap:1, excludeAllCaps:1, wordCharCnt:7, remainCharCnt:3, pushCharCnt:3?>
      <?templateDesigner expand 1?>
      <?renderCache.subset "Arial Black" 0 0 ISO-8859-1 4 84 21 0003000B000C0024002700290030004400460048004A004C004F00500051005200530055005600570058 ()ADFMacegilmnoprstu?>
      <?renderCache.subset "Myriad Pro" 0 0 ISO-8859-1 4 316 86 00010001000300040009000A000B000D000E000F0010001100120013001400150016001700180019001A001B002100220023002400250026002700280029002A002C002D002E002F00300031003300340035003600370038003A003B004000420043004400450046004700480049004A004C004D004E004F0050005100520053005400550056005700580059005A005B006800CB00CE00CF00D000D200D4  "#()*,-./0123456789:@ABCDEFGHIKLMNOPRSTUVWYZ_abcdefghiklmnopqrstuvwxyz'àçéêèî?>
      <?renderCache.subset "Myriad Pro" 1 0 ISO-8859-1 4 72 18 0001000F001000120013002200240025002600270028002A002E002F0030003300350038 ./12ACDEFGIMNORTW?>
   </subform>
   <?templateDesigner DefaultPreviewDynamic 1?>
   <?originalXFAVersion http://www.xfa.org/schema/xfa-template/2.4/?>
   <?templateDesigner Grid show:1, snap:0, units:0, color:ff8080, origin:(0,0), interval:(125000,125000), objsnap:0, guidesnap:0, pagecentersnap:1209562342?>
   <?templateDesigner Print-PrinterName \\PRNT-WEST\0926-101C-01-CANON5051MFP?>
   <?templateDesigner Print-Copies 1?>
   <?templateDesigner Print-Collate 1?>
   <?templateDesigner Print-PageRange all?>
   <?templateDesigner Print-ProductionPrint 0?>
   <?templateDesigner Print-DuplexingOption simplex?>
   <?templateDesigner DefaultLanguage JavaScript?>
   <?templateDesigner DefaultRunAt client?>
   <?acrobat JavaScript strictScoping?>
   <?PDFPrintOptions embedViewerPrefs 0?>
   <?PDFPrintOptions embedPrintOnFormOpen 0?>
   <?PDFPrintOptions scalingPrefs 0?>
   <?PDFPrintOptions enforceScalingPrefs 0?>
   <?PDFPrintOptions paperSource 0?>
   <?PDFPrintOptions duplexMode 0?>
   <?templateDesigner DefaultPreviewType interactive?>
   <?templateDesigner DefaultPreviewPagination simplex?>
   <?templateDesigner XDPPreviewFormat 20?>
   <?templateDesigner DefaultCaptionFontSettings face:Myriad Pro;size:10;weight:normal;style:normal?>
   <?templateDesigner DefaultValueFontSettings face:Myriad Pro;size:10;weight:normal;style:normal?>
   <?templateDesigner ValidationMessaging allMessagesIndividually?>
   <?templateDesigner FormTargetVersion 28?>
   <?templateDesigner Zoom 124?>
   <?templateDesigner Rulers horizontal:0, vertical:0, guidelines:1, crosshairs:0?>
   <?templateDesigner SaveTaggedPDF 0?>
   <?templateDesigner SavePDFWithEmbeddedFonts 0?>
   <?templateDesigner SavePDFWithLog 0?></template>
<config xmlns="http://www.xfa.org/schema/xci/2.8/">
   <agent name="designer">
      <!--  [0..n]  -->
      <destination>pdf</destination>
      <pdf>
         <!--  [0..n]  -->
         <fontInfo/>
      </pdf>
   </agent>
   <present>
      <!--  [0..n]  -->
      <pdf>
         <!--  [0..n]  -->
         <fontInfo>
            <embed>0</embed>
         </fontInfo>
         <tagged>0</tagged>
         <version>1.7</version>
         <adobeExtensionLevel>3</adobeExtensionLevel>
      </pdf>
      <common>
         <data>
            <adjustData>1</adjustData>
            <xsl>
               <uri/>
            </xsl>
            <outputXSL>
               <uri/>
            </outputXSL>
            <uri/>
         </data>
         <messaging/>
         <locale/>
      </common>
      <script>
         <runScripts>server</runScripts>
         <exclude/>
         <currentPage/>
      </script>
      <cache>
         <renderCache/>
         <macroCache/>
      </cache>
      <incrementalMerge/>
      <copies/>
      <xdp>
         <packets>*</packets>
      </xdp>
   </present>
   <psMap>
      <font typeface="Calibri" psName="Calibri" weight="normal" posture="normal"/>
      <font typeface="Garamond" psName="Garamond-Bold" weight="bold" posture="normal"/>
   </psMap>
   <acrobat>
      <common>
         <validationMessaging>allMessagesIndividually</validationMessaging>
      </common>
   </acrobat>
</config>
<localeSet xmlns="http://www.xfa.org/schema/xfa-locale-set/2.7/">
   <locale desc="English (Canada)" name="en_CA">
      <calendarSymbols name="gregorian">
         <monthNames>
            <month>January</month>
            <month>February</month>
            <month>March</month>
            <month>April</month>
            <month>May</month>
            <month>June</month>
            <month>July</month>
            <month>August</month>
            <month>September</month>
            <month>October</month>
            <month>November</month>
            <month>December</month>
         </monthNames>
         <monthNames abbr="1">
            <month>Jan</month>
            <month>Feb</month>
            <month>Mar</month>
            <month>Apr</month>
            <month>May</month>
            <month>Jun</month>
            <month>Jul</month>
            <month>Aug</month>
            <month>Sep</month>
            <month>Oct</month>
            <month>Nov</month>
            <month>Dec</month>
         </monthNames>
         <dayNames>
            <day>Sunday</day>
            <day>Monday</day>
            <day>Tuesday</day>
            <day>Wednesday</day>
            <day>Thursday</day>
            <day>Friday</day>
            <day>Saturday</day>
         </dayNames>
         <dayNames abbr="1">
            <day>Sun</day>
            <day>Mon</day>
            <day>Tue</day>
            <day>Wed</day>
            <day>Thu</day>
            <day>Fri</day>
            <day>Sat</day>
         </dayNames>
         <meridiemNames>
            <meridiem>AM</meridiem>
            <meridiem>PM</meridiem>
         </meridiemNames>
         <eraNames>
            <era>BC</era>
            <era>AD</era>
         </eraNames>
      </calendarSymbols>
      <datePatterns>
         <datePattern name="full">EEEE, MMMM D, YYYY</datePattern>
         <datePattern name="long">MMMM D, YYYY</datePattern>
         <datePattern name="med">D-MMM-YY</datePattern>
         <datePattern name="short">DD/MM/YY</datePattern>
      </datePatterns>
      <timePatterns>
         <timePattern name="full">h:MM:SS A Z</timePattern>
         <timePattern name="long">h:MM:SS A Z</timePattern>
         <timePattern name="med">h:MM:SS A</timePattern>
         <timePattern name="short">h:MM A</timePattern>
      </timePatterns>
      <dateTimeSymbols>GyMdkHmsSEDFwWahKzZ</dateTimeSymbols>
      <numberPatterns>
         <numberPattern name="numeric">z,zz9.zzz</numberPattern>
         <numberPattern name="currency">$z,zz9.99</numberPattern>
         <numberPattern name="percent">z,zz9%</numberPattern>
      </numberPatterns>
      <numberSymbols>
         <numberSymbol name="decimal">.</numberSymbol>
         <numberSymbol name="grouping">,</numberSymbol>
         <numberSymbol name="percent">%</numberSymbol>
         <numberSymbol name="minus">-</numberSymbol>
         <numberSymbol name="zero">0</numberSymbol>
      </numberSymbols>
      <currencySymbols>
         <currencySymbol name="symbol">$</currencySymbol>
         <currencySymbol name="isoname">CAD</currencySymbol>
         <currencySymbol name="decimal">.</currencySymbol>
      </currencySymbols>
      <typefaces>
         <typeface name="Myriad Pro"/>
         <typeface name="Minion Pro"/>
         <typeface name="Courier Std"/>
         <typeface name="Adobe Pi Std"/>
         <typeface name="Adobe Hebrew"/>
         <typeface name="Adobe Arabic"/>
         <typeface name="Adobe Thai"/>
         <typeface name="Kozuka Gothic Pro-VI M"/>
         <typeface name="Kozuka Mincho Pro-VI R"/>
         <typeface name="Adobe Ming Std L"/>
         <typeface name="Adobe Song Std L"/>
         <typeface name="Adobe Myungjo Std M"/>
      </typefaces>
   </locale>
   <?originalXFAVersion http://www.xfa.org/schema/xfa-locale-set/2.1/?>
   <locale name="fr_CA" desc="French (Canada)">
      <calendarSymbols name="gregorian">
         <monthNames>
            <month>janvier</month>
            <month>février</month>
            <month>mars</month>
            <month>avril</month>
            <month>mai</month>
            <month>juin</month>
            <month>juillet</month>
            <month>août</month>
            <month>septembre</month>
            <month>octobre</month>
            <month>novembre</month>
            <month>décembre</month>
         </monthNames>
         <monthNames abbr="1">
            <month>janv.</month>
            <month>févr.</month>
            <month>mars</month>
            <month>avr.</month>
            <month>mai</month>
            <month>juin</month>
            <month>juil.</month>
            <month>août</month>
            <month>sept.</month>
            <month>oct.</month>
            <month>nov.</month>
            <month>déc.</month>
         </monthNames>
         <dayNames>
            <day>dimanche</day>
            <day>lundi</day>
            <day>mardi</day>
            <day>mercredi</day>
            <day>jeudi</day>
            <day>vendredi</day>
            <day>samedi</day>
         </dayNames>
         <dayNames abbr="1">
            <day>dim.</day>
            <day>lun.</day>
            <day>mar.</day>
            <day>mer.</day>
            <day>jeu.</day>
            <day>ven.</day>
            <day>sam.</day>
         </dayNames>
         <meridiemNames>
            <meridiem>AM</meridiem>
            <meridiem>PM</meridiem>
         </meridiemNames>
         <eraNames>
            <era>av. J.-C.</era>
            <era>ap. J.-C.</era>
         </eraNames>
      </calendarSymbols>
      <datePatterns>
         <datePattern name="full">EEEE D MMMM YYYY</datePattern>
         <datePattern name="long">D MMMM YYYY</datePattern>
         <datePattern name="med">YY-MM-DD</datePattern>
         <datePattern name="short">YY-MM-DD</datePattern>
      </datePatterns>
      <timePatterns>
         <timePattern name="full">HH' h 'MM' min 'SS' s 'Z</timePattern>
         <timePattern name="long">HH:MM:SS Z</timePattern>
         <timePattern name="med">HH:MM:SS</timePattern>
         <timePattern name="short">HH:MM</timePattern>
      </timePatterns>
      <dateTimeSymbols>GaMjkHmsSEDFwWxhKzZ</dateTimeSymbols>
      <numberPatterns>
         <numberPattern name="numeric">z,zz9.zzz</numberPattern>
         <numberPattern name="currency">z,zz9.99 $|(z,zz9.99$)</numberPattern>
         <numberPattern name="percent">z,zz9%</numberPattern>
      </numberPatterns>
      <numberSymbols>
         <numberSymbol name="decimal">,</numberSymbol>
         <numberSymbol name="grouping"> </numberSymbol>
         <numberSymbol name="percent">%</numberSymbol>
         <numberSymbol name="minus">-</numberSymbol>
         <numberSymbol name="zero">0</numberSymbol>
      </numberSymbols>
      <currencySymbols>
         <currencySymbol name="symbol">$</currencySymbol>
         <currencySymbol name="isoname">CAD</currencySymbol>
         <currencySymbol name="decimal">,</currencySymbol>
      </currencySymbols>
      <typefaces>
         <typeface name="Myriad Pro"/>
         <typeface name="Minion Pro"/>
         <typeface name="Courier Std"/>
         <typeface name="Adobe Pi Std"/>
         <typeface name="Adobe Hebrew"/>
         <typeface name="Adobe Arabic"/>
         <typeface name="Adobe Thai"/>
         <typeface name="Kozuka Gothic Pro-VI M"/>
         <typeface name="Kozuka Mincho Pro-VI R"/>
         <typeface name="Adobe Ming Std L"/>
         <typeface name="Adobe Song Std L"/>
         <typeface name="Adobe Myungjo Std M"/>
      </typefaces>
   </locale>
</localeSet>
<xfa:datasets xmlns:xfa="http://www.xfa.org/schema/xfa-data/1.0/">
   <xfa:data xfa:dataNode="dataGroup"/>
</xfa:datasets>
<x:xmpmeta xmlns:x="adobe:ns:meta/" x:xmptk="Adobe XMP Core 5.2-c001 63.139439, 2011/06/07-10:39:26        ">
   <rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
      <rdf:Description xmlns:xmp="http://ns.adobe.com/xap/1.0/" rdf:about="">
         <xmp:MetadataDate>2013-12-09T19:51:12Z</xmp:MetadataDate>
         <xmp:CreatorTool>Adobe LiveCycle Designer 11.0</xmp:CreatorTool>
      </rdf:Description>
      <rdf:Description xmlns:xmpMM="http://ns.adobe.com/xap/1.0/mm/" rdf:about="">
         <xmpMM:DocumentID>uuid:4f625bef-38e5-44a1-ba46-2cb741743c7b</xmpMM:DocumentID>
         <xmpMM:InstanceID>uuid:6692dcf8-05e6-4e9d-9ecc-205bd7b735ea</xmpMM:InstanceID>
      </rdf:Description>
      <rdf:Description xmlns:dc="http://purl.org/dc/elements/1.1/" rdf:about="">
         <dc:format>application/pdf</dc:format>
         <dc:creator>
            <rdf:Seq>
               <rdf:li>Health Canada - Sante Canada</rdf:li>
            </rdf:Seq>
         </dc:creator>
         <dc:title>
            <rdf:Alt>
               <rdf:li xml:lang="x-default">Drug Master File (DMF) Application Form</rdf:li>
            </rdf:Alt>
         </dc:title>
      </rdf:Description>
      <rdf:Description xmlns:pdf="http://ns.adobe.com/pdf/1.3/" rdf:about="">
         <pdf:Producer>Adobe LiveCycle Designer 11.0</pdf:Producer>
      </rdf:Description>
      <rdf:Description xmlns:desc="http://ns.adobe.com/xfa/promoted-desc/" rdf:about="">
         <desc:version rdf:parseType="Resource">
            <rdf:value>9.0.0.2.20101008.1.734229</rdf:value>
            <desc:ref>/template/subform[1]</desc:ref>
         </desc:version>
      </rdf:Description>
   </rdf:RDF>
</x:xmpmeta>
<xfdf xmlns="http://ns.adobe.com/xfdf/" xml:space="preserve">
   <annots/>
</xfdf></xdp:xdp>
